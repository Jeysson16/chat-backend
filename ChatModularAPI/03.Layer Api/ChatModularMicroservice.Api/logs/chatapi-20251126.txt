[2025-11-26 00:08:27.244 -05:00 INF] Ejecutando stored procedure (lista): usp_application_getall {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"37005c23-9437-4b81-91da-4deed6a852cf","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.GetActiveApplications (ChatModularMicroservice.Api)","RequestId":"0HNHCK0F3E18L:00000002","RequestPath":"/api/v1/aplicaciones/activas","ConnectionId":"0HNHCK0F3E18L"}
[2025-11-26 00:08:27.730 -05:00 ERR] Connection id "0HNHCK0F3E18M", Request id "0HNHCK0F3E18M:00000002": An unhandled exception was thrown by the application. {"EventId":{"Id":13,"Name":"ApplicationError"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel","RequestId":"0HNHCK0F3E18M:00000002","RequestPath":"/api/v1/empresas/activas"}
System.InvalidOperationException: Unable to resolve service for type 'ChatModularMicroservice.Repository.IEmpresaRepository' while attempting to activate 'ChatModularMicroservice.Api.Services.EmpresaServiceAdapter'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at lambda_method131(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
[2025-11-26 00:08:27.899 -05:00 INF] Obteniendo configuración para aplicación: 7 {"SourceContext":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController","ActionId":"327079f2-bda0-4d0e-aae5-cfb6685c7824","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracion (ChatModularMicroservice.Api)","RequestId":"0HNHCK0F3E18N:00000002","RequestPath":"/api/v1/configuracion-aplicacion/7","ConnectionId":"0HNHCK0F3E18N"}
[2025-11-26 00:08:27.906 -05:00 INF] Obteniendo configuración para aplicación: 7 {"SourceContext":"ChatModularMicroservice.Domain.ConfiguracionAplicacionUnificadaService","ActionId":"327079f2-bda0-4d0e-aae5-cfb6685c7824","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracion (ChatModularMicroservice.Api)","RequestId":"0HNHCK0F3E18N:00000002","RequestPath":"/api/v1/configuracion-aplicacion/7","ConnectionId":"0HNHCK0F3E18N"}
[2025-11-26 00:08:27.912 -05:00 INF] Ejecutando stored procedure (lista): usp_application_getbyid {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"327079f2-bda0-4d0e-aae5-cfb6685c7824","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracion (ChatModularMicroservice.Api)","RequestId":"0HNHCK0F3E18N:00000002","RequestPath":"/api/v1/configuracion-aplicacion/7","ConnectionId":"0HNHCK0F3E18N"}
[2025-11-26 00:08:28.145 -05:00 ERR] Error ejecutando stored procedure usp_application_getall: {"code":"PGRST202","details":"Searched for the function public.usp_application_getall without parameters or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.usp_applications_select","message":"Could not find the function public.usp_application_getall without parameters in the schema cache"} {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"37005c23-9437-4b81-91da-4deed6a852cf","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.GetActiveApplications (ChatModularMicroservice.Api)","RequestId":"0HNHCK0F3E18L:00000002","RequestPath":"/api/v1/aplicaciones/activas","ConnectionId":"0HNHCK0F3E18L"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST202","details":"Searched for the function public.usp_application_getall without parameters or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.usp_applications_select","message":"Could not find the function public.usp_application_getall without parameters in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.Repositories.SupabaseRepository.ExecuteStoredProcedureListAsync[T](String procedureName, Object parameters, String clientName) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\SupabaseRepository.cs:line 101
[2025-11-26 00:08:28.275 -05:00 ERR] Error ejecutando stored procedure usp_application_getbyid: {"code":"PGRST202","details":"Searched for the function public.usp_application_getbyid with parameter nAplicacionesId or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.usp_applications_select","message":"Could not find the function public.usp_application_getbyid(nAplicacionesId) in the schema cache"} {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"327079f2-bda0-4d0e-aae5-cfb6685c7824","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracion (ChatModularMicroservice.Api)","RequestId":"0HNHCK0F3E18N:00000002","RequestPath":"/api/v1/configuracion-aplicacion/7","ConnectionId":"0HNHCK0F3E18N"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST202","details":"Searched for the function public.usp_application_getbyid with parameter nAplicacionesId or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.usp_applications_select","message":"Could not find the function public.usp_application_getbyid(nAplicacionesId) in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.Repositories.SupabaseRepository.ExecuteStoredProcedureListAsync[T](String procedureName, Object parameters, String clientName) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\SupabaseRepository.cs:line 101
[2025-11-26 00:08:28.462 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"327079f2-bda0-4d0e-aae5-cfb6685c7824","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracion (ChatModularMicroservice.Api)","RequestId":"0HNHCK0F3E18N:00000002","RequestPath":"/api/v1/configuracion-aplicacion/7","ConnectionId":"0HNHCK0F3E18N"}
[2025-11-26 00:08:28.468 -05:00 INF] Intentando obtener aplicación con código exacto: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"327079f2-bda0-4d0e-aae5-cfb6685c7824","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracion (ChatModularMicroservice.Api)","RequestId":"0HNHCK0F3E18N:00000002","RequestPath":"/api/v1/configuracion-aplicacion/7","ConnectionId":"0HNHCK0F3E18N"}
[2025-11-26 00:08:28.684 -05:00 INF] Total de aplicaciones encontradas: 1 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"327079f2-bda0-4d0e-aae5-cfb6685c7824","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracion (ChatModularMicroservice.Api)","RequestId":"0HNHCK0F3E18N:00000002","RequestPath":"/api/v1/configuracion-aplicacion/7","ConnectionId":"0HNHCK0F3E18N"}
[2025-11-26 00:08:28.691 -05:00 INF] Aplicación encontrada - ID: 7, Código: SICOM_CHAT_2024, Activa: true {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"327079f2-bda0-4d0e-aae5-cfb6685c7824","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracion (ChatModularMicroservice.Api)","RequestId":"0HNHCK0F3E18N:00000002","RequestPath":"/api/v1/configuracion-aplicacion/7","ConnectionId":"0HNHCK0F3E18N"}
[2025-11-26 00:08:28.909 -05:00 INF] Resultado de aplicación: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"327079f2-bda0-4d0e-aae5-cfb6685c7824","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracion (ChatModularMicroservice.Api)","RequestId":"0HNHCK0F3E18N:00000002","RequestPath":"/api/v1/configuracion-aplicacion/7","ConnectionId":"0HNHCK0F3E18N"}
[2025-11-26 00:08:28.917 -05:00 INF] Aplicación encontrada con ID: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"327079f2-bda0-4d0e-aae5-cfb6685c7824","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracion (ChatModularMicroservice.Api)","RequestId":"0HNHCK0F3E18N:00000002","RequestPath":"/api/v1/configuracion-aplicacion/7","ConnectionId":"0HNHCK0F3E18N"}
[2025-11-26 00:08:28.921 -05:00 INF] Ejecutando query para obtener configuración con aplicacionId: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"327079f2-bda0-4d0e-aae5-cfb6685c7824","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracion (ChatModularMicroservice.Api)","RequestId":"0HNHCK0F3E18N:00000002","RequestPath":"/api/v1/configuracion-aplicacion/7","ConnectionId":"0HNHCK0F3E18N"}
[2025-11-26 00:08:29.156 -05:00 INF] Resultado de configuración: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"327079f2-bda0-4d0e-aae5-cfb6685c7824","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracion (ChatModularMicroservice.Api)","RequestId":"0HNHCK0F3E18N:00000002","RequestPath":"/api/v1/configuracion-aplicacion/7","ConnectionId":"0HNHCK0F3E18N"}
[2025-11-26 00:08:29.164 -05:00 INF] Configuración encontrada para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"327079f2-bda0-4d0e-aae5-cfb6685c7824","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracion (ChatModularMicroservice.Api)","RequestId":"0HNHCK0F3E18N:00000002","RequestPath":"/api/v1/configuracion-aplicacion/7","ConnectionId":"0HNHCK0F3E18N"}
[2025-11-26 00:08:30.588 -05:00 INF] Ejecutando stored procedure (lista): usp_application_getall {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"f7a72e63-10c6-492b-8b0a-34e4f89649d7","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.GetAllApplications (ChatModularMicroservice.Api)","RequestId":"0HNHCK0F3E18N:00000004","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCK0F3E18N"}
[2025-11-26 00:08:30.830 -05:00 ERR] Error ejecutando stored procedure usp_application_getall: {"code":"PGRST202","details":"Searched for the function public.usp_application_getall without parameters or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.usp_applications_select","message":"Could not find the function public.usp_application_getall without parameters in the schema cache"} {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"f7a72e63-10c6-492b-8b0a-34e4f89649d7","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.GetAllApplications (ChatModularMicroservice.Api)","RequestId":"0HNHCK0F3E18N:00000004","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCK0F3E18N"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST202","details":"Searched for the function public.usp_application_getall without parameters or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.usp_applications_select","message":"Could not find the function public.usp_application_getall without parameters in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.Repositories.SupabaseRepository.ExecuteStoredProcedureListAsync[T](String procedureName, Object parameters, String clientName) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\SupabaseRepository.cs:line 101
[2025-11-26 00:08:45.406 -05:00 INF] Ejecutando stored procedure (lista): usp_application_getall {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"37005c23-9437-4b81-91da-4deed6a852cf","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.GetActiveApplications (ChatModularMicroservice.Api)","RequestId":"0HNHCK0F3E18N:00000006","RequestPath":"/api/v1/aplicaciones/activas","ConnectionId":"0HNHCK0F3E18N"}
[2025-11-26 00:08:45.411 -05:00 ERR] Connection id "0HNHCK0F3E18M", Request id "0HNHCK0F3E18M:00000004": An unhandled exception was thrown by the application. {"EventId":{"Id":13,"Name":"ApplicationError"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel","RequestId":"0HNHCK0F3E18M:00000004","RequestPath":"/api/v1/empresas/activas"}
System.InvalidOperationException: Unable to resolve service for type 'ChatModularMicroservice.Repository.IEmpresaRepository' while attempting to activate 'ChatModularMicroservice.Api.Services.EmpresaServiceAdapter'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at lambda_method131(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
[2025-11-26 00:08:45.649 -05:00 ERR] Error ejecutando stored procedure usp_application_getall: {"code":"PGRST202","details":"Searched for the function public.usp_application_getall without parameters or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.usp_applications_select","message":"Could not find the function public.usp_application_getall without parameters in the schema cache"} {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"37005c23-9437-4b81-91da-4deed6a852cf","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.GetActiveApplications (ChatModularMicroservice.Api)","RequestId":"0HNHCK0F3E18N:00000006","RequestPath":"/api/v1/aplicaciones/activas","ConnectionId":"0HNHCK0F3E18N"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST202","details":"Searched for the function public.usp_application_getall without parameters or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.usp_applications_select","message":"Could not find the function public.usp_application_getall without parameters in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.Repositories.SupabaseRepository.ExecuteStoredProcedureListAsync[T](String procedureName, Object parameters, String clientName) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\SupabaseRepository.cs:line 101
[2025-11-26 05:16:21.505 -05:00 INF] Ejecutando stored procedure (lista): usp_application_getall {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"37005c23-9437-4b81-91da-4deed6a852cf","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.GetActiveApplications (ChatModularMicroservice.Api)","RequestId":"0HNHCK0F3E18O:00000002","RequestPath":"/api/v1/aplicaciones/activas","ConnectionId":"0HNHCK0F3E18O"}
[2025-11-26 05:16:21.511 -05:00 ERR] Connection id "0HNHCK0F3E18P", Request id "0HNHCK0F3E18P:00000002": An unhandled exception was thrown by the application. {"EventId":{"Id":13,"Name":"ApplicationError"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel","RequestId":"0HNHCK0F3E18P:00000002","RequestPath":"/api/v1/empresas/activas"}
System.InvalidOperationException: Unable to resolve service for type 'ChatModularMicroservice.Repository.IEmpresaRepository' while attempting to activate 'ChatModularMicroservice.Api.Services.EmpresaServiceAdapter'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at lambda_method131(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
[2025-11-26 05:16:23.124 -05:00 ERR] Error ejecutando stored procedure usp_application_getall: {"code":"PGRST202","details":"Searched for the function public.usp_application_getall without parameters or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.usp_applications_select","message":"Could not find the function public.usp_application_getall without parameters in the schema cache"} {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"37005c23-9437-4b81-91da-4deed6a852cf","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.GetActiveApplications (ChatModularMicroservice.Api)","RequestId":"0HNHCK0F3E18O:00000002","RequestPath":"/api/v1/aplicaciones/activas","ConnectionId":"0HNHCK0F3E18O"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST202","details":"Searched for the function public.usp_application_getall without parameters or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.usp_applications_select","message":"Could not find the function public.usp_application_getall without parameters in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.Repositories.SupabaseRepository.ExecuteStoredProcedureListAsync[T](String procedureName, Object parameters, String clientName) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\SupabaseRepository.cs:line 101
[2025-11-26 05:23:20.795 -05:00 INF] Ejecutando stored procedure (lista): usp_application_getall {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"f7a72e63-10c6-492b-8b0a-34e4f89649d7","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.GetAllApplications (ChatModularMicroservice.Api)","RequestId":"0HNHCK0F3E18Q:00000002","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCK0F3E18Q"}
[2025-11-26 05:23:20.800 -05:00 INF] Ejecutando stored procedure (lista): usp_application_getall {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"37005c23-9437-4b81-91da-4deed6a852cf","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.GetActiveApplications (ChatModularMicroservice.Api)","RequestId":"0HNHCK0F3E18R:00000002","RequestPath":"/api/v1/aplicaciones/activas","ConnectionId":"0HNHCK0F3E18R"}
[2025-11-26 05:23:20.811 -05:00 ERR] Connection id "0HNHCK0F3E18S", Request id "0HNHCK0F3E18S:00000002": An unhandled exception was thrown by the application. {"EventId":{"Id":13,"Name":"ApplicationError"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel","RequestId":"0HNHCK0F3E18S:00000002","RequestPath":"/api/v1/empresas"}
System.InvalidOperationException: Unable to resolve service for type 'ChatModularMicroservice.Repository.IEmpresaRepository' while attempting to activate 'ChatModularMicroservice.Api.Services.EmpresaServiceAdapter'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at lambda_method271(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
[2025-11-26 05:23:20.812 -05:00 ERR] Connection id "0HNHCK0F3E18U", Request id "0HNHCK0F3E18U:00000001": An unhandled exception was thrown by the application. {"EventId":{"Id":13,"Name":"ApplicationError"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel","RequestId":"0HNHCK0F3E18U:00000001","RequestPath":"/api/v1/empresas/activas"}
System.InvalidOperationException: Unable to resolve service for type 'ChatModularMicroservice.Repository.IEmpresaRepository' while attempting to activate 'ChatModularMicroservice.Api.Services.EmpresaServiceAdapter'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at lambda_method131(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
[2025-11-26 05:23:20.874 -05:00 INF] Obteniendo todas las configuraciones de empresa {"SourceContext":"ChatModularMicroservice.Api.Controllers.ConfiguracionEmpresaController","ActionId":"74893a49-8a9d-4475-ac0c-1a9f2eea95c8","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionEmpresaController.GetAll (ChatModularMicroservice.Api)","RequestId":"0HNHCK0F3E18U:00000005","RequestPath":"/api/v1/configuracion-empresa","ConnectionId":"0HNHCK0F3E18U"}
[2025-11-26 05:23:21.375 -05:00 ERR] Error ejecutando stored procedure usp_application_getall: {"code":"PGRST202","details":"Searched for the function public.usp_application_getall without parameters or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.usp_applications_select","message":"Could not find the function public.usp_application_getall without parameters in the schema cache"} {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"37005c23-9437-4b81-91da-4deed6a852cf","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.GetActiveApplications (ChatModularMicroservice.Api)","RequestId":"0HNHCK0F3E18R:00000002","RequestPath":"/api/v1/aplicaciones/activas","ConnectionId":"0HNHCK0F3E18R"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST202","details":"Searched for the function public.usp_application_getall without parameters or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.usp_applications_select","message":"Could not find the function public.usp_application_getall without parameters in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.Repositories.SupabaseRepository.ExecuteStoredProcedureListAsync[T](String procedureName, Object parameters, String clientName) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\SupabaseRepository.cs:line 101
[2025-11-26 05:23:21.506 -05:00 ERR] Error ejecutando stored procedure usp_application_getall: {"code":"PGRST202","details":"Searched for the function public.usp_application_getall without parameters or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.usp_applications_select","message":"Could not find the function public.usp_application_getall without parameters in the schema cache"} {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"f7a72e63-10c6-492b-8b0a-34e4f89649d7","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.GetAllApplications (ChatModularMicroservice.Api)","RequestId":"0HNHCK0F3E18Q:00000002","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCK0F3E18Q"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST202","details":"Searched for the function public.usp_application_getall without parameters or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.usp_applications_select","message":"Could not find the function public.usp_application_getall without parameters in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.Repositories.SupabaseRepository.ExecuteStoredProcedureListAsync[T](String procedureName, Object parameters, String clientName) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\SupabaseRepository.cs:line 101
[2025-11-26 05:28:20.516 -05:00 INF] Ejecutando stored procedure (lista): usp_application_getall {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"f7a72e63-10c6-492b-8b0a-34e4f89649d7","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.GetAllApplications (ChatModularMicroservice.Api)","RequestId":"0HNHCK0F3E190:00000002","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCK0F3E190"}
[2025-11-26 05:28:20.523 -05:00 INF] Ejecutando stored procedure (lista): usp_application_getall {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"37005c23-9437-4b81-91da-4deed6a852cf","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.GetActiveApplications (ChatModularMicroservice.Api)","RequestId":"0HNHCK0F3E192:00000002","RequestPath":"/api/v1/aplicaciones/activas","ConnectionId":"0HNHCK0F3E192"}
[2025-11-26 05:28:20.528 -05:00 ERR] Connection id "0HNHCK0F3E193", Request id "0HNHCK0F3E193:00000001": An unhandled exception was thrown by the application. {"EventId":{"Id":13,"Name":"ApplicationError"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel","RequestId":"0HNHCK0F3E193:00000001","RequestPath":"/api/v1/empresas"}
System.InvalidOperationException: Unable to resolve service for type 'ChatModularMicroservice.Repository.IEmpresaRepository' while attempting to activate 'ChatModularMicroservice.Api.Services.EmpresaServiceAdapter'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at lambda_method271(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
[2025-11-26 05:28:20.537 -05:00 ERR] Connection id "0HNHCK0F3E195", Request id "0HNHCK0F3E195:00000003": An unhandled exception was thrown by the application. {"EventId":{"Id":13,"Name":"ApplicationError"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel","RequestId":"0HNHCK0F3E195:00000003","RequestPath":"/api/v1/empresas/activas"}
System.InvalidOperationException: Unable to resolve service for type 'ChatModularMicroservice.Repository.IEmpresaRepository' while attempting to activate 'ChatModularMicroservice.Api.Services.EmpresaServiceAdapter'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at lambda_method131(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
[2025-11-26 05:28:20.550 -05:00 INF] Obteniendo todas las configuraciones de empresa {"SourceContext":"ChatModularMicroservice.Api.Controllers.ConfiguracionEmpresaController","ActionId":"74893a49-8a9d-4475-ac0c-1a9f2eea95c8","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionEmpresaController.GetAll (ChatModularMicroservice.Api)","RequestId":"0HNHCK0F3E195:00000006","RequestPath":"/api/v1/configuracion-empresa","ConnectionId":"0HNHCK0F3E195"}
[2025-11-26 05:28:21.013 -05:00 ERR] Error ejecutando stored procedure usp_application_getall: {"code":"PGRST202","details":"Searched for the function public.usp_application_getall without parameters or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.usp_applications_select","message":"Could not find the function public.usp_application_getall without parameters in the schema cache"} {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"37005c23-9437-4b81-91da-4deed6a852cf","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.GetActiveApplications (ChatModularMicroservice.Api)","RequestId":"0HNHCK0F3E192:00000002","RequestPath":"/api/v1/aplicaciones/activas","ConnectionId":"0HNHCK0F3E192"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST202","details":"Searched for the function public.usp_application_getall without parameters or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.usp_applications_select","message":"Could not find the function public.usp_application_getall without parameters in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.Repositories.SupabaseRepository.ExecuteStoredProcedureListAsync[T](String procedureName, Object parameters, String clientName) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\SupabaseRepository.cs:line 101
[2025-11-26 05:28:21.021 -05:00 ERR] Error ejecutando stored procedure usp_application_getall: {"code":"PGRST202","details":"Searched for the function public.usp_application_getall without parameters or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.usp_applications_select","message":"Could not find the function public.usp_application_getall without parameters in the schema cache"} {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"f7a72e63-10c6-492b-8b0a-34e4f89649d7","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.GetAllApplications (ChatModularMicroservice.Api)","RequestId":"0HNHCK0F3E190:00000002","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCK0F3E190"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST202","details":"Searched for the function public.usp_application_getall without parameters or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.usp_applications_select","message":"Could not find the function public.usp_application_getall without parameters in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.Repositories.SupabaseRepository.ExecuteStoredProcedureListAsync[T](String procedureName, Object parameters, String clientName) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\SupabaseRepository.cs:line 101
[2025-11-26 05:29:12.863 -05:00 INF] Iniciando aplicación ChatModular API {}
[2025-11-26 05:29:12.897 -05:00 INF] Servidor escuchando en: http://localhost:5405;http://localhost:5406 {}
[2025-11-26 05:29:42.827 -05:00 INF] Ejecutando stored procedure (lista): usp_applications_select {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"f8d61c22-f0a4-4cf9-993f-8a0fcab78228","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.GetAllApplications (ChatModularMicroservice.Api)","RequestId":"0HNHCQQR3SV64:00000002","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCQQR3SV64"}
[2025-11-26 05:29:43.137 -05:00 ERR] Error ejecutando stored procedure usp_applications_select: {"code":"42P01","details":null,"hint":null,"message":"relation \"Applications\" does not exist"} {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"f8d61c22-f0a4-4cf9-993f-8a0fcab78228","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.GetAllApplications (ChatModularMicroservice.Api)","RequestId":"0HNHCQQR3SV64:00000002","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCQQR3SV64"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"42P01","details":null,"hint":null,"message":"relation \"Applications\" does not exist"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.Repositories.SupabaseRepository.ExecuteStoredProcedureListAsync[T](String procedureName, Object parameters, String clientName) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\SupabaseRepository.cs:line 101
[2025-11-26 05:31:08.217 -05:00 INF] Ejecutando stored procedure (lista): sp_aplicaciones_crear {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"787b7fd8-6529-4d0c-8611-44f30417b4a6","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.CreateApplication (ChatModularMicroservice.Api)","RequestId":"0HNHCQQR3SV64:00000004","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCQQR3SV64"}
[2025-11-26 05:31:08.685 -05:00 ERR] Error ejecutando stored procedure sp_aplicaciones_crear: {"code":"P0001","details":null,"hint":null,"message":"Error al crear aplicación: null value in column \"cAppRegistrosCodigoApp\" of relation \"AppRegistros\" violates not-null constraint"} {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"787b7fd8-6529-4d0c-8611-44f30417b4a6","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.CreateApplication (ChatModularMicroservice.Api)","RequestId":"0HNHCQQR3SV64:00000004","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCQQR3SV64"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"P0001","details":null,"hint":null,"message":"Error al crear aplicación: null value in column \"cAppRegistrosCodigoApp\" of relation \"AppRegistros\" violates not-null constraint"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.Repositories.SupabaseRepository.ExecuteStoredProcedureListAsync[T](String procedureName, Object parameters, String clientName) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\SupabaseRepository.cs:line 101
[2025-11-26 05:31:08.692 -05:00 INF] Ejecutando stored procedure (lista): sp_aplicaciones_crear {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"787b7fd8-6529-4d0c-8611-44f30417b4a6","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.CreateApplication (ChatModularMicroservice.Api)","RequestId":"0HNHCQQR3SV64:00000004","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCQQR3SV64"}
[2025-11-26 05:31:08.842 -05:00 ERR] Error ejecutando stored procedure sp_aplicaciones_crear: {"code":"PGRST202","details":"Searched for the function public.sp_aplicaciones_crear with parameters cAplicacionesCodigo, cAplicacionesDescripcion, cAplicacionesNombre or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.sp_aplicaciones_crear(p_caplicacionescodigo, p_caplicacionesdescripcion, p_caplicacionesnombre)","message":"Could not find the function public.sp_aplicaciones_crear(cAplicacionesCodigo, cAplicacionesDescripcion, cAplicacionesNombre) in the schema cache"} {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"787b7fd8-6529-4d0c-8611-44f30417b4a6","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.CreateApplication (ChatModularMicroservice.Api)","RequestId":"0HNHCQQR3SV64:00000004","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCQQR3SV64"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST202","details":"Searched for the function public.sp_aplicaciones_crear with parameters cAplicacionesCodigo, cAplicacionesDescripcion, cAplicacionesNombre or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.sp_aplicaciones_crear(p_caplicacionescodigo, p_caplicacionesdescripcion, p_caplicacionesnombre)","message":"Could not find the function public.sp_aplicaciones_crear(cAplicacionesCodigo, cAplicacionesDescripcion, cAplicacionesNombre) in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.Repositories.SupabaseRepository.ExecuteStoredProcedureListAsync[T](String procedureName, Object parameters, String clientName) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\SupabaseRepository.cs:line 101
[2025-11-26 05:31:08.877 -05:00 ERR] Error en controlador: Error al crear aplicación: Error ejecutando sp_aplicaciones_crear: {"code":"PGRST202","details":"Searched for the function public.sp_aplicaciones_crear with parameters cAplicacionesCodigo, cAplicacionesDescripcion, cAplicacionesNombre or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.sp_aplicaciones_crear(p_caplicacionescodigo, p_caplicacionesdescripcion, p_caplicacionesnombre)","message":"Could not find the function public.sp_aplicaciones_crear(cAplicacionesCodigo, cAplicacionesDescripcion, cAplicacionesNombre) in the schema cache"} {"SourceContext":"ChatModularMicroservice.Api.Controllers.AplicacionesController","ActionId":"787b7fd8-6529-4d0c-8611-44f30417b4a6","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.CreateApplication (ChatModularMicroservice.Api)","RequestId":"0HNHCQQR3SV64:00000004","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCQQR3SV64"}
System.Exception: Error al crear aplicación: Error ejecutando sp_aplicaciones_crear: {"code":"PGRST202","details":"Searched for the function public.sp_aplicaciones_crear with parameters cAplicacionesCodigo, cAplicacionesDescripcion, cAplicacionesNombre or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.sp_aplicaciones_crear(p_caplicacionescodigo, p_caplicacionesdescripcion, p_caplicacionesnombre)","message":"Could not find the function public.sp_aplicaciones_crear(cAplicacionesCodigo, cAplicacionesDescripcion, cAplicacionesNombre) in the schema cache"}
   at ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository.CreateApplicationAsync(Application application) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\ApplicationSupabaseRepository.cs:line 138
   at ChatModularMicroservice.Domain.ApplicationService.CreateApplicationAsync(CreateApplicationDto createDto) in d:\Chat\ChatBackend\ChatModularAPI\02.Layer Domain\ChatModularMicroservice.Domain\ApplicationService.cs:line 49
   at ChatModularMicroservice.Api.Controllers.AplicacionesController.CreateApplication(CreateApplicationDto createApplicationDto) in d:\Chat\ChatBackend\ChatModularAPI\03.Layer Api\ChatModularMicroservice.Api\Controllers\AplicacionesController.cs:line 139
[2025-11-26 05:57:48.960 -05:00 INF] Ejecutando stored procedure (lista): usp_applications_select {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"f8d61c22-f0a4-4cf9-993f-8a0fcab78228","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.GetAllApplications (ChatModularMicroservice.Api)","RequestId":"0HNHCQQR3SV65:00000002","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCQQR3SV65"}
[2025-11-26 05:57:49.888 -05:00 ERR] Error ejecutando stored procedure usp_applications_select: {"code":"42P01","details":null,"hint":null,"message":"relation \"Applications\" does not exist"} {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"f8d61c22-f0a4-4cf9-993f-8a0fcab78228","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.GetAllApplications (ChatModularMicroservice.Api)","RequestId":"0HNHCQQR3SV65:00000002","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCQQR3SV65"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"42P01","details":null,"hint":null,"message":"relation \"Applications\" does not exist"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.Repositories.SupabaseRepository.ExecuteStoredProcedureListAsync[T](String procedureName, Object parameters, String clientName) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\SupabaseRepository.cs:line 101
[2025-11-26 05:57:53.715 -05:00 INF] Ejecutando stored procedure (lista): usp_applications_select {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"f8d61c22-f0a4-4cf9-993f-8a0fcab78228","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.GetAllApplications (ChatModularMicroservice.Api)","RequestId":"0HNHCQQR3SV65:00000003","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCQQR3SV65"}
[2025-11-26 05:57:53.727 -05:00 INF] Ejecutando stored procedure (lista): usp_applications_select {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"94e759b7-eb31-4494-bd50-212a3329992a","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.GetActiveApplications (ChatModularMicroservice.Api)","RequestId":"0HNHCQQR3SV66:00000002","RequestPath":"/api/v1/aplicaciones/activas","ConnectionId":"0HNHCQQR3SV66"}
[2025-11-26 05:57:53.741 -05:00 ERR] Connection id "0HNHCQQR3SV69", Request id "0HNHCQQR3SV69:00000002": An unhandled exception was thrown by the application. {"EventId":{"Id":13,"Name":"ApplicationError"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel","RequestId":"0HNHCQQR3SV69:00000002","RequestPath":"/api/v1/empresas/activas"}
System.InvalidOperationException: Unable to resolve service for type 'ChatModularMicroservice.Repository.IEmpresaRepository' while attempting to activate 'ChatModularMicroservice.Api.Services.EmpresaServiceAdapter'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at lambda_method117(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
[2025-11-26 05:57:53.741 -05:00 ERR] Connection id "0HNHCQQR3SV67", Request id "0HNHCQQR3SV67:00000002": An unhandled exception was thrown by the application. {"EventId":{"Id":13,"Name":"ApplicationError"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel","RequestId":"0HNHCQQR3SV67:00000002","RequestPath":"/api/v1/empresas"}
System.InvalidOperationException: Unable to resolve service for type 'ChatModularMicroservice.Repository.IEmpresaRepository' while attempting to activate 'ChatModularMicroservice.Api.Services.EmpresaServiceAdapter'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at lambda_method107(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
[2025-11-26 05:57:53.774 -05:00 INF] Obteniendo todas las configuraciones de empresa {"SourceContext":"ChatModularMicroservice.Api.Controllers.ConfiguracionEmpresaController","ActionId":"f04d117b-82ff-4d7d-a16e-f7a4a0ab23f6","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionEmpresaController.GetAll (ChatModularMicroservice.Api)","RequestId":"0HNHCQQR3SV67:00000005","RequestPath":"/api/v1/configuracion-empresa","ConnectionId":"0HNHCQQR3SV67"}
[2025-11-26 05:57:53.922 -05:00 ERR] Error ejecutando stored procedure usp_applications_select: {"code":"42P01","details":null,"hint":null,"message":"relation \"Applications\" does not exist"} {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"f8d61c22-f0a4-4cf9-993f-8a0fcab78228","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.GetAllApplications (ChatModularMicroservice.Api)","RequestId":"0HNHCQQR3SV65:00000003","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCQQR3SV65"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"42P01","details":null,"hint":null,"message":"relation \"Applications\" does not exist"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.Repositories.SupabaseRepository.ExecuteStoredProcedureListAsync[T](String procedureName, Object parameters, String clientName) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\SupabaseRepository.cs:line 101
[2025-11-26 05:57:54.130 -05:00 ERR] Error ejecutando stored procedure usp_applications_select: {"code":"42P01","details":null,"hint":null,"message":"relation \"Applications\" does not exist"} {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"94e759b7-eb31-4494-bd50-212a3329992a","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.GetActiveApplications (ChatModularMicroservice.Api)","RequestId":"0HNHCQQR3SV66:00000002","RequestPath":"/api/v1/aplicaciones/activas","ConnectionId":"0HNHCQQR3SV66"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"42P01","details":null,"hint":null,"message":"relation \"Applications\" does not exist"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.Repositories.SupabaseRepository.ExecuteStoredProcedureListAsync[T](String procedureName, Object parameters, String clientName) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\SupabaseRepository.cs:line 101
[2025-11-26 07:21:33.613 -05:00 INF] Ejecutando stored procedure (lista): usp_applications_select {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"f8d61c22-f0a4-4cf9-993f-8a0fcab78228","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.GetAllApplications (ChatModularMicroservice.Api)","RequestId":"0HNHCQQR3SV6B:00000002","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCQQR3SV6B"}
[2025-11-26 07:21:33.620 -05:00 INF] Ejecutando stored procedure (lista): usp_applications_select {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"94e759b7-eb31-4494-bd50-212a3329992a","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.GetActiveApplications (ChatModularMicroservice.Api)","RequestId":"0HNHCQQR3SV6C:00000002","RequestPath":"/api/v1/aplicaciones/activas","ConnectionId":"0HNHCQQR3SV6C"}
[2025-11-26 07:21:33.626 -05:00 ERR] Connection id "0HNHCQQR3SV6D", Request id "0HNHCQQR3SV6D:00000002": An unhandled exception was thrown by the application. {"EventId":{"Id":13,"Name":"ApplicationError"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel","RequestId":"0HNHCQQR3SV6D:00000002","RequestPath":"/api/v1/empresas"}
System.InvalidOperationException: Unable to resolve service for type 'ChatModularMicroservice.Repository.IEmpresaRepository' while attempting to activate 'ChatModularMicroservice.Api.Services.EmpresaServiceAdapter'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at lambda_method107(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
[2025-11-26 07:21:33.645 -05:00 ERR] Connection id "0HNHCQQR3SV6E", Request id "0HNHCQQR3SV6E:00000002": An unhandled exception was thrown by the application. {"EventId":{"Id":13,"Name":"ApplicationError"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel","RequestId":"0HNHCQQR3SV6E:00000002","RequestPath":"/api/v1/empresas/activas"}
System.InvalidOperationException: Unable to resolve service for type 'ChatModularMicroservice.Repository.IEmpresaRepository' while attempting to activate 'ChatModularMicroservice.Api.Services.EmpresaServiceAdapter'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at lambda_method117(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
[2025-11-26 07:21:33.667 -05:00 INF] Obteniendo todas las configuraciones de empresa {"SourceContext":"ChatModularMicroservice.Api.Controllers.ConfiguracionEmpresaController","ActionId":"f04d117b-82ff-4d7d-a16e-f7a4a0ab23f6","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionEmpresaController.GetAll (ChatModularMicroservice.Api)","RequestId":"0HNHCQQR3SV6E:00000005","RequestPath":"/api/v1/configuracion-empresa","ConnectionId":"0HNHCQQR3SV6E"}
[2025-11-26 07:21:34.852 -05:00 ERR] Error ejecutando stored procedure usp_applications_select: {"code":"42P01","details":null,"hint":null,"message":"relation \"Applications\" does not exist"} {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"94e759b7-eb31-4494-bd50-212a3329992a","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.GetActiveApplications (ChatModularMicroservice.Api)","RequestId":"0HNHCQQR3SV6C:00000002","RequestPath":"/api/v1/aplicaciones/activas","ConnectionId":"0HNHCQQR3SV6C"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"42P01","details":null,"hint":null,"message":"relation \"Applications\" does not exist"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.Repositories.SupabaseRepository.ExecuteStoredProcedureListAsync[T](String procedureName, Object parameters, String clientName) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\SupabaseRepository.cs:line 101
[2025-11-26 07:21:34.859 -05:00 ERR] Error ejecutando stored procedure usp_applications_select: {"code":"42P01","details":null,"hint":null,"message":"relation \"Applications\" does not exist"} {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"f8d61c22-f0a4-4cf9-993f-8a0fcab78228","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.GetAllApplications (ChatModularMicroservice.Api)","RequestId":"0HNHCQQR3SV6B:00000002","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCQQR3SV6B"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"42P01","details":null,"hint":null,"message":"relation \"Applications\" does not exist"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.Repositories.SupabaseRepository.ExecuteStoredProcedureListAsync[T](String procedureName, Object parameters, String clientName) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\SupabaseRepository.cs:line 101
[2025-11-26 07:22:37.540 -05:00 INF] Iniciando aplicación ChatModular API {}
[2025-11-26 07:22:37.573 -05:00 INF] Servidor escuchando en: http://localhost:5405;http://localhost:5406 {}
[2025-11-26 07:23:48.614 -05:00 ERR] Connection id "0HNHCSQJAO2VV", Request id "0HNHCSQJAO2VV:00000003": An unhandled exception was thrown by the application. {"EventId":{"Id":13,"Name":"ApplicationError"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel","RequestId":"0HNHCSQJAO2VV:00000003","RequestPath":"/api/v1/empresas/activas"}
System.InvalidOperationException: Unable to resolve service for type 'ChatModularMicroservice.Repository.IEmpresaRepository' while attempting to activate 'ChatModularMicroservice.Api.Services.EmpresaServiceAdapter'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at lambda_method84(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
[2025-11-26 07:23:48.614 -05:00 INF] Ejecutando stored procedure (lista): usp_applications_select {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"85758e16-e1a2-42cd-8fcb-73edbce09bc0","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.GetAllApplications (ChatModularMicroservice.Api)","RequestId":"0HNHCSQJAO2VU:00000002","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCSQJAO2VU"}
[2025-11-26 07:23:48.614 -05:00 ERR] Connection id "0HNHCSQJAO300", Request id "0HNHCSQJAO300:00000002": An unhandled exception was thrown by the application. {"EventId":{"Id":13,"Name":"ApplicationError"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel","RequestId":"0HNHCSQJAO300:00000002","RequestPath":"/api/v1/empresas"}
System.InvalidOperationException: Unable to resolve service for type 'ChatModularMicroservice.Repository.IEmpresaRepository' while attempting to activate 'ChatModularMicroservice.Api.Services.EmpresaServiceAdapter'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at lambda_method85(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
[2025-11-26 07:23:48.614 -05:00 INF] Ejecutando stored procedure (lista): usp_applications_select {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"de1a57a3-6f08-4872-8c8c-646289fbb654","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.GetActiveApplications (ChatModularMicroservice.Api)","RequestId":"0HNHCSQJAO2VT:00000003","RequestPath":"/api/v1/aplicaciones/activas","ConnectionId":"0HNHCSQJAO2VT"}
[2025-11-26 07:23:48.715 -05:00 INF] Obteniendo todas las configuraciones de empresa {"SourceContext":"ChatModularMicroservice.Api.Controllers.ConfiguracionEmpresaController","ActionId":"1d939544-69b5-4016-845f-11bee75621f9","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionEmpresaController.GetAll (ChatModularMicroservice.Api)","RequestId":"0HNHCSQJAO2VV:00000004","RequestPath":"/api/v1/configuracion-empresa","ConnectionId":"0HNHCSQJAO2VV"}
[2025-11-26 07:23:49.210 -05:00 ERR] Error ejecutando stored procedure usp_applications_select: {"code":"42P01","details":null,"hint":null,"message":"relation \"Applications\" does not exist"} {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"85758e16-e1a2-42cd-8fcb-73edbce09bc0","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.GetAllApplications (ChatModularMicroservice.Api)","RequestId":"0HNHCSQJAO2VU:00000002","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCSQJAO2VU"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"42P01","details":null,"hint":null,"message":"relation \"Applications\" does not exist"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.Repositories.SupabaseRepository.ExecuteStoredProcedureListAsync[T](String procedureName, Object parameters, String clientName) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\SupabaseRepository.cs:line 101
[2025-11-26 07:23:49.210 -05:00 ERR] Error ejecutando stored procedure usp_applications_select: {"code":"42P01","details":null,"hint":null,"message":"relation \"Applications\" does not exist"} {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"de1a57a3-6f08-4872-8c8c-646289fbb654","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.GetActiveApplications (ChatModularMicroservice.Api)","RequestId":"0HNHCSQJAO2VT:00000003","RequestPath":"/api/v1/aplicaciones/activas","ConnectionId":"0HNHCSQJAO2VT"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"42P01","details":null,"hint":null,"message":"relation \"Applications\" does not exist"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.Repositories.SupabaseRepository.ExecuteStoredProcedureListAsync[T](String procedureName, Object parameters, String clientName) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\SupabaseRepository.cs:line 101
[2025-11-26 07:49:59.745 -05:00 INF] Iniciando aplicación ChatModular API {}
[2025-11-26 07:49:59.787 -05:00 INF] Servidor escuchando en: http://localhost:5405;http://localhost:5406 {}
[2025-11-26 07:50:07.262 -05:00 INF] Ejecutando stored procedure (lista): usp_applications_select {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"b2b703cd-4bda-49e6-b2c7-7836edfc4f88","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.GetActiveApplications (ChatModularMicroservice.Api)","RequestId":"0HNHCT99QBLSS:00000003","RequestPath":"/api/v1/aplicaciones/activas","ConnectionId":"0HNHCT99QBLSS"}
[2025-11-26 07:50:07.262 -05:00 INF] Ejecutando stored procedure (lista): usp_applications_select {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"266d66b3-ae15-4b2d-9c5f-d586bf6395d0","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.GetAllApplications (ChatModularMicroservice.Api)","RequestId":"0HNHCT99QBLSR:00000003","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCT99QBLSR"}
[2025-11-26 07:50:08.234 -05:00 ERR] Error en controlador: No se encontró el procedimiento almacenado 'USP_Empresa_GetActivas'. {"SourceContext":"ChatModularMicroservice.Api.Controllers.EmpresasController","ActionId":"749b4668-1e19-458a-adc1-66d664b206ff","ActionName":"ChatModularMicroservice.Api.Controllers.EmpresasController.GetEmpresasActivas (ChatModularMicroservice.Api)","RequestId":"0HNHCT99QBLST:00000002","RequestPath":"/api/v1/empresas/activas","ConnectionId":"0HNHCT99QBLST"}
Microsoft.Data.SqlClient.SqlException (0x80131904): No se encontró el procedimiento almacenado 'USP_Empresa_GetActivas'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Dapper.SqlMapper.QueryAsync[T](IDbConnection cnn, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 434
   at ChatModularMicroservice.Infrastructure.BaseRepository.LoadData[T](String storedProcedure, DynamicParameters parameters) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\BaseRepository.cs:line 30
   at ChatModularMicroservice.Infrastructure.EmpresaRepository.GetByActivas(EmpresaFilter filter) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\EmpresaRepository.cs:line 173
   at ChatModularMicroservice.Infrastructure.EmpresaRepository.GetEmpresasActivasAsync() in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\EmpresaRepository.cs:line 246
   at ChatModularMicroservice.Api.Services.EmpresaServiceAdapter.GetEmpresasActivasAsync() in d:\Chat\ChatBackend\ChatModularAPI\03.Layer Api\ChatModularMicroservice.Api\Services\EmpresaServiceAdapter.cs:line 39
   at ChatModularMicroservice.Api.Controllers.EmpresasController.GetEmpresasActivas() in d:\Chat\ChatBackend\ChatModularAPI\03.Layer Api\ChatModularMicroservice.Api\Controllers\EmpresasController.cs:line 103
ClientConnectionId:8a7ac228-a821-4cae-a224-d940c6290986
Error Number:2812,State:62,Class:16
[2025-11-26 07:50:08.234 -05:00 ERR] Error en controlador: No se encontró el procedimiento almacenado 'USP_Empresa_GetAll'. {"SourceContext":"ChatModularMicroservice.Api.Controllers.EmpresasController","ActionId":"cbaef105-7f4a-4f96-ae40-4b64d4f05ad5","ActionName":"ChatModularMicroservice.Api.Controllers.EmpresasController.GetAllEmpresas (ChatModularMicroservice.Api)","RequestId":"0HNHCT99QBLSV:00000003","RequestPath":"/api/v1/empresas","ConnectionId":"0HNHCT99QBLSV"}
Microsoft.Data.SqlClient.SqlException (0x80131904): No se encontró el procedimiento almacenado 'USP_Empresa_GetAll'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Dapper.SqlMapper.QueryAsync[T](IDbConnection cnn, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 434
   at ChatModularMicroservice.Infrastructure.BaseRepository.LoadData[T](String storedProcedure, DynamicParameters parameters) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\BaseRepository.cs:line 30
   at ChatModularMicroservice.Infrastructure.EmpresaRepository.GetAllEmpresasAsync() in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\EmpresaRepository.cs:line 211
   at ChatModularMicroservice.Api.Services.EmpresaServiceAdapter.GetAllEmpresasAsync() in d:\Chat\ChatBackend\ChatModularAPI\03.Layer Api\ChatModularMicroservice.Api\Services\EmpresaServiceAdapter.cs:line 21
   at ChatModularMicroservice.Api.Controllers.EmpresasController.GetAllEmpresas() in d:\Chat\ChatBackend\ChatModularAPI\03.Layer Api\ChatModularMicroservice.Api\Controllers\EmpresasController.cs:line 36
ClientConnectionId:d7f94a38-ac5f-449d-b98a-a14734f76dc8
Error Number:2812,State:62,Class:16
[2025-11-26 07:50:08.317 -05:00 INF] Obteniendo todas las configuraciones de empresa {"SourceContext":"ChatModularMicroservice.Api.Controllers.ConfiguracionEmpresaController","ActionId":"68b79925-4610-4afb-91b0-47c809b833e4","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionEmpresaController.GetAll (ChatModularMicroservice.Api)","RequestId":"0HNHCT99QBLSV:00000004","RequestPath":"/api/v1/configuracion-empresa","ConnectionId":"0HNHCT99QBLSV"}
[2025-11-26 07:57:17.449 -05:00 INF] Iniciando aplicación ChatModular API {}
[2025-11-26 07:57:17.492 -05:00 INF] Servidor escuchando en: http://localhost:5405;http://localhost:5406 {}
[2025-11-26 07:57:22.240 -05:00 INF] Ejecutando stored procedure (lista): usp_applications_select {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"0543d595-a9b3-4a94-b05e-5900cc35ab12","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.GetAllApplications (ChatModularMicroservice.Api)","RequestId":"0HNHCTDBFCGFI:00000003","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCTDBFCGFI"}
[2025-11-26 07:57:22.240 -05:00 ERR] Error en controlador: Unknown criterion type, is it of type `string`, `int`, `float`, `List`, `Dictionary<string, object>`, `FullTextSearchConfig`, or `Range`? {"SourceContext":"ChatModularMicroservice.Api.Controllers.EmpresasController","ActionId":"1437386a-c3a1-45f9-a1cc-2f4193c2cc31","ActionName":"ChatModularMicroservice.Api.Controllers.EmpresasController.GetEmpresasActivas (ChatModularMicroservice.Api)","RequestId":"0HNHCTDBFCGFJ:00000002","RequestPath":"/api/v1/empresas/activas","ConnectionId":"0HNHCTDBFCGFJ"}
Supabase.Postgrest.Exceptions.PostgrestException: Unknown criterion type, is it of type `string`, `int`, `float`, `List`, `Dictionary<string, object>`, `FullTextSearchConfig`, or `Range`?
   at Supabase.Postgrest.Table`1.Filter[TCriterion](String columnName, Operator op, TCriterion criterion)
   at ChatModularMicroservice.Infrastructure.Repositories.EmpresaSupabaseRepository.GetEmpresasActivasAsync() in D:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\Repositories\EmpresaSupabaseRepository.cs:line 180
   at ChatModularMicroservice.Api.Services.EmpresaServiceAdapter.GetEmpresasActivasAsync() in d:\Chat\ChatBackend\ChatModularAPI\03.Layer Api\ChatModularMicroservice.Api\Services\EmpresaServiceAdapter.cs:line 39
   at ChatModularMicroservice.Api.Controllers.EmpresasController.GetEmpresasActivas() in d:\Chat\ChatBackend\ChatModularAPI\03.Layer Api\ChatModularMicroservice.Api\Controllers\EmpresasController.cs:line 103
[2025-11-26 07:57:22.240 -05:00 INF] Ejecutando stored procedure (lista): usp_applications_select {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"381d3837-cd9e-49c6-8cc2-314cf14dfe95","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.GetActiveApplications (ChatModularMicroservice.Api)","RequestId":"0HNHCTDBFCGFL:00000002","RequestPath":"/api/v1/aplicaciones/activas","ConnectionId":"0HNHCTDBFCGFL"}
[2025-11-26 07:57:22.299 -05:00 INF] Obteniendo todas las configuraciones de empresa {"SourceContext":"ChatModularMicroservice.Api.Controllers.ConfiguracionEmpresaController","ActionId":"f9234bb0-076f-4552-b8a4-a5b4a7949773","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionEmpresaController.GetAll (ChatModularMicroservice.Api)","RequestId":"0HNHCTDBFCGFJ:00000003","RequestPath":"/api/v1/configuracion-empresa","ConnectionId":"0HNHCTDBFCGFJ"}
[2025-11-26 08:06:05.371 -05:00 INF] Ejecutando stored procedure (lista): usp_applications_select {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"381d3837-cd9e-49c6-8cc2-314cf14dfe95","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.GetActiveApplications (ChatModularMicroservice.Api)","RequestId":"0HNHCTDBFCGFR:00000001","RequestPath":"/api/v1/aplicaciones/activas","ConnectionId":"0HNHCTDBFCGFR"}
[2025-11-26 08:06:05.371 -05:00 INF] Ejecutando stored procedure (lista): usp_applications_select {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"0543d595-a9b3-4a94-b05e-5900cc35ab12","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.GetAllApplications (ChatModularMicroservice.Api)","RequestId":"0HNHCTDBFCGFQ:00000003","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCTDBFCGFQ"}
[2025-11-26 08:06:05.380 -05:00 ERR] Error en controlador: Unknown criterion type, is it of type `string`, `int`, `float`, `List`, `Dictionary<string, object>`, `FullTextSearchConfig`, or `Range`? {"SourceContext":"ChatModularMicroservice.Api.Controllers.EmpresasController","ActionId":"1437386a-c3a1-45f9-a1cc-2f4193c2cc31","ActionName":"ChatModularMicroservice.Api.Controllers.EmpresasController.GetEmpresasActivas (ChatModularMicroservice.Api)","RequestId":"0HNHCTDBFCGFT:00000002","RequestPath":"/api/v1/empresas/activas","ConnectionId":"0HNHCTDBFCGFT"}
Supabase.Postgrest.Exceptions.PostgrestException: Unknown criterion type, is it of type `string`, `int`, `float`, `List`, `Dictionary<string, object>`, `FullTextSearchConfig`, or `Range`?
   at Supabase.Postgrest.Table`1.Filter[TCriterion](String columnName, Operator op, TCriterion criterion)
   at ChatModularMicroservice.Infrastructure.Repositories.EmpresaSupabaseRepository.GetEmpresasActivasAsync() in D:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\Repositories\EmpresaSupabaseRepository.cs:line 180
   at ChatModularMicroservice.Api.Services.EmpresaServiceAdapter.GetEmpresasActivasAsync() in d:\Chat\ChatBackend\ChatModularAPI\03.Layer Api\ChatModularMicroservice.Api\Services\EmpresaServiceAdapter.cs:line 39
   at ChatModularMicroservice.Api.Controllers.EmpresasController.GetEmpresasActivas() in d:\Chat\ChatBackend\ChatModularAPI\03.Layer Api\ChatModularMicroservice.Api\Controllers\EmpresasController.cs:line 103
[2025-11-26 08:10:42.158 -05:00 INF] Iniciando aplicación ChatModular API {}
[2025-11-26 08:10:42.194 -05:00 INF] Servidor escuchando en: http://localhost:5405;http://localhost:5406 {}
[2025-11-26 08:11:04.111 -05:00 INF] Ejecutando stored procedure (lista): usp_applications_select {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"12045642-33a6-4bdd-beeb-7aba53cbfed2","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.GetAllApplications (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSI:00000002","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCTL0D8LSI"}
[2025-11-26 08:11:04.111 -05:00 INF] Ejecutando stored procedure (lista): usp_applications_select {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"72c1a5d4-5c6c-42aa-8450-52c682763ee8","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.GetActiveApplications (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSG:00000002","RequestPath":"/api/v1/aplicaciones/activas","ConnectionId":"0HNHCTL0D8LSG"}
[2025-11-26 08:11:04.700 -05:00 INF] Obteniendo todas las configuraciones de empresa {"SourceContext":"ChatModularMicroservice.Api.Controllers.ConfiguracionEmpresaController","ActionId":"2bdaad6b-c9f0-4615-9b65-a92b7b0fe3dd","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionEmpresaController.GetAll (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSJ:00000004","RequestPath":"/api/v1/configuracion-empresa","ConnectionId":"0HNHCTL0D8LSJ"}
[2025-11-26 08:11:38.850 -05:00 INF] Obteniendo configuración para aplicación con código: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController","ActionId":"0905bab9-6ad4-4bb7-a2ca-7ae5124d489d","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSH:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHCTL0D8LSH"}
[2025-11-26 08:11:38.851 -05:00 INF] GetUserConversationsAsync for user 1000000001 in app SICOM_CHAT_2024 perJur DEFAULT {"SourceContext":"ChatModularMicroservice.Domain.ChatService","ActionId":"826890fe-c879-47af-a147-30f487b04068","ActionName":"ChatModularMicroservice.Api.Controllers.ChatModernController.GetMyConversations (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSJ:00000006","RequestPath":"/api/chat/conversations","ConnectionId":"0HNHCTL0D8LSJ"}
[2025-11-26 08:11:38.854 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Domain.ConfiguracionAplicacionUnificadaService","ActionId":"0905bab9-6ad4-4bb7-a2ca-7ae5124d489d","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSH:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHCTL0D8LSH"}
[2025-11-26 08:11:38.862 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"0905bab9-6ad4-4bb7-a2ca-7ae5124d489d","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSH:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHCTL0D8LSH"}
[2025-11-26 08:11:38.865 -05:00 INF] Intentando obtener aplicación con código exacto: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"0905bab9-6ad4-4bb7-a2ca-7ae5124d489d","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSH:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHCTL0D8LSH"}
[2025-11-26 08:11:38.929 -05:00 INF] SignalR connection attempt - AppCode: SICOM_CHAT_2024, HasAuthHeader: true {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"ZBvdNtuxdJgnLsMAKGHP-Q","RequestId":"0HNHCTL0D8LSK:00000001","RequestPath":"/chathub","ConnectionId":"0HNHCTL0D8LSK"}
[2025-11-26 08:11:38.974 -05:00 INF] Token validated with claims: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier:1000000001, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress:jsanchez@example.com, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name:Jeysson Sanchez, http://schemas.microsoft.com/ws/2008/06/identity/claims/role:ADMIN, username:JSANCHEZ, per_codigo:, per_jur_codigo:DEFAULT, user_id:1000000001, app_code:SICOM_CHAT_2024, nbf:1764118060, exp:1764377260, iat:1764118060, iss:ChatModularAPI, aud:ChatModularAPI {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"ZBvdNtuxdJgnLsMAKGHP-Q","RequestId":"0HNHCTL0D8LSK:00000001","RequestPath":"/chathub","ConnectionId":"0HNHCTL0D8LSK"}
[2025-11-26 08:11:38.977 -05:00 INF] Extracted user info - UserId: 1000000001, UserName: Jeysson Sanchez {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"ZBvdNtuxdJgnLsMAKGHP-Q","RequestId":"0HNHCTL0D8LSK:00000001","RequestPath":"/chathub","ConnectionId":"0HNHCTL0D8LSK"}
[2025-11-26 08:11:38.980 -05:00 INF] User Jeysson Sanchez connected to app SICOM_CHAT_2024 with connection ZBvdNtuxdJgnLsMAKGHP-Q {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"ZBvdNtuxdJgnLsMAKGHP-Q","RequestId":"0HNHCTL0D8LSK:00000001","RequestPath":"/chathub"}
[2025-11-26 08:11:39.125 -05:00 INF] Total de aplicaciones encontradas: 1 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"0905bab9-6ad4-4bb7-a2ca-7ae5124d489d","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSH:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHCTL0D8LSH"}
[2025-11-26 08:11:39.128 -05:00 INF] Aplicación encontrada - ID: 7, Código: SICOM_CHAT_2024, Activa: true {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"0905bab9-6ad4-4bb7-a2ca-7ae5124d489d","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSH:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHCTL0D8LSH"}
[2025-11-26 08:11:39.368 -05:00 INF] Resultado de aplicación: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"0905bab9-6ad4-4bb7-a2ca-7ae5124d489d","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSH:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHCTL0D8LSH"}
[2025-11-26 08:11:39.372 -05:00 INF] Aplicación encontrada con ID: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"0905bab9-6ad4-4bb7-a2ca-7ae5124d489d","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSH:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHCTL0D8LSH"}
[2025-11-26 08:11:39.376 -05:00 INF] Ejecutando query para obtener configuración con aplicacionId: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"0905bab9-6ad4-4bb7-a2ca-7ae5124d489d","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSH:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHCTL0D8LSH"}
[2025-11-26 08:11:39.621 -05:00 INF] Resultado de configuración: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"0905bab9-6ad4-4bb7-a2ca-7ae5124d489d","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSH:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHCTL0D8LSH"}
[2025-11-26 08:11:39.627 -05:00 INF] Configuración encontrada para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"0905bab9-6ad4-4bb7-a2ca-7ae5124d489d","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSH:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHCTL0D8LSH"}
[2025-11-26 08:14:44.963 -05:00 INF] User Jeysson Sanchez disconnected from app SICOM_CHAT_2024 with connection ZBvdNtuxdJgnLsMAKGHP-Q {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"ZBvdNtuxdJgnLsMAKGHP-Q","RequestId":"0HNHCTL0D8LSK:00000001","RequestPath":"/chathub"}
[2025-11-26 08:14:45.298 -05:00 INF] GetUserConversationsAsync for user 1000000001 in app SICOM_CHAT_2024 perJur DEFAULT {"SourceContext":"ChatModularMicroservice.Domain.ChatService","ActionId":"826890fe-c879-47af-a147-30f487b04068","ActionName":"ChatModularMicroservice.Api.Controllers.ChatModernController.GetMyConversations (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSL:00000002","RequestPath":"/api/chat/conversations","ConnectionId":"0HNHCTL0D8LSL"}
[2025-11-26 08:14:45.308 -05:00 INF] Obteniendo configuración para aplicación con código: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController","ActionId":"0905bab9-6ad4-4bb7-a2ca-7ae5124d489d","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSL:00000003","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHCTL0D8LSL"}
[2025-11-26 08:14:45.311 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Domain.ConfiguracionAplicacionUnificadaService","ActionId":"0905bab9-6ad4-4bb7-a2ca-7ae5124d489d","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSL:00000003","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHCTL0D8LSL"}
[2025-11-26 08:14:45.313 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"0905bab9-6ad4-4bb7-a2ca-7ae5124d489d","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSL:00000003","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHCTL0D8LSL"}
[2025-11-26 08:14:45.316 -05:00 INF] Intentando obtener aplicación con código exacto: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"0905bab9-6ad4-4bb7-a2ca-7ae5124d489d","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSL:00000003","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHCTL0D8LSL"}
[2025-11-26 08:14:45.416 -05:00 INF] SignalR connection attempt - AppCode: SICOM_CHAT_2024, HasAuthHeader: true {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"H4kZoVeoeEPL2comrxjgdA","RequestId":"0HNHCTL0D8LSN:00000001","RequestPath":"/chathub","ConnectionId":"0HNHCTL0D8LSN"}
[2025-11-26 08:14:45.419 -05:00 INF] Token validated with claims: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier:1000000001, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress:jsanchez@example.com, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name:Jeysson Sanchez, http://schemas.microsoft.com/ws/2008/06/identity/claims/role:ADMIN, username:JSANCHEZ, per_codigo:, per_jur_codigo:DEFAULT, user_id:1000000001, app_code:SICOM_CHAT_2024, nbf:1764118060, exp:1764377260, iat:1764118060, iss:ChatModularAPI, aud:ChatModularAPI {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"H4kZoVeoeEPL2comrxjgdA","RequestId":"0HNHCTL0D8LSN:00000001","RequestPath":"/chathub","ConnectionId":"0HNHCTL0D8LSN"}
[2025-11-26 08:14:45.422 -05:00 INF] Extracted user info - UserId: 1000000001, UserName: Jeysson Sanchez {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"H4kZoVeoeEPL2comrxjgdA","RequestId":"0HNHCTL0D8LSN:00000001","RequestPath":"/chathub","ConnectionId":"0HNHCTL0D8LSN"}
[2025-11-26 08:14:45.425 -05:00 INF] User Jeysson Sanchez connected to app SICOM_CHAT_2024 with connection H4kZoVeoeEPL2comrxjgdA {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"H4kZoVeoeEPL2comrxjgdA","RequestId":"0HNHCTL0D8LSN:00000001","RequestPath":"/chathub"}
[2025-11-26 08:14:45.922 -05:00 INF] Total de aplicaciones encontradas: 1 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"0905bab9-6ad4-4bb7-a2ca-7ae5124d489d","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSL:00000003","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHCTL0D8LSL"}
[2025-11-26 08:14:45.935 -05:00 INF] Aplicación encontrada - ID: 7, Código: SICOM_CHAT_2024, Activa: true {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"0905bab9-6ad4-4bb7-a2ca-7ae5124d489d","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSL:00000003","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHCTL0D8LSL"}
[2025-11-26 08:14:46.088 -05:00 INF] Resultado de aplicación: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"0905bab9-6ad4-4bb7-a2ca-7ae5124d489d","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSL:00000003","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHCTL0D8LSL"}
[2025-11-26 08:14:46.098 -05:00 INF] Aplicación encontrada con ID: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"0905bab9-6ad4-4bb7-a2ca-7ae5124d489d","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSL:00000003","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHCTL0D8LSL"}
[2025-11-26 08:14:46.102 -05:00 INF] Ejecutando query para obtener configuración con aplicacionId: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"0905bab9-6ad4-4bb7-a2ca-7ae5124d489d","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSL:00000003","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHCTL0D8LSL"}
[2025-11-26 08:14:46.260 -05:00 INF] Resultado de configuración: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"0905bab9-6ad4-4bb7-a2ca-7ae5124d489d","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSL:00000003","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHCTL0D8LSL"}
[2025-11-26 08:14:46.264 -05:00 INF] Configuración encontrada para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"0905bab9-6ad4-4bb7-a2ca-7ae5124d489d","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSL:00000003","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHCTL0D8LSL"}
[2025-11-26 08:15:08.317 -05:00 INF] User Jeysson Sanchez disconnected from app SICOM_CHAT_2024 with connection H4kZoVeoeEPL2comrxjgdA {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"H4kZoVeoeEPL2comrxjgdA","RequestId":"0HNHCTL0D8LSN:00000001","RequestPath":"/chathub"}
[2025-11-26 08:15:08.654 -05:00 INF] GetUserConversationsAsync for user 1000000001 in app SICOM_CHAT_2024 perJur DEFAULT {"SourceContext":"ChatModularMicroservice.Domain.ChatService","ActionId":"826890fe-c879-47af-a147-30f487b04068","ActionName":"ChatModularMicroservice.Api.Controllers.ChatModernController.GetMyConversations (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSL:00000007","RequestPath":"/api/chat/conversations","ConnectionId":"0HNHCTL0D8LSL"}
[2025-11-26 08:15:08.661 -05:00 INF] Obteniendo configuración para aplicación con código: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController","ActionId":"0905bab9-6ad4-4bb7-a2ca-7ae5124d489d","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSM:00000003","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHCTL0D8LSM"}
[2025-11-26 08:15:08.663 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Domain.ConfiguracionAplicacionUnificadaService","ActionId":"0905bab9-6ad4-4bb7-a2ca-7ae5124d489d","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSM:00000003","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHCTL0D8LSM"}
[2025-11-26 08:15:08.665 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"0905bab9-6ad4-4bb7-a2ca-7ae5124d489d","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSM:00000003","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHCTL0D8LSM"}
[2025-11-26 08:15:08.667 -05:00 INF] Intentando obtener aplicación con código exacto: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"0905bab9-6ad4-4bb7-a2ca-7ae5124d489d","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSM:00000003","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHCTL0D8LSM"}
[2025-11-26 08:15:08.747 -05:00 INF] SignalR connection attempt - AppCode: SICOM_CHAT_2024, HasAuthHeader: true {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"Filrz1PQWFEOyLQIeekWiw","RequestId":"0HNHCTL0D8LSO:00000001","RequestPath":"/chathub","ConnectionId":"0HNHCTL0D8LSO"}
[2025-11-26 08:15:08.750 -05:00 INF] Token validated with claims: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier:1000000001, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress:jsanchez@example.com, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name:Jeysson Sanchez, http://schemas.microsoft.com/ws/2008/06/identity/claims/role:ADMIN, username:JSANCHEZ, per_codigo:, per_jur_codigo:DEFAULT, user_id:1000000001, app_code:SICOM_CHAT_2024, nbf:1764118060, exp:1764377260, iat:1764118060, iss:ChatModularAPI, aud:ChatModularAPI {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"Filrz1PQWFEOyLQIeekWiw","RequestId":"0HNHCTL0D8LSO:00000001","RequestPath":"/chathub","ConnectionId":"0HNHCTL0D8LSO"}
[2025-11-26 08:15:08.752 -05:00 INF] Extracted user info - UserId: 1000000001, UserName: Jeysson Sanchez {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"Filrz1PQWFEOyLQIeekWiw","RequestId":"0HNHCTL0D8LSO:00000001","RequestPath":"/chathub","ConnectionId":"0HNHCTL0D8LSO"}
[2025-11-26 08:15:08.755 -05:00 INF] User Jeysson Sanchez connected to app SICOM_CHAT_2024 with connection Filrz1PQWFEOyLQIeekWiw {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"Filrz1PQWFEOyLQIeekWiw","RequestId":"0HNHCTL0D8LSO:00000001","RequestPath":"/chathub"}
[2025-11-26 08:15:08.821 -05:00 INF] Total de aplicaciones encontradas: 1 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"0905bab9-6ad4-4bb7-a2ca-7ae5124d489d","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSM:00000003","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHCTL0D8LSM"}
[2025-11-26 08:15:08.824 -05:00 INF] Aplicación encontrada - ID: 7, Código: SICOM_CHAT_2024, Activa: true {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"0905bab9-6ad4-4bb7-a2ca-7ae5124d489d","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSM:00000003","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHCTL0D8LSM"}
[2025-11-26 08:15:08.989 -05:00 INF] Resultado de aplicación: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"0905bab9-6ad4-4bb7-a2ca-7ae5124d489d","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSM:00000003","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHCTL0D8LSM"}
[2025-11-26 08:15:08.992 -05:00 INF] Aplicación encontrada con ID: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"0905bab9-6ad4-4bb7-a2ca-7ae5124d489d","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSM:00000003","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHCTL0D8LSM"}
[2025-11-26 08:15:08.995 -05:00 INF] Ejecutando query para obtener configuración con aplicacionId: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"0905bab9-6ad4-4bb7-a2ca-7ae5124d489d","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSM:00000003","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHCTL0D8LSM"}
[2025-11-26 08:15:09.153 -05:00 INF] Resultado de configuración: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"0905bab9-6ad4-4bb7-a2ca-7ae5124d489d","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSM:00000003","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHCTL0D8LSM"}
[2025-11-26 08:15:09.156 -05:00 INF] Configuración encontrada para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"0905bab9-6ad4-4bb7-a2ca-7ae5124d489d","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSM:00000003","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHCTL0D8LSM"}
[2025-11-26 08:19:33.941 -05:00 INF] User Jeysson Sanchez disconnected from app SICOM_CHAT_2024 with connection Filrz1PQWFEOyLQIeekWiw {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"Filrz1PQWFEOyLQIeekWiw","RequestId":"0HNHCTL0D8LSO:00000001","RequestPath":"/chathub"}
[2025-11-26 08:19:34.261 -05:00 INF] GetUserConversationsAsync for user 1000000001 in app SICOM_CHAT_2024 perJur DEFAULT {"SourceContext":"ChatModularMicroservice.Domain.ChatService","ActionId":"826890fe-c879-47af-a147-30f487b04068","ActionName":"ChatModularMicroservice.Api.Controllers.ChatModernController.GetMyConversations (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSP:00000002","RequestPath":"/api/chat/conversations","ConnectionId":"0HNHCTL0D8LSP"}
[2025-11-26 08:19:34.264 -05:00 INF] Obteniendo configuración para aplicación con código: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController","ActionId":"0905bab9-6ad4-4bb7-a2ca-7ae5124d489d","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSQ:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHCTL0D8LSQ"}
[2025-11-26 08:19:34.266 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Domain.ConfiguracionAplicacionUnificadaService","ActionId":"0905bab9-6ad4-4bb7-a2ca-7ae5124d489d","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSQ:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHCTL0D8LSQ"}
[2025-11-26 08:19:34.269 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"0905bab9-6ad4-4bb7-a2ca-7ae5124d489d","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSQ:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHCTL0D8LSQ"}
[2025-11-26 08:19:34.272 -05:00 INF] Intentando obtener aplicación con código exacto: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"0905bab9-6ad4-4bb7-a2ca-7ae5124d489d","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSQ:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHCTL0D8LSQ"}
[2025-11-26 08:19:34.337 -05:00 INF] SignalR connection attempt - AppCode: SICOM_CHAT_2024, HasAuthHeader: true {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"T1mCl1xh_bpUDHQ9QIFMlQ","RequestId":"0HNHCTL0D8LSR:00000001","RequestPath":"/chathub","ConnectionId":"0HNHCTL0D8LSR"}
[2025-11-26 08:19:34.341 -05:00 INF] Token validated with claims: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier:1000000001, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress:jsanchez@example.com, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name:Jeysson Sanchez, http://schemas.microsoft.com/ws/2008/06/identity/claims/role:ADMIN, username:JSANCHEZ, per_codigo:, per_jur_codigo:DEFAULT, user_id:1000000001, app_code:SICOM_CHAT_2024, nbf:1764118060, exp:1764377260, iat:1764118060, iss:ChatModularAPI, aud:ChatModularAPI {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"T1mCl1xh_bpUDHQ9QIFMlQ","RequestId":"0HNHCTL0D8LSR:00000001","RequestPath":"/chathub","ConnectionId":"0HNHCTL0D8LSR"}
[2025-11-26 08:19:34.343 -05:00 INF] Extracted user info - UserId: 1000000001, UserName: Jeysson Sanchez {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"T1mCl1xh_bpUDHQ9QIFMlQ","RequestId":"0HNHCTL0D8LSR:00000001","RequestPath":"/chathub","ConnectionId":"0HNHCTL0D8LSR"}
[2025-11-26 08:19:34.346 -05:00 INF] User Jeysson Sanchez connected to app SICOM_CHAT_2024 with connection T1mCl1xh_bpUDHQ9QIFMlQ {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"T1mCl1xh_bpUDHQ9QIFMlQ","RequestId":"0HNHCTL0D8LSR:00000001","RequestPath":"/chathub"}
[2025-11-26 08:19:34.605 -05:00 INF] Total de aplicaciones encontradas: 1 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"0905bab9-6ad4-4bb7-a2ca-7ae5124d489d","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSQ:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHCTL0D8LSQ"}
[2025-11-26 08:19:34.608 -05:00 INF] Aplicación encontrada - ID: 7, Código: SICOM_CHAT_2024, Activa: true {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"0905bab9-6ad4-4bb7-a2ca-7ae5124d489d","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSQ:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHCTL0D8LSQ"}
[2025-11-26 08:19:34.747 -05:00 INF] Resultado de aplicación: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"0905bab9-6ad4-4bb7-a2ca-7ae5124d489d","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSQ:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHCTL0D8LSQ"}
[2025-11-26 08:19:34.750 -05:00 INF] Aplicación encontrada con ID: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"0905bab9-6ad4-4bb7-a2ca-7ae5124d489d","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSQ:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHCTL0D8LSQ"}
[2025-11-26 08:19:34.754 -05:00 INF] Ejecutando query para obtener configuración con aplicacionId: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"0905bab9-6ad4-4bb7-a2ca-7ae5124d489d","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSQ:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHCTL0D8LSQ"}
[2025-11-26 08:19:34.901 -05:00 INF] Resultado de configuración: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"0905bab9-6ad4-4bb7-a2ca-7ae5124d489d","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSQ:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHCTL0D8LSQ"}
[2025-11-26 08:19:34.907 -05:00 INF] Configuración encontrada para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"0905bab9-6ad4-4bb7-a2ca-7ae5124d489d","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSQ:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHCTL0D8LSQ"}
[2025-11-26 08:19:35.377 -05:00 INF] User Jeysson Sanchez disconnected from app SICOM_CHAT_2024 with connection T1mCl1xh_bpUDHQ9QIFMlQ {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"T1mCl1xh_bpUDHQ9QIFMlQ","RequestId":"0HNHCTL0D8LSR:00000001","RequestPath":"/chathub"}
[2025-11-26 08:19:35.405 -05:00 INF] Ejecutando stored procedure (lista): usp_applications_select {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"12045642-33a6-4bdd-beeb-7aba53cbfed2","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.GetAllApplications (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSQ:00000006","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCTL0D8LSQ"}
[2025-11-26 08:19:35.410 -05:00 INF] Ejecutando stored procedure (lista): usp_applications_select {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"72c1a5d4-5c6c-42aa-8450-52c682763ee8","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.GetActiveApplications (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSP:00000004","RequestPath":"/api/v1/aplicaciones/activas","ConnectionId":"0HNHCTL0D8LSP"}
[2025-11-26 08:19:35.590 -05:00 INF] Obteniendo configuración para aplicación con código: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController","ActionId":"0905bab9-6ad4-4bb7-a2ca-7ae5124d489d","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSS:00000005","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHCTL0D8LSS"}
[2025-11-26 08:19:35.593 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Domain.ConfiguracionAplicacionUnificadaService","ActionId":"0905bab9-6ad4-4bb7-a2ca-7ae5124d489d","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSS:00000005","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHCTL0D8LSS"}
[2025-11-26 08:19:35.596 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"0905bab9-6ad4-4bb7-a2ca-7ae5124d489d","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSS:00000005","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHCTL0D8LSS"}
[2025-11-26 08:19:35.598 -05:00 INF] Intentando obtener aplicación con código exacto: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"0905bab9-6ad4-4bb7-a2ca-7ae5124d489d","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSS:00000005","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHCTL0D8LSS"}
[2025-11-26 08:19:35.621 -05:00 INF] Obteniendo todas las configuraciones de empresa {"SourceContext":"ChatModularMicroservice.Api.Controllers.ConfiguracionEmpresaController","ActionId":"2bdaad6b-c9f0-4615-9b65-a92b7b0fe3dd","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionEmpresaController.GetAll (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSV:00000002","RequestPath":"/api/v1/configuracion-empresa","ConnectionId":"0HNHCTL0D8LSV"}
[2025-11-26 08:19:35.740 -05:00 INF] Total de aplicaciones encontradas: 1 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"0905bab9-6ad4-4bb7-a2ca-7ae5124d489d","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSS:00000005","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHCTL0D8LSS"}
[2025-11-26 08:19:35.745 -05:00 INF] Aplicación encontrada - ID: 7, Código: SICOM_CHAT_2024, Activa: true {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"0905bab9-6ad4-4bb7-a2ca-7ae5124d489d","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSS:00000005","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHCTL0D8LSS"}
[2025-11-26 08:19:35.887 -05:00 INF] Resultado de aplicación: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"0905bab9-6ad4-4bb7-a2ca-7ae5124d489d","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSS:00000005","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHCTL0D8LSS"}
[2025-11-26 08:19:35.892 -05:00 INF] Aplicación encontrada con ID: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"0905bab9-6ad4-4bb7-a2ca-7ae5124d489d","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSS:00000005","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHCTL0D8LSS"}
[2025-11-26 08:19:35.896 -05:00 INF] Ejecutando query para obtener configuración con aplicacionId: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"0905bab9-6ad4-4bb7-a2ca-7ae5124d489d","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSS:00000005","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHCTL0D8LSS"}
[2025-11-26 08:19:36.120 -05:00 INF] Resultado de configuración: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"0905bab9-6ad4-4bb7-a2ca-7ae5124d489d","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSS:00000005","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHCTL0D8LSS"}
[2025-11-26 08:19:36.123 -05:00 INF] Configuración encontrada para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"0905bab9-6ad4-4bb7-a2ca-7ae5124d489d","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LSS:00000005","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHCTL0D8LSS"}
[2025-11-26 08:19:37.403 -05:00 INF] SignalR connection attempt - AppCode: SICOM_CHAT_2024, HasAuthHeader: true {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"7hTx_dkukeAQViq27bCGJA","RequestId":"0HNHCTL0D8LT0:00000001","RequestPath":"/chathub","ConnectionId":"0HNHCTL0D8LT0"}
[2025-11-26 08:19:37.408 -05:00 INF] Token validated with claims: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier:1000000001, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress:jsanchez@example.com, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name:Jeysson Sanchez, http://schemas.microsoft.com/ws/2008/06/identity/claims/role:ADMIN, username:JSANCHEZ, per_codigo:, per_jur_codigo:DEFAULT, user_id:1000000001, app_code:SICOM_CHAT_2024, nbf:1764118060, exp:1764377260, iat:1764118060, iss:ChatModularAPI, aud:ChatModularAPI {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"7hTx_dkukeAQViq27bCGJA","RequestId":"0HNHCTL0D8LT0:00000001","RequestPath":"/chathub","ConnectionId":"0HNHCTL0D8LT0"}
[2025-11-26 08:19:37.411 -05:00 INF] Extracted user info - UserId: 1000000001, UserName: Jeysson Sanchez {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"7hTx_dkukeAQViq27bCGJA","RequestId":"0HNHCTL0D8LT0:00000001","RequestPath":"/chathub","ConnectionId":"0HNHCTL0D8LT0"}
[2025-11-26 08:19:37.413 -05:00 INF] User Jeysson Sanchez connected to app SICOM_CHAT_2024 with connection 7hTx_dkukeAQViq27bCGJA {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"7hTx_dkukeAQViq27bCGJA","RequestId":"0HNHCTL0D8LT0:00000001","RequestPath":"/chathub"}
[2025-11-26 08:47:35.743 -05:00 INF] Ejecutando stored procedure (lista): usp_applications_select {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"12045642-33a6-4bdd-beeb-7aba53cbfed2","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.GetAllApplications (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LT1:00000002","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCTL0D8LT1"}
[2025-11-26 09:01:41.791 -05:00 INF] Ejecutando stored procedure (lista): usp_application_getbyid {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"6c2293e6-da42-4781-acdb-91ccd35cb7be","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.GetApplicationById (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LT2:00000002","RequestPath":"/api/v1/aplicaciones/7","ConnectionId":"0HNHCTL0D8LT2"}
[2025-11-26 09:01:42.998 -05:00 ERR] Error ejecutando stored procedure usp_application_getbyid: {"code":"PGRST202","details":"Searched for the function public.usp_application_getbyid with parameter nAplicacionesId or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.usp_applications_select","message":"Could not find the function public.usp_application_getbyid(nAplicacionesId) in the schema cache"} {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"6c2293e6-da42-4781-acdb-91ccd35cb7be","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.GetApplicationById (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LT2:00000002","RequestPath":"/api/v1/aplicaciones/7","ConnectionId":"0HNHCTL0D8LT2"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST202","details":"Searched for the function public.usp_application_getbyid with parameter nAplicacionesId or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.usp_applications_select","message":"Could not find the function public.usp_application_getbyid(nAplicacionesId) in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.Repositories.SupabaseRepository.ExecuteStoredProcedureListAsync[T](String procedureName, Object parameters, String clientName) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\SupabaseRepository.cs:line 101
[2025-11-26 09:01:43.298 -05:00 INF] Ejecutando stored procedure (lista): usp_application_getbyid {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"ae5634cf-3da3-48c3-88f9-b0302734426b","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.UpdateApplication (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LT2:00000004","RequestPath":"/api/v1/aplicaciones/7","ConnectionId":"0HNHCTL0D8LT2"}
[2025-11-26 09:01:43.518 -05:00 ERR] Error ejecutando stored procedure usp_application_getbyid: {"code":"PGRST202","details":"Searched for the function public.usp_application_getbyid with parameter nAplicacionesId or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.usp_applications_select","message":"Could not find the function public.usp_application_getbyid(nAplicacionesId) in the schema cache"} {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"ae5634cf-3da3-48c3-88f9-b0302734426b","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.UpdateApplication (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LT2:00000004","RequestPath":"/api/v1/aplicaciones/7","ConnectionId":"0HNHCTL0D8LT2"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST202","details":"Searched for the function public.usp_application_getbyid with parameter nAplicacionesId or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.usp_applications_select","message":"Could not find the function public.usp_application_getbyid(nAplicacionesId) in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.Repositories.SupabaseRepository.ExecuteStoredProcedureListAsync[T](String procedureName, Object parameters, String clientName) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\SupabaseRepository.cs:line 101
[2025-11-26 09:01:43.732 -05:00 ERR] Error en controlador: Specified method is not supported. {"SourceContext":"ChatModularMicroservice.Api.Controllers.AplicacionesController","ActionId":"ae5634cf-3da3-48c3-88f9-b0302734426b","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.UpdateApplication (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LT2:00000004","RequestPath":"/api/v1/aplicaciones/7","ConnectionId":"0HNHCTL0D8LT2"}
System.NotSupportedException: Specified method is not supported.
   at ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository.UpdateApplicationAsync(Application application) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\ApplicationSupabaseRepository.cs:line 145
   at ChatModularMicroservice.Domain.ApplicationService.UpdateApplicationAsync(Int32 id, UpdateApplicationDto updateDto) in d:\Chat\ChatBackend\ChatModularAPI\02.Layer Domain\ChatModularMicroservice.Domain\ApplicationService.cs:line 61
   at ChatModularMicroservice.Api.Controllers.AplicacionesController.UpdateApplication(String id, UpdateApplicationDto updateApplicationDto) in d:\Chat\ChatBackend\ChatModularAPI\03.Layer Api\ChatModularMicroservice.Api\Controllers\AplicacionesController.cs:line 220
[2025-11-26 09:01:48.370 -05:00 INF] Ejecutando stored procedure (lista): usp_applications_select {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"12045642-33a6-4bdd-beeb-7aba53cbfed2","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.GetAllApplications (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LT2:00000006","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCTL0D8LT2"}
[2025-11-26 09:02:02.690 -05:00 INF] Ejecutando stored procedure (lista): sp_aplicaciones_crear {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"d027d845-f324-4d21-baa2-f70eb2a5d6b5","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.CreateApplication (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LT2:00000008","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCTL0D8LT2"}
[2025-11-26 09:02:02.956 -05:00 ERR] Error ejecutando stored procedure sp_aplicaciones_crear: {"code":"PGRST202","details":"Searched for the function public.sp_aplicaciones_crear with parameters p_caplicacionescodigo, p_caplicacionesdescripcion, p_caplicacionesnombre, p_cappregistroscodigoapp, p_cappregistrosnombreapp or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.sp_aplicaciones_crear(p_caplicacionescodigo, p_caplicacionesdescripcion, p_caplicacionesnombre)","message":"Could not find the function public.sp_aplicaciones_crear(p_caplicacionescodigo, p_caplicacionesdescripcion, p_caplicacionesnombre, p_cappregistroscodigoapp, p_cappregistrosnombreapp) in the schema cache"} {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"d027d845-f324-4d21-baa2-f70eb2a5d6b5","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.CreateApplication (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LT2:00000008","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCTL0D8LT2"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST202","details":"Searched for the function public.sp_aplicaciones_crear with parameters p_caplicacionescodigo, p_caplicacionesdescripcion, p_caplicacionesnombre, p_cappregistroscodigoapp, p_cappregistrosnombreapp or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.sp_aplicaciones_crear(p_caplicacionescodigo, p_caplicacionesdescripcion, p_caplicacionesnombre)","message":"Could not find the function public.sp_aplicaciones_crear(p_caplicacionescodigo, p_caplicacionesdescripcion, p_caplicacionesnombre, p_cappregistroscodigoapp, p_cappregistrosnombreapp) in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.Repositories.SupabaseRepository.ExecuteStoredProcedureListAsync[T](String procedureName, Object parameters, String clientName) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\SupabaseRepository.cs:line 101
[2025-11-26 09:02:02.967 -05:00 INF] Ejecutando stored procedure (lista): sp_aplicaciones_crear {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"d027d845-f324-4d21-baa2-f70eb2a5d6b5","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.CreateApplication (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LT2:00000008","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCTL0D8LT2"}
[2025-11-26 09:02:03.136 -05:00 ERR] Error ejecutando stored procedure sp_aplicaciones_crear: {"code":"PGRST202","details":"Searched for the function public.sp_aplicaciones_crear with parameters cAplicacionesCodigo, cAplicacionesDescripcion, cAplicacionesNombre or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.sp_aplicaciones_crear(p_caplicacionescodigo, p_caplicacionesdescripcion, p_caplicacionesnombre)","message":"Could not find the function public.sp_aplicaciones_crear(cAplicacionesCodigo, cAplicacionesDescripcion, cAplicacionesNombre) in the schema cache"} {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"d027d845-f324-4d21-baa2-f70eb2a5d6b5","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.CreateApplication (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LT2:00000008","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCTL0D8LT2"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST202","details":"Searched for the function public.sp_aplicaciones_crear with parameters cAplicacionesCodigo, cAplicacionesDescripcion, cAplicacionesNombre or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.sp_aplicaciones_crear(p_caplicacionescodigo, p_caplicacionesdescripcion, p_caplicacionesnombre)","message":"Could not find the function public.sp_aplicaciones_crear(cAplicacionesCodigo, cAplicacionesDescripcion, cAplicacionesNombre) in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.Repositories.SupabaseRepository.ExecuteStoredProcedureListAsync[T](String procedureName, Object parameters, String clientName) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\SupabaseRepository.cs:line 101
[2025-11-26 09:02:03.142 -05:00 ERR] Error en controlador: Error al crear aplicación: Error ejecutando sp_aplicaciones_crear: {"code":"PGRST202","details":"Searched for the function public.sp_aplicaciones_crear with parameters cAplicacionesCodigo, cAplicacionesDescripcion, cAplicacionesNombre or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.sp_aplicaciones_crear(p_caplicacionescodigo, p_caplicacionesdescripcion, p_caplicacionesnombre)","message":"Could not find the function public.sp_aplicaciones_crear(cAplicacionesCodigo, cAplicacionesDescripcion, cAplicacionesNombre) in the schema cache"} {"SourceContext":"ChatModularMicroservice.Api.Controllers.AplicacionesController","ActionId":"d027d845-f324-4d21-baa2-f70eb2a5d6b5","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.CreateApplication (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LT2:00000008","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCTL0D8LT2"}
System.Exception: Error al crear aplicación: Error ejecutando sp_aplicaciones_crear: {"code":"PGRST202","details":"Searched for the function public.sp_aplicaciones_crear with parameters cAplicacionesCodigo, cAplicacionesDescripcion, cAplicacionesNombre or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.sp_aplicaciones_crear(p_caplicacionescodigo, p_caplicacionesdescripcion, p_caplicacionesnombre)","message":"Could not find the function public.sp_aplicaciones_crear(cAplicacionesCodigo, cAplicacionesDescripcion, cAplicacionesNombre) in the schema cache"}
   at ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository.CreateApplicationAsync(Application application) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\ApplicationSupabaseRepository.cs:line 140
   at ChatModularMicroservice.Domain.ApplicationService.CreateApplicationAsync(CreateApplicationDto createDto) in d:\Chat\ChatBackend\ChatModularAPI\02.Layer Domain\ChatModularMicroservice.Domain\ApplicationService.cs:line 49
   at ChatModularMicroservice.Api.Controllers.AplicacionesController.CreateApplication(CreateApplicationDto createApplicationDto) in d:\Chat\ChatBackend\ChatModularAPI\03.Layer Api\ChatModularMicroservice.Api\Controllers\AplicacionesController.cs:line 139
[2025-11-26 09:02:14.623 -05:00 INF] Ejecutando stored procedure (lista): sp_aplicaciones_crear {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"d027d845-f324-4d21-baa2-f70eb2a5d6b5","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.CreateApplication (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LT2:0000000A","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCTL0D8LT2"}
[2025-11-26 09:02:14.795 -05:00 ERR] Error ejecutando stored procedure sp_aplicaciones_crear: {"code":"PGRST202","details":"Searched for the function public.sp_aplicaciones_crear with parameters p_caplicacionescodigo, p_caplicacionesdescripcion, p_caplicacionesnombre, p_cappregistroscodigoapp, p_cappregistrosnombreapp or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.sp_aplicaciones_crear(p_caplicacionescodigo, p_caplicacionesdescripcion, p_caplicacionesnombre)","message":"Could not find the function public.sp_aplicaciones_crear(p_caplicacionescodigo, p_caplicacionesdescripcion, p_caplicacionesnombre, p_cappregistroscodigoapp, p_cappregistrosnombreapp) in the schema cache"} {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"d027d845-f324-4d21-baa2-f70eb2a5d6b5","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.CreateApplication (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LT2:0000000A","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCTL0D8LT2"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST202","details":"Searched for the function public.sp_aplicaciones_crear with parameters p_caplicacionescodigo, p_caplicacionesdescripcion, p_caplicacionesnombre, p_cappregistroscodigoapp, p_cappregistrosnombreapp or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.sp_aplicaciones_crear(p_caplicacionescodigo, p_caplicacionesdescripcion, p_caplicacionesnombre)","message":"Could not find the function public.sp_aplicaciones_crear(p_caplicacionescodigo, p_caplicacionesdescripcion, p_caplicacionesnombre, p_cappregistroscodigoapp, p_cappregistrosnombreapp) in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.Repositories.SupabaseRepository.ExecuteStoredProcedureListAsync[T](String procedureName, Object parameters, String clientName) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\SupabaseRepository.cs:line 101
[2025-11-26 09:02:14.802 -05:00 INF] Ejecutando stored procedure (lista): sp_aplicaciones_crear {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"d027d845-f324-4d21-baa2-f70eb2a5d6b5","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.CreateApplication (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LT2:0000000A","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCTL0D8LT2"}
[2025-11-26 09:02:14.959 -05:00 ERR] Error ejecutando stored procedure sp_aplicaciones_crear: {"code":"PGRST202","details":"Searched for the function public.sp_aplicaciones_crear with parameters cAplicacionesCodigo, cAplicacionesDescripcion, cAplicacionesNombre or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.sp_aplicaciones_crear(p_caplicacionescodigo, p_caplicacionesdescripcion, p_caplicacionesnombre)","message":"Could not find the function public.sp_aplicaciones_crear(cAplicacionesCodigo, cAplicacionesDescripcion, cAplicacionesNombre) in the schema cache"} {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"d027d845-f324-4d21-baa2-f70eb2a5d6b5","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.CreateApplication (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LT2:0000000A","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCTL0D8LT2"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST202","details":"Searched for the function public.sp_aplicaciones_crear with parameters cAplicacionesCodigo, cAplicacionesDescripcion, cAplicacionesNombre or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.sp_aplicaciones_crear(p_caplicacionescodigo, p_caplicacionesdescripcion, p_caplicacionesnombre)","message":"Could not find the function public.sp_aplicaciones_crear(cAplicacionesCodigo, cAplicacionesDescripcion, cAplicacionesNombre) in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.Repositories.SupabaseRepository.ExecuteStoredProcedureListAsync[T](String procedureName, Object parameters, String clientName) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\SupabaseRepository.cs:line 101
[2025-11-26 09:02:14.964 -05:00 ERR] Error en controlador: Error al crear aplicación: Error ejecutando sp_aplicaciones_crear: {"code":"PGRST202","details":"Searched for the function public.sp_aplicaciones_crear with parameters cAplicacionesCodigo, cAplicacionesDescripcion, cAplicacionesNombre or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.sp_aplicaciones_crear(p_caplicacionescodigo, p_caplicacionesdescripcion, p_caplicacionesnombre)","message":"Could not find the function public.sp_aplicaciones_crear(cAplicacionesCodigo, cAplicacionesDescripcion, cAplicacionesNombre) in the schema cache"} {"SourceContext":"ChatModularMicroservice.Api.Controllers.AplicacionesController","ActionId":"d027d845-f324-4d21-baa2-f70eb2a5d6b5","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.CreateApplication (ChatModularMicroservice.Api)","RequestId":"0HNHCTL0D8LT2:0000000A","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCTL0D8LT2"}
System.Exception: Error al crear aplicación: Error ejecutando sp_aplicaciones_crear: {"code":"PGRST202","details":"Searched for the function public.sp_aplicaciones_crear with parameters cAplicacionesCodigo, cAplicacionesDescripcion, cAplicacionesNombre or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.sp_aplicaciones_crear(p_caplicacionescodigo, p_caplicacionesdescripcion, p_caplicacionesnombre)","message":"Could not find the function public.sp_aplicaciones_crear(cAplicacionesCodigo, cAplicacionesDescripcion, cAplicacionesNombre) in the schema cache"}
   at ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository.CreateApplicationAsync(Application application) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\ApplicationSupabaseRepository.cs:line 140
   at ChatModularMicroservice.Domain.ApplicationService.CreateApplicationAsync(CreateApplicationDto createDto) in d:\Chat\ChatBackend\ChatModularAPI\02.Layer Domain\ChatModularMicroservice.Domain\ApplicationService.cs:line 49
   at ChatModularMicroservice.Api.Controllers.AplicacionesController.CreateApplication(CreateApplicationDto createApplicationDto) in d:\Chat\ChatBackend\ChatModularAPI\03.Layer Api\ChatModularMicroservice.Api\Controllers\AplicacionesController.cs:line 139
[2025-11-26 09:02:42.675 -05:00 INF] User Jeysson Sanchez disconnected from app SICOM_CHAT_2024 with connection 7hTx_dkukeAQViq27bCGJA {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"7hTx_dkukeAQViq27bCGJA","RequestId":"0HNHCTL0D8LT0:00000001","RequestPath":"/chathub"}
[2025-11-26 09:02:55.988 -05:00 INF] Iniciando aplicación ChatModular API {}
[2025-11-26 09:02:56.028 -05:00 INF] Servidor escuchando en: http://localhost:5405;http://localhost:5406 {}
[2025-11-26 09:02:56.321 -05:00 INF] SignalR connection attempt - AppCode: SICOM_CHAT_2024, HasAuthHeader: true {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"34F6Ht0O4RmczBSa8MPDew","RequestId":"0HNHCUHVTKQQ4:00000001","RequestPath":"/chathub","ConnectionId":"0HNHCUHVTKQQ4"}
[2025-11-26 09:02:56.343 -05:00 INF] Token validated with claims: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier:1000000001, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress:jsanchez@example.com, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name:Jeysson Sanchez, http://schemas.microsoft.com/ws/2008/06/identity/claims/role:ADMIN, username:JSANCHEZ, per_codigo:, per_jur_codigo:DEFAULT, user_id:1000000001, app_code:SICOM_CHAT_2024, nbf:1764118060, exp:1764377260, iat:1764118060, iss:ChatModularAPI, aud:ChatModularAPI {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"34F6Ht0O4RmczBSa8MPDew","RequestId":"0HNHCUHVTKQQ4:00000001","RequestPath":"/chathub","ConnectionId":"0HNHCUHVTKQQ4"}
[2025-11-26 09:02:56.346 -05:00 INF] Extracted user info - UserId: 1000000001, UserName: Jeysson Sanchez {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"34F6Ht0O4RmczBSa8MPDew","RequestId":"0HNHCUHVTKQQ4:00000001","RequestPath":"/chathub","ConnectionId":"0HNHCUHVTKQQ4"}
[2025-11-26 09:02:56.350 -05:00 INF] User Jeysson Sanchez connected to app SICOM_CHAT_2024 with connection 34F6Ht0O4RmczBSa8MPDew {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"34F6Ht0O4RmczBSa8MPDew","RequestId":"0HNHCUHVTKQQ4:00000001","RequestPath":"/chathub"}
[2025-11-26 09:33:32.019 -05:00 INF] Ejecutando stored procedure (lista): sp_aplicaciones_crear {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"211bc7a7-0c92-4de5-9b44-33383246bdd8","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.CreateApplication (ChatModularMicroservice.Api)","RequestId":"0HNHCUHVTKQQ5:00000002","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCUHVTKQQ5"}
[2025-11-26 09:33:33.355 -05:00 ERR] Error ejecutando stored procedure sp_aplicaciones_crear: {"code":"PGRST202","details":"Searched for the function public.sp_aplicaciones_crear with parameters p_caplicacionescodigo, p_caplicacionesdescripcion, p_caplicacionesnombre, p_cappregistroscodigoapp, p_cappregistrosnombreapp or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.sp_aplicaciones_crear(p_caplicacionescodigo, p_caplicacionesdescripcion, p_caplicacionesnombre)","message":"Could not find the function public.sp_aplicaciones_crear(p_caplicacionescodigo, p_caplicacionesdescripcion, p_caplicacionesnombre, p_cappregistroscodigoapp, p_cappregistrosnombreapp) in the schema cache"} {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"211bc7a7-0c92-4de5-9b44-33383246bdd8","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.CreateApplication (ChatModularMicroservice.Api)","RequestId":"0HNHCUHVTKQQ5:00000002","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCUHVTKQQ5"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST202","details":"Searched for the function public.sp_aplicaciones_crear with parameters p_caplicacionescodigo, p_caplicacionesdescripcion, p_caplicacionesnombre, p_cappregistroscodigoapp, p_cappregistrosnombreapp or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.sp_aplicaciones_crear(p_caplicacionescodigo, p_caplicacionesdescripcion, p_caplicacionesnombre)","message":"Could not find the function public.sp_aplicaciones_crear(p_caplicacionescodigo, p_caplicacionesdescripcion, p_caplicacionesnombre, p_cappregistroscodigoapp, p_cappregistrosnombreapp) in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.Repositories.SupabaseRepository.ExecuteStoredProcedureListAsync[T](String procedureName, Object parameters, String clientName) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\SupabaseRepository.cs:line 101
[2025-11-26 09:33:33.377 -05:00 INF] Ejecutando stored procedure (lista): sp_aplicaciones_crear {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"211bc7a7-0c92-4de5-9b44-33383246bdd8","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.CreateApplication (ChatModularMicroservice.Api)","RequestId":"0HNHCUHVTKQQ5:00000002","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCUHVTKQQ5"}
[2025-11-26 09:33:33.552 -05:00 ERR] Error ejecutando stored procedure sp_aplicaciones_crear: {"code":"PGRST202","details":"Searched for the function public.sp_aplicaciones_crear with parameters cAplicacionesCodigo, cAplicacionesDescripcion, cAplicacionesNombre or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.sp_aplicaciones_crear(p_caplicacionescodigo, p_caplicacionesdescripcion, p_caplicacionesnombre)","message":"Could not find the function public.sp_aplicaciones_crear(cAplicacionesCodigo, cAplicacionesDescripcion, cAplicacionesNombre) in the schema cache"} {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"211bc7a7-0c92-4de5-9b44-33383246bdd8","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.CreateApplication (ChatModularMicroservice.Api)","RequestId":"0HNHCUHVTKQQ5:00000002","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCUHVTKQQ5"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST202","details":"Searched for the function public.sp_aplicaciones_crear with parameters cAplicacionesCodigo, cAplicacionesDescripcion, cAplicacionesNombre or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.sp_aplicaciones_crear(p_caplicacionescodigo, p_caplicacionesdescripcion, p_caplicacionesnombre)","message":"Could not find the function public.sp_aplicaciones_crear(cAplicacionesCodigo, cAplicacionesDescripcion, cAplicacionesNombre) in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.Repositories.SupabaseRepository.ExecuteStoredProcedureListAsync[T](String procedureName, Object parameters, String clientName) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\SupabaseRepository.cs:line 101
[2025-11-26 09:33:33.562 -05:00 ERR] Error en controlador: Error al crear aplicación: Error ejecutando sp_aplicaciones_crear: {"code":"PGRST202","details":"Searched for the function public.sp_aplicaciones_crear with parameters cAplicacionesCodigo, cAplicacionesDescripcion, cAplicacionesNombre or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.sp_aplicaciones_crear(p_caplicacionescodigo, p_caplicacionesdescripcion, p_caplicacionesnombre)","message":"Could not find the function public.sp_aplicaciones_crear(cAplicacionesCodigo, cAplicacionesDescripcion, cAplicacionesNombre) in the schema cache"} {"SourceContext":"ChatModularMicroservice.Api.Controllers.AplicacionesController","ActionId":"211bc7a7-0c92-4de5-9b44-33383246bdd8","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.CreateApplication (ChatModularMicroservice.Api)","RequestId":"0HNHCUHVTKQQ5:00000002","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCUHVTKQQ5"}
System.Exception: Error al crear aplicación: Error ejecutando sp_aplicaciones_crear: {"code":"PGRST202","details":"Searched for the function public.sp_aplicaciones_crear with parameters cAplicacionesCodigo, cAplicacionesDescripcion, cAplicacionesNombre or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.sp_aplicaciones_crear(p_caplicacionescodigo, p_caplicacionesdescripcion, p_caplicacionesnombre)","message":"Could not find the function public.sp_aplicaciones_crear(cAplicacionesCodigo, cAplicacionesDescripcion, cAplicacionesNombre) in the schema cache"}
   at ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository.CreateApplicationAsync(Application application) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\ApplicationSupabaseRepository.cs:line 140
   at ChatModularMicroservice.Domain.ApplicationService.CreateApplicationAsync(CreateApplicationDto createDto) in d:\Chat\ChatBackend\ChatModularAPI\02.Layer Domain\ChatModularMicroservice.Domain\ApplicationService.cs:line 49
   at ChatModularMicroservice.Api.Controllers.AplicacionesController.CreateApplication(CreateApplicationDto createApplicationDto) in d:\Chat\ChatBackend\ChatModularAPI\03.Layer Api\ChatModularMicroservice.Api\Controllers\AplicacionesController.cs:line 139
[2025-11-26 09:41:33.681 -05:00 INF] User Jeysson Sanchez disconnected from app SICOM_CHAT_2024 with connection 34F6Ht0O4RmczBSa8MPDew {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"34F6Ht0O4RmczBSa8MPDew","RequestId":"0HNHCUHVTKQQ4:00000001","RequestPath":"/chathub"}
[2025-11-26 09:41:45.647 -05:00 INF] Iniciando aplicación ChatModular API {}
[2025-11-26 09:41:45.690 -05:00 INF] Servidor escuchando en: http://localhost:5405;http://localhost:5406 {}
[2025-11-26 09:41:47.454 -05:00 INF] SignalR connection attempt - AppCode: SICOM_CHAT_2024, HasAuthHeader: true {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"Xiiz2VUAI2aID7WG2hP8kg","RequestId":"0HNHCV7M9IEFP:00000001","RequestPath":"/chathub","ConnectionId":"0HNHCV7M9IEFP"}
[2025-11-26 09:41:47.478 -05:00 INF] Token validated with claims: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier:1000000001, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress:jsanchez@example.com, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name:Jeysson Sanchez, http://schemas.microsoft.com/ws/2008/06/identity/claims/role:ADMIN, username:JSANCHEZ, per_codigo:, per_jur_codigo:DEFAULT, user_id:1000000001, app_code:SICOM_CHAT_2024, nbf:1764118060, exp:1764377260, iat:1764118060, iss:ChatModularAPI, aud:ChatModularAPI {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"Xiiz2VUAI2aID7WG2hP8kg","RequestId":"0HNHCV7M9IEFP:00000001","RequestPath":"/chathub","ConnectionId":"0HNHCV7M9IEFP"}
[2025-11-26 09:41:47.485 -05:00 INF] Extracted user info - UserId: 1000000001, UserName: Jeysson Sanchez {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"Xiiz2VUAI2aID7WG2hP8kg","RequestId":"0HNHCV7M9IEFP:00000001","RequestPath":"/chathub","ConnectionId":"0HNHCV7M9IEFP"}
[2025-11-26 09:41:47.490 -05:00 INF] User Jeysson Sanchez connected to app SICOM_CHAT_2024 with connection Xiiz2VUAI2aID7WG2hP8kg {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"Xiiz2VUAI2aID7WG2hP8kg","RequestId":"0HNHCV7M9IEFP:00000001","RequestPath":"/chathub"}
[2025-11-26 09:43:36.549 -05:00 INF] Ejecutando stored procedure (lista): sp_aplicaciones_crear {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"7613e2fe-7728-4d5e-800a-a5912fc6700a","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.CreateApplication (ChatModularMicroservice.Api)","RequestId":"0HNHCV7M9IEFQ:00000002","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCV7M9IEFQ"}
[2025-11-26 09:43:37.622 -05:00 ERR] Error ejecutando stored procedure sp_aplicaciones_crear: {"code":"PGRST202","details":"Searched for the function public.sp_aplicaciones_crear with parameters p_codigo, p_descripcion, p_nombre, p_url_logo, p_version or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":null,"message":"Could not find the function public.sp_aplicaciones_crear(p_codigo, p_descripcion, p_nombre, p_url_logo, p_version) in the schema cache"} {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"7613e2fe-7728-4d5e-800a-a5912fc6700a","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.CreateApplication (ChatModularMicroservice.Api)","RequestId":"0HNHCV7M9IEFQ:00000002","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCV7M9IEFQ"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST202","details":"Searched for the function public.sp_aplicaciones_crear with parameters p_codigo, p_descripcion, p_nombre, p_url_logo, p_version or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":null,"message":"Could not find the function public.sp_aplicaciones_crear(p_codigo, p_descripcion, p_nombre, p_url_logo, p_version) in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.Repositories.SupabaseRepository.ExecuteStoredProcedureListAsync[T](String procedureName, Object parameters, String clientName) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\SupabaseRepository.cs:line 101
[2025-11-26 09:43:37.640 -05:00 ERR] Error en controlador: Error al crear aplicación: Error ejecutando sp_aplicaciones_crear: {"code":"PGRST202","details":"Searched for the function public.sp_aplicaciones_crear with parameters p_codigo, p_descripcion, p_nombre, p_url_logo, p_version or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":null,"message":"Could not find the function public.sp_aplicaciones_crear(p_codigo, p_descripcion, p_nombre, p_url_logo, p_version) in the schema cache"} {"SourceContext":"ChatModularMicroservice.Api.Controllers.AplicacionesController","ActionId":"7613e2fe-7728-4d5e-800a-a5912fc6700a","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.CreateApplication (ChatModularMicroservice.Api)","RequestId":"0HNHCV7M9IEFQ:00000002","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCV7M9IEFQ"}
System.Exception: Error al crear aplicación: Error ejecutando sp_aplicaciones_crear: {"code":"PGRST202","details":"Searched for the function public.sp_aplicaciones_crear with parameters p_codigo, p_descripcion, p_nombre, p_url_logo, p_version or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":null,"message":"Could not find the function public.sp_aplicaciones_crear(p_codigo, p_descripcion, p_nombre, p_url_logo, p_version) in the schema cache"}
   at ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository.CreateApplicationAsync(Application application) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\ApplicationSupabaseRepository.cs:line 123
   at ChatModularMicroservice.Domain.ApplicationService.CreateApplicationAsync(CreateApplicationDto createDto) in d:\Chat\ChatBackend\ChatModularAPI\02.Layer Domain\ChatModularMicroservice.Domain\ApplicationService.cs:line 49
   at ChatModularMicroservice.Api.Controllers.AplicacionesController.CreateApplication(CreateApplicationDto createApplicationDto) in d:\Chat\ChatBackend\ChatModularAPI\03.Layer Api\ChatModularMicroservice.Api\Controllers\AplicacionesController.cs:line 139
[2025-11-26 10:03:14.840 -05:00 INF] User Jeysson Sanchez disconnected from app SICOM_CHAT_2024 with connection Xiiz2VUAI2aID7WG2hP8kg {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"Xiiz2VUAI2aID7WG2hP8kg","RequestId":"0HNHCV7M9IEFP:00000001","RequestPath":"/chathub"}
[2025-11-26 10:03:24.312 -05:00 INF] Iniciando aplicación ChatModular API {}
[2025-11-26 10:03:24.356 -05:00 INF] Servidor escuchando en: http://localhost:5405;http://localhost:5406 {}
[2025-11-26 10:03:26.497 -05:00 INF] Ejecutando stored procedure (lista): sp_aplicaciones_crear {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"2cd39377-0df6-49c1-aebe-b08c7e5a06dc","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.CreateApplication (ChatModularMicroservice.Api)","RequestId":"0HNHCVJPPFIAE:00000002","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCVJPPFIAE"}
[2025-11-26 10:03:26.575 -05:00 INF] SignalR connection attempt - AppCode: SICOM_CHAT_2024, HasAuthHeader: true {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"dxfHcf4axXrKuGOckdvA-g","RequestId":"0HNHCVJPPFIAF:00000001","RequestPath":"/chathub","ConnectionId":"0HNHCVJPPFIAF"}
[2025-11-26 10:03:26.596 -05:00 INF] Token validated with claims: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier:1000000001, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress:jsanchez@example.com, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name:Jeysson Sanchez, http://schemas.microsoft.com/ws/2008/06/identity/claims/role:ADMIN, username:JSANCHEZ, per_codigo:, per_jur_codigo:DEFAULT, user_id:1000000001, app_code:SICOM_CHAT_2024, nbf:1764118060, exp:1764377260, iat:1764118060, iss:ChatModularAPI, aud:ChatModularAPI {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"dxfHcf4axXrKuGOckdvA-g","RequestId":"0HNHCVJPPFIAF:00000001","RequestPath":"/chathub","ConnectionId":"0HNHCVJPPFIAF"}
[2025-11-26 10:03:26.601 -05:00 INF] Extracted user info - UserId: 1000000001, UserName: Jeysson Sanchez {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"dxfHcf4axXrKuGOckdvA-g","RequestId":"0HNHCVJPPFIAF:00000001","RequestPath":"/chathub","ConnectionId":"0HNHCVJPPFIAF"}
[2025-11-26 10:03:26.605 -05:00 INF] User Jeysson Sanchez connected to app SICOM_CHAT_2024 with connection dxfHcf4axXrKuGOckdvA-g {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"dxfHcf4axXrKuGOckdvA-g","RequestId":"0HNHCVJPPFIAF:00000001","RequestPath":"/chathub"}
[2025-11-26 10:03:27.557 -05:00 ERR] Error ejecutando stored procedure sp_aplicaciones_crear: {"code":"PGRST202","details":"Searched for the function public.sp_aplicaciones_crear with parameters p_codigo, p_descripcion, p_nombre, p_url_logo, p_version or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":null,"message":"Could not find the function public.sp_aplicaciones_crear(p_codigo, p_descripcion, p_nombre, p_url_logo, p_version) in the schema cache"} {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"2cd39377-0df6-49c1-aebe-b08c7e5a06dc","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.CreateApplication (ChatModularMicroservice.Api)","RequestId":"0HNHCVJPPFIAE:00000002","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCVJPPFIAE"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST202","details":"Searched for the function public.sp_aplicaciones_crear with parameters p_codigo, p_descripcion, p_nombre, p_url_logo, p_version or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":null,"message":"Could not find the function public.sp_aplicaciones_crear(p_codigo, p_descripcion, p_nombre, p_url_logo, p_version) in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.Repositories.SupabaseRepository.ExecuteStoredProcedureListAsync[T](String procedureName, Object parameters, String clientName) in D:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\SupabaseRepository.cs:line 101
[2025-11-26 10:03:27.581 -05:00 INF] Ejecutando stored procedure (lista): sp_aplicaciones_crear {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"2cd39377-0df6-49c1-aebe-b08c7e5a06dc","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.CreateApplication (ChatModularMicroservice.Api)","RequestId":"0HNHCVJPPFIAE:00000002","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCVJPPFIAE"}
[2025-11-26 10:03:27.754 -05:00 ERR] Error ejecutando stored procedure sp_aplicaciones_crear: {"code":"PGRST202","details":"Searched for the function public.sp_aplicaciones_crear with parameters cAplicacionesCodigo, cAplicacionesDescripcion, cAplicacionesNombre or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.sp_aplicaciones_crear(p_caplicacionescodigo, p_caplicacionesdescripcion, p_caplicacionesnombre)","message":"Could not find the function public.sp_aplicaciones_crear(cAplicacionesCodigo, cAplicacionesDescripcion, cAplicacionesNombre) in the schema cache"} {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"2cd39377-0df6-49c1-aebe-b08c7e5a06dc","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.CreateApplication (ChatModularMicroservice.Api)","RequestId":"0HNHCVJPPFIAE:00000002","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCVJPPFIAE"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST202","details":"Searched for the function public.sp_aplicaciones_crear with parameters cAplicacionesCodigo, cAplicacionesDescripcion, cAplicacionesNombre or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.sp_aplicaciones_crear(p_caplicacionescodigo, p_caplicacionesdescripcion, p_caplicacionesnombre)","message":"Could not find the function public.sp_aplicaciones_crear(cAplicacionesCodigo, cAplicacionesDescripcion, cAplicacionesNombre) in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.Repositories.SupabaseRepository.ExecuteStoredProcedureListAsync[T](String procedureName, Object parameters, String clientName) in D:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\SupabaseRepository.cs:line 101
[2025-11-26 10:03:27.767 -05:00 ERR] Error en controlador: Error al crear aplicación: Error ejecutando sp_aplicaciones_crear: {"code":"PGRST202","details":"Searched for the function public.sp_aplicaciones_crear with parameters cAplicacionesCodigo, cAplicacionesDescripcion, cAplicacionesNombre or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.sp_aplicaciones_crear(p_caplicacionescodigo, p_caplicacionesdescripcion, p_caplicacionesnombre)","message":"Could not find the function public.sp_aplicaciones_crear(cAplicacionesCodigo, cAplicacionesDescripcion, cAplicacionesNombre) in the schema cache"} {"SourceContext":"ChatModularMicroservice.Api.Controllers.AplicacionesController","ActionId":"2cd39377-0df6-49c1-aebe-b08c7e5a06dc","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.CreateApplication (ChatModularMicroservice.Api)","RequestId":"0HNHCVJPPFIAE:00000002","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCVJPPFIAE"}
System.Exception: Error al crear aplicación: Error ejecutando sp_aplicaciones_crear: {"code":"PGRST202","details":"Searched for the function public.sp_aplicaciones_crear with parameters cAplicacionesCodigo, cAplicacionesDescripcion, cAplicacionesNombre or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.sp_aplicaciones_crear(p_caplicacionescodigo, p_caplicacionesdescripcion, p_caplicacionesnombre)","message":"Could not find the function public.sp_aplicaciones_crear(cAplicacionesCodigo, cAplicacionesDescripcion, cAplicacionesNombre) in the schema cache"}
   at ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository.CreateApplicationAsync(Application application) in D:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\ApplicationSupabaseRepository.cs:line 122
   at ChatModularMicroservice.Domain.ApplicationService.CreateApplicationAsync(CreateApplicationDto createDto) in d:\Chat\ChatBackend\ChatModularAPI\02.Layer Domain\ChatModularMicroservice.Domain\ApplicationService.cs:line 49
   at ChatModularMicroservice.Api.Controllers.AplicacionesController.CreateApplication(CreateApplicationDto createApplicationDto) in d:\Chat\ChatBackend\ChatModularAPI\03.Layer Api\ChatModularMicroservice.Api\Controllers\AplicacionesController.cs:line 139
[2025-11-26 10:45:28.482 -05:00 INF] Ejecutando stored procedure (lista): sp_aplicaciones_crear {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"2cd39377-0df6-49c1-aebe-b08c7e5a06dc","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.CreateApplication (ChatModularMicroservice.Api)","RequestId":"0HNHCVJPPFIAG:00000002","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCVJPPFIAG"}
[2025-11-26 10:45:29.731 -05:00 ERR] Error ejecutando stored procedure sp_aplicaciones_crear: {"code":"PGRST202","details":"Searched for the function public.sp_aplicaciones_crear with parameters p_codigo, p_descripcion, p_nombre, p_url_logo, p_version or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":null,"message":"Could not find the function public.sp_aplicaciones_crear(p_codigo, p_descripcion, p_nombre, p_url_logo, p_version) in the schema cache"} {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"2cd39377-0df6-49c1-aebe-b08c7e5a06dc","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.CreateApplication (ChatModularMicroservice.Api)","RequestId":"0HNHCVJPPFIAG:00000002","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCVJPPFIAG"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST202","details":"Searched for the function public.sp_aplicaciones_crear with parameters p_codigo, p_descripcion, p_nombre, p_url_logo, p_version or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":null,"message":"Could not find the function public.sp_aplicaciones_crear(p_codigo, p_descripcion, p_nombre, p_url_logo, p_version) in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.Repositories.SupabaseRepository.ExecuteStoredProcedureListAsync[T](String procedureName, Object parameters, String clientName) in D:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\SupabaseRepository.cs:line 101
[2025-11-26 10:45:29.737 -05:00 INF] Ejecutando stored procedure (lista): sp_aplicaciones_crear {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"2cd39377-0df6-49c1-aebe-b08c7e5a06dc","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.CreateApplication (ChatModularMicroservice.Api)","RequestId":"0HNHCVJPPFIAG:00000002","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCVJPPFIAG"}
[2025-11-26 10:45:29.963 -05:00 ERR] Error ejecutando stored procedure sp_aplicaciones_crear: {"code":"PGRST202","details":"Searched for the function public.sp_aplicaciones_crear with parameters cAplicacionesCodigo, cAplicacionesDescripcion, cAplicacionesNombre or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.sp_aplicaciones_crear(p_caplicacionescodigo, p_caplicacionesdescripcion, p_caplicacionesnombre)","message":"Could not find the function public.sp_aplicaciones_crear(cAplicacionesCodigo, cAplicacionesDescripcion, cAplicacionesNombre) in the schema cache"} {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"2cd39377-0df6-49c1-aebe-b08c7e5a06dc","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.CreateApplication (ChatModularMicroservice.Api)","RequestId":"0HNHCVJPPFIAG:00000002","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCVJPPFIAG"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST202","details":"Searched for the function public.sp_aplicaciones_crear with parameters cAplicacionesCodigo, cAplicacionesDescripcion, cAplicacionesNombre or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.sp_aplicaciones_crear(p_caplicacionescodigo, p_caplicacionesdescripcion, p_caplicacionesnombre)","message":"Could not find the function public.sp_aplicaciones_crear(cAplicacionesCodigo, cAplicacionesDescripcion, cAplicacionesNombre) in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.Repositories.SupabaseRepository.ExecuteStoredProcedureListAsync[T](String procedureName, Object parameters, String clientName) in D:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\SupabaseRepository.cs:line 101
[2025-11-26 10:45:29.970 -05:00 ERR] Error en controlador: Error al crear aplicación: Error ejecutando sp_aplicaciones_crear: {"code":"PGRST202","details":"Searched for the function public.sp_aplicaciones_crear with parameters cAplicacionesCodigo, cAplicacionesDescripcion, cAplicacionesNombre or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.sp_aplicaciones_crear(p_caplicacionescodigo, p_caplicacionesdescripcion, p_caplicacionesnombre)","message":"Could not find the function public.sp_aplicaciones_crear(cAplicacionesCodigo, cAplicacionesDescripcion, cAplicacionesNombre) in the schema cache"} {"SourceContext":"ChatModularMicroservice.Api.Controllers.AplicacionesController","ActionId":"2cd39377-0df6-49c1-aebe-b08c7e5a06dc","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.CreateApplication (ChatModularMicroservice.Api)","RequestId":"0HNHCVJPPFIAG:00000002","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHCVJPPFIAG"}
System.Exception: Error al crear aplicación: Error ejecutando sp_aplicaciones_crear: {"code":"PGRST202","details":"Searched for the function public.sp_aplicaciones_crear with parameters cAplicacionesCodigo, cAplicacionesDescripcion, cAplicacionesNombre or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.","hint":"Perhaps you meant to call the function public.sp_aplicaciones_crear(p_caplicacionescodigo, p_caplicacionesdescripcion, p_caplicacionesnombre)","message":"Could not find the function public.sp_aplicaciones_crear(cAplicacionesCodigo, cAplicacionesDescripcion, cAplicacionesNombre) in the schema cache"}
   at ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository.CreateApplicationAsync(Application application) in D:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\ApplicationSupabaseRepository.cs:line 122
   at ChatModularMicroservice.Domain.ApplicationService.CreateApplicationAsync(CreateApplicationDto createDto) in d:\Chat\ChatBackend\ChatModularAPI\02.Layer Domain\ChatModularMicroservice.Domain\ApplicationService.cs:line 49
   at ChatModularMicroservice.Api.Controllers.AplicacionesController.CreateApplication(CreateApplicationDto createApplicationDto) in d:\Chat\ChatBackend\ChatModularAPI\03.Layer Api\ChatModularMicroservice.Api\Controllers\AplicacionesController.cs:line 139
[2025-11-26 12:14:14.961 -05:00 INF] User Jeysson Sanchez disconnected from app SICOM_CHAT_2024 with connection dxfHcf4axXrKuGOckdvA-g {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"dxfHcf4axXrKuGOckdvA-g","RequestId":"0HNHCVJPPFIAF:00000001","RequestPath":"/chathub"}
[2025-11-26 12:31:20.890 -05:00 INF] Iniciando aplicación ChatModular API {}
[2025-11-26 12:31:20.965 -05:00 INF] Servidor escuchando en: http://localhost:5405;http://localhost:5406 {}
[2025-11-26 12:35:56.441 -05:00 INF] SignalR connection attempt - AppCode: SICOM_CHAT_2024, HasAuthHeader: true {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"C2raq9s2wCXQJtcGeWJ6Kw","RequestId":"0HNHD290KPKRF:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKRF"}
[2025-11-26 12:35:56.444 -05:00 INF] Obteniendo configuración para aplicación con código: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRD:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRD"}
[2025-11-26 12:35:56.445 -05:00 INF] GetUserConversationsAsync for user 1000000001 in app SICOM_CHAT_2024 perJur DEFAULT {"SourceContext":"ChatModularMicroservice.Domain.ChatService","ActionId":"a79fd1ad-65eb-4e66-bdce-5755b631750f","ActionName":"ChatModularMicroservice.Api.Controllers.ChatModernController.GetMyConversations (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRE:00000002","RequestPath":"/api/chat/conversations","ConnectionId":"0HNHD290KPKRE"}
[2025-11-26 12:35:56.451 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Domain.ConfiguracionAplicacionUnificadaService","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRD:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRD"}
[2025-11-26 12:35:56.459 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRD:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRD"}
[2025-11-26 12:35:56.463 -05:00 INF] Intentando obtener aplicación con código exacto: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRD:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRD"}
[2025-11-26 12:35:56.463 -05:00 INF] Token validated with claims: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier:1000000001, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress:jsanchez@example.com, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name:Jeysson Sanchez, http://schemas.microsoft.com/ws/2008/06/identity/claims/role:ADMIN, username:JSANCHEZ, per_codigo:, per_jur_codigo:DEFAULT, user_id:1000000001, app_code:SICOM_CHAT_2024, nbf:1764118060, exp:1764377260, iat:1764118060, iss:ChatModularAPI, aud:ChatModularAPI {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"C2raq9s2wCXQJtcGeWJ6Kw","RequestId":"0HNHD290KPKRF:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKRF"}
[2025-11-26 12:35:56.469 -05:00 INF] Extracted user info - UserId: 1000000001, UserName: Jeysson Sanchez {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"C2raq9s2wCXQJtcGeWJ6Kw","RequestId":"0HNHD290KPKRF:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKRF"}
[2025-11-26 12:35:56.473 -05:00 INF] User Jeysson Sanchez connected to app SICOM_CHAT_2024 with connection C2raq9s2wCXQJtcGeWJ6Kw {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"C2raq9s2wCXQJtcGeWJ6Kw","RequestId":"0HNHD290KPKRF:00000001","RequestPath":"/chathub"}
[2025-11-26 12:35:59.449 -05:00 INF] Total de aplicaciones encontradas: 1 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRD:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRD"}
[2025-11-26 12:35:59.454 -05:00 INF] Aplicación encontrada - ID: 7, Código: SICOM_CHAT_2024, Activa: true {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRD:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRD"}
[2025-11-26 12:35:59.763 -05:00 INF] Resultado de aplicación: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRD:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRD"}
[2025-11-26 12:35:59.771 -05:00 INF] Aplicación encontrada con ID: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRD:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRD"}
[2025-11-26 12:35:59.776 -05:00 INF] Ejecutando query para obtener configuración con aplicacionId: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRD:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRD"}
[2025-11-26 12:36:00.062 -05:00 INF] Resultado de configuración: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRD:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRD"}
[2025-11-26 12:36:00.072 -05:00 INF] Configuración encontrada para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRD:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRD"}
[2025-11-26 12:43:07.048 -05:00 INF] User Jeysson Sanchez disconnected from app SICOM_CHAT_2024 with connection C2raq9s2wCXQJtcGeWJ6Kw {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"C2raq9s2wCXQJtcGeWJ6Kw","RequestId":"0HNHD290KPKRF:00000001","RequestPath":"/chathub"}
[2025-11-26 12:43:07.514 -05:00 INF] GetUserConversationsAsync for user 1000000001 in app SICOM_CHAT_2024 perJur DEFAULT {"SourceContext":"ChatModularMicroservice.Domain.ChatService","ActionId":"a79fd1ad-65eb-4e66-bdce-5755b631750f","ActionName":"ChatModularMicroservice.Api.Controllers.ChatModernController.GetMyConversations (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRG:00000002","RequestPath":"/api/chat/conversations","ConnectionId":"0HNHD290KPKRG"}
[2025-11-26 12:43:07.517 -05:00 INF] Obteniendo configuración para aplicación con código: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRH:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRH"}
[2025-11-26 12:43:07.520 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Domain.ConfiguracionAplicacionUnificadaService","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRH:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRH"}
[2025-11-26 12:43:07.522 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRH:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRH"}
[2025-11-26 12:43:07.525 -05:00 INF] Intentando obtener aplicación con código exacto: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRH:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRH"}
[2025-11-26 12:43:07.619 -05:00 INF] SignalR connection attempt - AppCode: SICOM_CHAT_2024, HasAuthHeader: true {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"egrRC3lwgkqJE4PZvM-MCQ","RequestId":"0HNHD290KPKRI:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKRI"}
[2025-11-26 12:43:07.622 -05:00 INF] Token validated with claims: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier:1000000001, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress:jsanchez@example.com, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name:Jeysson Sanchez, http://schemas.microsoft.com/ws/2008/06/identity/claims/role:ADMIN, username:JSANCHEZ, per_codigo:, per_jur_codigo:DEFAULT, user_id:1000000001, app_code:SICOM_CHAT_2024, nbf:1764118060, exp:1764377260, iat:1764118060, iss:ChatModularAPI, aud:ChatModularAPI {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"egrRC3lwgkqJE4PZvM-MCQ","RequestId":"0HNHD290KPKRI:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKRI"}
[2025-11-26 12:43:07.624 -05:00 INF] Extracted user info - UserId: 1000000001, UserName: Jeysson Sanchez {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"egrRC3lwgkqJE4PZvM-MCQ","RequestId":"0HNHD290KPKRI:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKRI"}
[2025-11-26 12:43:07.626 -05:00 INF] User Jeysson Sanchez connected to app SICOM_CHAT_2024 with connection egrRC3lwgkqJE4PZvM-MCQ {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"egrRC3lwgkqJE4PZvM-MCQ","RequestId":"0HNHD290KPKRI:00000001","RequestPath":"/chathub"}
[2025-11-26 12:43:08.301 -05:00 INF] Total de aplicaciones encontradas: 1 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRH:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRH"}
[2025-11-26 12:43:08.307 -05:00 INF] Aplicación encontrada - ID: 7, Código: SICOM_CHAT_2024, Activa: true {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRH:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRH"}
[2025-11-26 12:43:08.561 -05:00 INF] Resultado de aplicación: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRH:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRH"}
[2025-11-26 12:43:08.571 -05:00 INF] Aplicación encontrada con ID: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRH:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRH"}
[2025-11-26 12:43:08.576 -05:00 INF] Ejecutando query para obtener configuración con aplicacionId: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRH:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRH"}
[2025-11-26 12:43:08.833 -05:00 INF] Resultado de configuración: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRH:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRH"}
[2025-11-26 12:43:08.838 -05:00 INF] Configuración encontrada para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRH:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRH"}
[2025-11-26 12:43:08.867 -05:00 INF] Listando contactos para usuario 1000000001 en empresa 1 y aplicación SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRH:00000004","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKRH"}
[2025-11-26 12:43:08.871 -05:00 INF] Consultando tabla chatcontacto para usuario 1000000001 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRH:00000004","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKRH"}
[2025-11-26 12:43:09.130 -05:00 WRN] No se encontraron contactos para el usuario 1000000001 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRH:00000004","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKRH"}
[2025-11-26 13:02:27.121 -05:00 INF] User Jeysson Sanchez disconnected from app SICOM_CHAT_2024 with connection egrRC3lwgkqJE4PZvM-MCQ {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"egrRC3lwgkqJE4PZvM-MCQ","RequestId":"0HNHD290KPKRI:00000001","RequestPath":"/chathub"}
[2025-11-26 13:02:27.512 -05:00 INF] GetUserConversationsAsync for user 1000000001 in app SICOM_CHAT_2024 perJur DEFAULT {"SourceContext":"ChatModularMicroservice.Domain.ChatService","ActionId":"a79fd1ad-65eb-4e66-bdce-5755b631750f","ActionName":"ChatModularMicroservice.Api.Controllers.ChatModernController.GetMyConversations (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRJ:00000002","RequestPath":"/api/chat/conversations","ConnectionId":"0HNHD290KPKRJ"}
[2025-11-26 13:02:27.517 -05:00 INF] Obteniendo configuración para aplicación con código: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRK:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRK"}
[2025-11-26 13:02:27.520 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Domain.ConfiguracionAplicacionUnificadaService","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRK:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRK"}
[2025-11-26 13:02:27.522 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRK:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRK"}
[2025-11-26 13:02:27.525 -05:00 INF] Intentando obtener aplicación con código exacto: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRK:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRK"}
[2025-11-26 13:02:27.640 -05:00 INF] SignalR connection attempt - AppCode: SICOM_CHAT_2024, HasAuthHeader: true {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"lOwXDF-Wa9pUd1pwQ73XIg","RequestId":"0HNHD290KPKRL:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKRL"}
[2025-11-26 13:02:27.643 -05:00 INF] Token validated with claims: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier:1000000001, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress:jsanchez@example.com, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name:Jeysson Sanchez, http://schemas.microsoft.com/ws/2008/06/identity/claims/role:ADMIN, username:JSANCHEZ, per_codigo:, per_jur_codigo:DEFAULT, user_id:1000000001, app_code:SICOM_CHAT_2024, nbf:1764118060, exp:1764377260, iat:1764118060, iss:ChatModularAPI, aud:ChatModularAPI {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"lOwXDF-Wa9pUd1pwQ73XIg","RequestId":"0HNHD290KPKRL:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKRL"}
[2025-11-26 13:02:27.645 -05:00 INF] Extracted user info - UserId: 1000000001, UserName: Jeysson Sanchez {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"lOwXDF-Wa9pUd1pwQ73XIg","RequestId":"0HNHD290KPKRL:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKRL"}
[2025-11-26 13:02:27.648 -05:00 INF] User Jeysson Sanchez connected to app SICOM_CHAT_2024 with connection lOwXDF-Wa9pUd1pwQ73XIg {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"lOwXDF-Wa9pUd1pwQ73XIg","RequestId":"0HNHD290KPKRL:00000001","RequestPath":"/chathub"}
[2025-11-26 13:02:28.476 -05:00 INF] Total de aplicaciones encontradas: 1 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRK:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRK"}
[2025-11-26 13:02:28.486 -05:00 INF] Aplicación encontrada - ID: 7, Código: SICOM_CHAT_2024, Activa: true {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRK:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRK"}
[2025-11-26 13:02:28.715 -05:00 INF] Resultado de aplicación: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRK:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRK"}
[2025-11-26 13:02:28.724 -05:00 INF] Aplicación encontrada con ID: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRK:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRK"}
[2025-11-26 13:02:28.727 -05:00 INF] Ejecutando query para obtener configuración con aplicacionId: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRK:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRK"}
[2025-11-26 13:02:28.923 -05:00 INF] Resultado de configuración: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRK:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRK"}
[2025-11-26 13:02:28.926 -05:00 INF] Configuración encontrada para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRK:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRK"}
[2025-11-26 13:02:28.945 -05:00 INF] Listando contactos para usuario 1000000001 en empresa 1 y aplicación SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRK:00000004","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKRK"}
[2025-11-26 13:02:28.947 -05:00 INF] Consultando tabla chatcontacto para usuario 1000000001 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRK:00000004","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKRK"}
[2025-11-26 13:02:29.144 -05:00 WRN] No se encontraron contactos para el usuario 1000000001 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRK:00000004","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKRK"}
[2025-11-26 13:03:01.744 -05:00 INF] User Jeysson Sanchez disconnected from app SICOM_CHAT_2024 with connection lOwXDF-Wa9pUd1pwQ73XIg {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"lOwXDF-Wa9pUd1pwQ73XIg","RequestId":"0HNHD290KPKRL:00000001","RequestPath":"/chathub"}
[2025-11-26 13:03:02.094 -05:00 INF] GetUserConversationsAsync for user 1000000001 in app SICOM_CHAT_2024 perJur DEFAULT {"SourceContext":"ChatModularMicroservice.Domain.ChatService","ActionId":"a79fd1ad-65eb-4e66-bdce-5755b631750f","ActionName":"ChatModularMicroservice.Api.Controllers.ChatModernController.GetMyConversations (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRK:00000006","RequestPath":"/api/chat/conversations","ConnectionId":"0HNHD290KPKRK"}
[2025-11-26 13:03:02.101 -05:00 INF] Obteniendo configuración para aplicación con código: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRJ:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRJ"}
[2025-11-26 13:03:02.104 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Domain.ConfiguracionAplicacionUnificadaService","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRJ:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRJ"}
[2025-11-26 13:03:02.106 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRJ:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRJ"}
[2025-11-26 13:03:02.109 -05:00 INF] Intentando obtener aplicación con código exacto: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRJ:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRJ"}
[2025-11-26 13:03:02.245 -05:00 INF] SignalR connection attempt - AppCode: SICOM_CHAT_2024, HasAuthHeader: true {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"REpbqEU1JUQMr15wSlRd8w","RequestId":"0HNHD290KPKRM:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKRM"}
[2025-11-26 13:03:02.248 -05:00 INF] Token validated with claims: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier:1000000001, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress:jsanchez@example.com, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name:Jeysson Sanchez, http://schemas.microsoft.com/ws/2008/06/identity/claims/role:ADMIN, username:JSANCHEZ, per_codigo:, per_jur_codigo:DEFAULT, user_id:1000000001, app_code:SICOM_CHAT_2024, nbf:1764118060, exp:1764377260, iat:1764118060, iss:ChatModularAPI, aud:ChatModularAPI {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"REpbqEU1JUQMr15wSlRd8w","RequestId":"0HNHD290KPKRM:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKRM"}
[2025-11-26 13:03:02.250 -05:00 INF] Extracted user info - UserId: 1000000001, UserName: Jeysson Sanchez {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"REpbqEU1JUQMr15wSlRd8w","RequestId":"0HNHD290KPKRM:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKRM"}
[2025-11-26 13:03:02.253 -05:00 INF] User Jeysson Sanchez connected to app SICOM_CHAT_2024 with connection REpbqEU1JUQMr15wSlRd8w {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"REpbqEU1JUQMr15wSlRd8w","RequestId":"0HNHD290KPKRM:00000001","RequestPath":"/chathub"}
[2025-11-26 13:03:02.279 -05:00 INF] Total de aplicaciones encontradas: 1 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRJ:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRJ"}
[2025-11-26 13:03:02.282 -05:00 INF] Aplicación encontrada - ID: 7, Código: SICOM_CHAT_2024, Activa: true {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRJ:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRJ"}
[2025-11-26 13:03:02.484 -05:00 INF] Resultado de aplicación: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRJ:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRJ"}
[2025-11-26 13:03:02.492 -05:00 INF] Aplicación encontrada con ID: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRJ:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRJ"}
[2025-11-26 13:03:02.501 -05:00 INF] Ejecutando query para obtener configuración con aplicacionId: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRJ:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRJ"}
[2025-11-26 13:03:02.671 -05:00 INF] Resultado de configuración: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRJ:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRJ"}
[2025-11-26 13:03:02.674 -05:00 INF] Configuración encontrada para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRJ:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRJ"}
[2025-11-26 13:03:02.693 -05:00 INF] Listando contactos para usuario 1000000001 en empresa 1 y aplicación SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRJ:00000006","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKRJ"}
[2025-11-26 13:03:02.696 -05:00 INF] Consultando tabla chatcontacto para usuario 1000000001 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRJ:00000006","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKRJ"}
[2025-11-26 13:03:02.860 -05:00 WRN] No se encontraron contactos para el usuario 1000000001 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRJ:00000006","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKRJ"}
[2025-11-26 13:24:17.657 -05:00 INF] User Jeysson Sanchez disconnected from app SICOM_CHAT_2024 with connection REpbqEU1JUQMr15wSlRd8w {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"REpbqEU1JUQMr15wSlRd8w","RequestId":"0HNHD290KPKRM:00000001","RequestPath":"/chathub"}
[2025-11-26 13:24:18.006 -05:00 INF] GetUserConversationsAsync for user 1000000001 in app SICOM_CHAT_2024 perJur DEFAULT {"SourceContext":"ChatModularMicroservice.Domain.ChatService","ActionId":"a79fd1ad-65eb-4e66-bdce-5755b631750f","ActionName":"ChatModularMicroservice.Api.Controllers.ChatModernController.GetMyConversations (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRO:00000002","RequestPath":"/api/chat/conversations","ConnectionId":"0HNHD290KPKRO"}
[2025-11-26 13:24:18.011 -05:00 INF] Obteniendo configuración para aplicación con código: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRP:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRP"}
[2025-11-26 13:24:18.014 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Domain.ConfiguracionAplicacionUnificadaService","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRP:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRP"}
[2025-11-26 13:24:18.016 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRP:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRP"}
[2025-11-26 13:24:18.023 -05:00 INF] Intentando obtener aplicación con código exacto: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRP:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRP"}
[2025-11-26 13:24:18.164 -05:00 INF] SignalR connection attempt - AppCode: SICOM_CHAT_2024, HasAuthHeader: true {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"1UcqBW2hwmVOS7AlfNU48g","RequestId":"0HNHD290KPKRQ:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKRQ"}
[2025-11-26 13:24:18.167 -05:00 INF] Token validated with claims: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier:1000000001, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress:jsanchez@example.com, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name:Jeysson Sanchez, http://schemas.microsoft.com/ws/2008/06/identity/claims/role:ADMIN, username:JSANCHEZ, per_codigo:, per_jur_codigo:DEFAULT, user_id:1000000001, app_code:SICOM_CHAT_2024, nbf:1764118060, exp:1764377260, iat:1764118060, iss:ChatModularAPI, aud:ChatModularAPI {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"1UcqBW2hwmVOS7AlfNU48g","RequestId":"0HNHD290KPKRQ:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKRQ"}
[2025-11-26 13:24:18.170 -05:00 INF] Extracted user info - UserId: 1000000001, UserName: Jeysson Sanchez {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"1UcqBW2hwmVOS7AlfNU48g","RequestId":"0HNHD290KPKRQ:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKRQ"}
[2025-11-26 13:24:18.173 -05:00 INF] User Jeysson Sanchez connected to app SICOM_CHAT_2024 with connection 1UcqBW2hwmVOS7AlfNU48g {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"1UcqBW2hwmVOS7AlfNU48g","RequestId":"0HNHD290KPKRQ:00000001","RequestPath":"/chathub"}
[2025-11-26 13:24:19.181 -05:00 INF] Total de aplicaciones encontradas: 1 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRP:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRP"}
[2025-11-26 13:24:19.184 -05:00 INF] Aplicación encontrada - ID: 7, Código: SICOM_CHAT_2024, Activa: true {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRP:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRP"}
[2025-11-26 13:24:19.441 -05:00 INF] Resultado de aplicación: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRP:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRP"}
[2025-11-26 13:24:19.446 -05:00 INF] Aplicación encontrada con ID: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRP:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRP"}
[2025-11-26 13:24:19.449 -05:00 INF] Ejecutando query para obtener configuración con aplicacionId: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRP:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRP"}
[2025-11-26 13:24:19.697 -05:00 INF] Resultado de configuración: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRP:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRP"}
[2025-11-26 13:24:19.709 -05:00 INF] Configuración encontrada para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRP:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRP"}
[2025-11-26 13:24:19.729 -05:00 INF] Listando contactos para usuario 1000000001 en empresa 1 y aplicación SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRP:00000004","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKRP"}
[2025-11-26 13:24:19.733 -05:00 INF] Consultando tabla chatcontacto para usuario 1000000001 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRP:00000004","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKRP"}
[2025-11-26 13:24:19.981 -05:00 WRN] No se encontraron contactos para el usuario 1000000001 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRP:00000004","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKRP"}
[2025-11-26 13:28:32.080 -05:00 INF] User Jeysson Sanchez disconnected from app SICOM_CHAT_2024 with connection 1UcqBW2hwmVOS7AlfNU48g {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"1UcqBW2hwmVOS7AlfNU48g","RequestId":"0HNHD290KPKRQ:00000001","RequestPath":"/chathub"}
[2025-11-26 13:28:32.367 -05:00 INF] GetUserConversationsAsync for user 1000000001 in app SICOM_CHAT_2024 perJur DEFAULT {"SourceContext":"ChatModularMicroservice.Domain.ChatService","ActionId":"a79fd1ad-65eb-4e66-bdce-5755b631750f","ActionName":"ChatModularMicroservice.Api.Controllers.ChatModernController.GetMyConversations (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRR:00000002","RequestPath":"/api/chat/conversations","ConnectionId":"0HNHD290KPKRR"}
[2025-11-26 13:28:32.370 -05:00 INF] Obteniendo configuración para aplicación con código: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRS:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRS"}
[2025-11-26 13:28:32.372 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Domain.ConfiguracionAplicacionUnificadaService","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRS:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRS"}
[2025-11-26 13:28:32.375 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRS:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRS"}
[2025-11-26 13:28:32.377 -05:00 INF] Intentando obtener aplicación con código exacto: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRS:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRS"}
[2025-11-26 13:28:32.431 -05:00 INF] SignalR connection attempt - AppCode: SICOM_CHAT_2024, HasAuthHeader: true {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"kIkwfnIuxkvdHe4kAe8Q3w","RequestId":"0HNHD290KPKRT:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKRT"}
[2025-11-26 13:28:32.434 -05:00 INF] Token validated with claims: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier:1000000001, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress:jsanchez@example.com, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name:Jeysson Sanchez, http://schemas.microsoft.com/ws/2008/06/identity/claims/role:ADMIN, username:JSANCHEZ, per_codigo:, per_jur_codigo:DEFAULT, user_id:1000000001, app_code:SICOM_CHAT_2024, nbf:1764118060, exp:1764377260, iat:1764118060, iss:ChatModularAPI, aud:ChatModularAPI {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"kIkwfnIuxkvdHe4kAe8Q3w","RequestId":"0HNHD290KPKRT:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKRT"}
[2025-11-26 13:28:32.436 -05:00 INF] Extracted user info - UserId: 1000000001, UserName: Jeysson Sanchez {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"kIkwfnIuxkvdHe4kAe8Q3w","RequestId":"0HNHD290KPKRT:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKRT"}
[2025-11-26 13:28:32.440 -05:00 INF] User Jeysson Sanchez connected to app SICOM_CHAT_2024 with connection kIkwfnIuxkvdHe4kAe8Q3w {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"kIkwfnIuxkvdHe4kAe8Q3w","RequestId":"0HNHD290KPKRT:00000001","RequestPath":"/chathub"}
[2025-11-26 13:28:33.195 -05:00 INF] Total de aplicaciones encontradas: 1 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRS:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRS"}
[2025-11-26 13:28:33.200 -05:00 INF] Aplicación encontrada - ID: 7, Código: SICOM_CHAT_2024, Activa: true {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRS:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRS"}
[2025-11-26 13:28:33.431 -05:00 INF] Resultado de aplicación: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRS:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRS"}
[2025-11-26 13:28:33.434 -05:00 INF] Aplicación encontrada con ID: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRS:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRS"}
[2025-11-26 13:28:33.437 -05:00 INF] Ejecutando query para obtener configuración con aplicacionId: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRS:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRS"}
[2025-11-26 13:28:33.666 -05:00 INF] Resultado de configuración: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRS:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRS"}
[2025-11-26 13:28:33.678 -05:00 INF] Configuración encontrada para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRS:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRS"}
[2025-11-26 13:28:33.728 -05:00 INF] Listando contactos para usuario 1000000001 en empresa 1 y aplicación SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRS:00000004","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKRS"}
[2025-11-26 13:28:33.734 -05:00 INF] Consultando tabla chatcontacto para usuario 1000000001 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRS:00000004","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKRS"}
[2025-11-26 13:28:33.970 -05:00 WRN] No se encontraron contactos para el usuario 1000000001 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRS:00000004","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKRS"}
[2025-11-26 13:28:41.687 -05:00 INF] User Jeysson Sanchez disconnected from app SICOM_CHAT_2024 with connection kIkwfnIuxkvdHe4kAe8Q3w {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"kIkwfnIuxkvdHe4kAe8Q3w","RequestId":"0HNHD290KPKRT:00000001","RequestPath":"/chathub"}
[2025-11-26 13:28:41.889 -05:00 INF] GetUserConversationsAsync for user 1000000001 in app SICOM_CHAT_2024 perJur DEFAULT {"SourceContext":"ChatModularMicroservice.Domain.ChatService","ActionId":"a79fd1ad-65eb-4e66-bdce-5755b631750f","ActionName":"ChatModularMicroservice.Api.Controllers.ChatModernController.GetMyConversations (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRS:00000006","RequestPath":"/api/chat/conversations","ConnectionId":"0HNHD290KPKRS"}
[2025-11-26 13:28:41.893 -05:00 INF] Obteniendo configuración para aplicación con código: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRR:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRR"}
[2025-11-26 13:28:41.895 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Domain.ConfiguracionAplicacionUnificadaService","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRR:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRR"}
[2025-11-26 13:28:41.898 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRR:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRR"}
[2025-11-26 13:28:41.902 -05:00 INF] Intentando obtener aplicación con código exacto: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRR:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRR"}
[2025-11-26 13:28:41.919 -05:00 INF] SignalR connection attempt - AppCode: SICOM_CHAT_2024, HasAuthHeader: true {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"yGuwXJDrMaXO8tQ44xzkPQ","RequestId":"0HNHD290KPKRU:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKRU"}
[2025-11-26 13:28:41.922 -05:00 INF] Token validated with claims: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier:1000000001, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress:jsanchez@example.com, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name:Jeysson Sanchez, http://schemas.microsoft.com/ws/2008/06/identity/claims/role:ADMIN, username:JSANCHEZ, per_codigo:, per_jur_codigo:DEFAULT, user_id:1000000001, app_code:SICOM_CHAT_2024, nbf:1764118060, exp:1764377260, iat:1764118060, iss:ChatModularAPI, aud:ChatModularAPI {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"yGuwXJDrMaXO8tQ44xzkPQ","RequestId":"0HNHD290KPKRU:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKRU"}
[2025-11-26 13:28:41.925 -05:00 INF] Extracted user info - UserId: 1000000001, UserName: Jeysson Sanchez {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"yGuwXJDrMaXO8tQ44xzkPQ","RequestId":"0HNHD290KPKRU:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKRU"}
[2025-11-26 13:28:41.927 -05:00 INF] User Jeysson Sanchez connected to app SICOM_CHAT_2024 with connection yGuwXJDrMaXO8tQ44xzkPQ {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"yGuwXJDrMaXO8tQ44xzkPQ","RequestId":"0HNHD290KPKRU:00000001","RequestPath":"/chathub"}
[2025-11-26 13:28:42.132 -05:00 INF] Total de aplicaciones encontradas: 1 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRR:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRR"}
[2025-11-26 13:28:42.134 -05:00 INF] Aplicación encontrada - ID: 7, Código: SICOM_CHAT_2024, Activa: true {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRR:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRR"}
[2025-11-26 13:28:42.352 -05:00 INF] Resultado de aplicación: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRR:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRR"}
[2025-11-26 13:28:42.355 -05:00 INF] Aplicación encontrada con ID: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRR:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRR"}
[2025-11-26 13:28:42.357 -05:00 INF] Ejecutando query para obtener configuración con aplicacionId: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRR:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRR"}
[2025-11-26 13:28:42.596 -05:00 INF] Resultado de configuración: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRR:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRR"}
[2025-11-26 13:28:42.600 -05:00 INF] Configuración encontrada para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRR:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRR"}
[2025-11-26 13:28:42.615 -05:00 INF] Listando contactos para usuario 1000000001 en empresa 1 y aplicación SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRR:00000006","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKRR"}
[2025-11-26 13:28:42.618 -05:00 INF] Consultando tabla chatcontacto para usuario 1000000001 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRR:00000006","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKRR"}
[2025-11-26 13:28:42.849 -05:00 WRN] No se encontraron contactos para el usuario 1000000001 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRR:00000006","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKRR"}
[2025-11-26 13:33:16.541 -05:00 INF] User Jeysson Sanchez disconnected from app SICOM_CHAT_2024 with connection yGuwXJDrMaXO8tQ44xzkPQ {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"yGuwXJDrMaXO8tQ44xzkPQ","RequestId":"0HNHD290KPKRU:00000001","RequestPath":"/chathub"}
[2025-11-26 13:33:16.806 -05:00 INF] GetUserConversationsAsync for user 1000000001 in app SICOM_CHAT_2024 perJur DEFAULT {"SourceContext":"ChatModularMicroservice.Domain.ChatService","ActionId":"a79fd1ad-65eb-4e66-bdce-5755b631750f","ActionName":"ChatModularMicroservice.Api.Controllers.ChatModernController.GetMyConversations (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRV:00000004","RequestPath":"/api/chat/conversations","ConnectionId":"0HNHD290KPKRV"}
[2025-11-26 13:33:16.823 -05:00 INF] Obteniendo configuración para aplicación con código: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRV:00000006","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRV"}
[2025-11-26 13:33:16.825 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Domain.ConfiguracionAplicacionUnificadaService","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRV:00000006","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRV"}
[2025-11-26 13:33:16.828 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRV:00000006","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRV"}
[2025-11-26 13:33:16.830 -05:00 INF] Intentando obtener aplicación con código exacto: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRV:00000006","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRV"}
[2025-11-26 13:33:16.904 -05:00 INF] SignalR connection attempt - AppCode: SICOM_CHAT_2024, HasAuthHeader: true {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"QLAaJ6cNCWLWaP2kDjmujw","RequestId":"0HNHD290KPKS0:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKS0"}
[2025-11-26 13:33:16.910 -05:00 INF] Token validated with claims: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier:1000000001, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress:jsanchez@example.com, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name:Jeysson Sanchez, http://schemas.microsoft.com/ws/2008/06/identity/claims/role:ADMIN, username:JSANCHEZ, per_codigo:, per_jur_codigo:DEFAULT, user_id:1000000001, app_code:SICOM_CHAT_2024, nbf:1764118060, exp:1764377260, iat:1764118060, iss:ChatModularAPI, aud:ChatModularAPI {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"QLAaJ6cNCWLWaP2kDjmujw","RequestId":"0HNHD290KPKS0:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKS0"}
[2025-11-26 13:33:16.915 -05:00 INF] Extracted user info - UserId: 1000000001, UserName: Jeysson Sanchez {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"QLAaJ6cNCWLWaP2kDjmujw","RequestId":"0HNHD290KPKS0:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKS0"}
[2025-11-26 13:33:16.917 -05:00 INF] User Jeysson Sanchez connected to app SICOM_CHAT_2024 with connection QLAaJ6cNCWLWaP2kDjmujw {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"QLAaJ6cNCWLWaP2kDjmujw","RequestId":"0HNHD290KPKS0:00000001","RequestPath":"/chathub"}
[2025-11-26 13:33:17.384 -05:00 INF] Total de aplicaciones encontradas: 1 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRV:00000006","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRV"}
[2025-11-26 13:33:17.388 -05:00 INF] Aplicación encontrada - ID: 7, Código: SICOM_CHAT_2024, Activa: true {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRV:00000006","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRV"}
[2025-11-26 13:33:17.609 -05:00 INF] Resultado de aplicación: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRV:00000006","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRV"}
[2025-11-26 13:33:17.613 -05:00 INF] Aplicación encontrada con ID: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRV:00000006","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRV"}
[2025-11-26 13:33:17.617 -05:00 INF] Ejecutando query para obtener configuración con aplicacionId: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRV:00000006","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRV"}
[2025-11-26 13:33:17.841 -05:00 INF] Resultado de configuración: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRV:00000006","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRV"}
[2025-11-26 13:33:17.849 -05:00 INF] Configuración encontrada para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRV:00000006","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKRV"}
[2025-11-26 13:33:17.866 -05:00 INF] Listando contactos para usuario 1000000001 en empresa 1 y aplicación SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRV:00000008","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKRV"}
[2025-11-26 13:33:17.869 -05:00 INF] Consultando tabla chatcontacto para usuario 1000000001 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRV:00000008","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKRV"}
[2025-11-26 13:33:18.101 -05:00 WRN] No se encontraron contactos para el usuario 1000000001 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRV:00000008","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKRV"}
[2025-11-26 13:33:34.879 -05:00 INF] User Jeysson Sanchez disconnected from app SICOM_CHAT_2024 with connection QLAaJ6cNCWLWaP2kDjmujw {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"QLAaJ6cNCWLWaP2kDjmujw","RequestId":"0HNHD290KPKS0:00000001","RequestPath":"/chathub"}
[2025-11-26 13:33:35.204 -05:00 INF] GetUserConversationsAsync for user 1000000001 in app SICOM_CHAT_2024 perJur DEFAULT {"SourceContext":"ChatModularMicroservice.Domain.ChatService","ActionId":"a79fd1ad-65eb-4e66-bdce-5755b631750f","ActionName":"ChatModularMicroservice.Api.Controllers.ChatModernController.GetMyConversations (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKRV:0000000A","RequestPath":"/api/chat/conversations","ConnectionId":"0HNHD290KPKRV"}
[2025-11-26 13:33:35.207 -05:00 INF] Obteniendo configuración para aplicación con código: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS1:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS1"}
[2025-11-26 13:33:35.211 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Domain.ConfiguracionAplicacionUnificadaService","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS1:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS1"}
[2025-11-26 13:33:35.214 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS1:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS1"}
[2025-11-26 13:33:35.217 -05:00 INF] Intentando obtener aplicación con código exacto: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS1:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS1"}
[2025-11-26 13:33:35.235 -05:00 INF] SignalR connection attempt - AppCode: SICOM_CHAT_2024, HasAuthHeader: true {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"l-ZjNgbx3QrUwxmqlLcdJw","RequestId":"0HNHD290KPKS2:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKS2"}
[2025-11-26 13:33:35.237 -05:00 INF] Token validated with claims: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier:1000000001, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress:jsanchez@example.com, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name:Jeysson Sanchez, http://schemas.microsoft.com/ws/2008/06/identity/claims/role:ADMIN, username:JSANCHEZ, per_codigo:, per_jur_codigo:DEFAULT, user_id:1000000001, app_code:SICOM_CHAT_2024, nbf:1764118060, exp:1764377260, iat:1764118060, iss:ChatModularAPI, aud:ChatModularAPI {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"l-ZjNgbx3QrUwxmqlLcdJw","RequestId":"0HNHD290KPKS2:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKS2"}
[2025-11-26 13:33:35.239 -05:00 INF] Extracted user info - UserId: 1000000001, UserName: Jeysson Sanchez {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"l-ZjNgbx3QrUwxmqlLcdJw","RequestId":"0HNHD290KPKS2:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKS2"}
[2025-11-26 13:33:35.242 -05:00 INF] User Jeysson Sanchez connected to app SICOM_CHAT_2024 with connection l-ZjNgbx3QrUwxmqlLcdJw {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"l-ZjNgbx3QrUwxmqlLcdJw","RequestId":"0HNHD290KPKS2:00000001","RequestPath":"/chathub"}
[2025-11-26 13:33:35.452 -05:00 INF] Total de aplicaciones encontradas: 1 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS1:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS1"}
[2025-11-26 13:33:35.455 -05:00 INF] Aplicación encontrada - ID: 7, Código: SICOM_CHAT_2024, Activa: true {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS1:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS1"}
[2025-11-26 13:33:35.666 -05:00 INF] Resultado de aplicación: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS1:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS1"}
[2025-11-26 13:33:35.668 -05:00 INF] Aplicación encontrada con ID: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS1:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS1"}
[2025-11-26 13:33:35.671 -05:00 INF] Ejecutando query para obtener configuración con aplicacionId: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS1:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS1"}
[2025-11-26 13:33:35.902 -05:00 INF] Resultado de configuración: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS1:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS1"}
[2025-11-26 13:33:35.917 -05:00 INF] Configuración encontrada para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS1:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS1"}
[2025-11-26 13:33:35.933 -05:00 INF] Listando contactos para usuario 1000000001 en empresa 1 y aplicación SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS1:00000004","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKS1"}
[2025-11-26 13:33:35.936 -05:00 INF] Consultando tabla chatcontacto para usuario 1000000001 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS1:00000004","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKS1"}
[2025-11-26 13:33:36.176 -05:00 WRN] No se encontraron contactos para el usuario 1000000001 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS1:00000004","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKS1"}
[2025-11-26 13:41:10.744 -05:00 INF] User Jeysson Sanchez disconnected from app SICOM_CHAT_2024 with connection l-ZjNgbx3QrUwxmqlLcdJw {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"l-ZjNgbx3QrUwxmqlLcdJw","RequestId":"0HNHD290KPKS2:00000001","RequestPath":"/chathub"}
[2025-11-26 13:41:11.096 -05:00 INF] GetUserConversationsAsync for user 1000000001 in app SICOM_CHAT_2024 perJur DEFAULT {"SourceContext":"ChatModularMicroservice.Domain.ChatService","ActionId":"a79fd1ad-65eb-4e66-bdce-5755b631750f","ActionName":"ChatModularMicroservice.Api.Controllers.ChatModernController.GetMyConversations (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS4:00000002","RequestPath":"/api/chat/conversations","ConnectionId":"0HNHD290KPKS4"}
[2025-11-26 13:41:11.103 -05:00 INF] Obteniendo configuración para aplicación con código: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS5:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS5"}
[2025-11-26 13:41:11.105 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Domain.ConfiguracionAplicacionUnificadaService","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS5:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS5"}
[2025-11-26 13:41:11.107 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS5:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS5"}
[2025-11-26 13:41:11.110 -05:00 INF] Intentando obtener aplicación con código exacto: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS5:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS5"}
[2025-11-26 13:41:11.208 -05:00 INF] SignalR connection attempt - AppCode: SICOM_CHAT_2024, HasAuthHeader: true {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"VtJ0J0e2upQ0SiMDeVkQlQ","RequestId":"0HNHD290KPKS6:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKS6"}
[2025-11-26 13:41:11.211 -05:00 INF] Token validated with claims: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier:1000000001, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress:jsanchez@example.com, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name:Jeysson Sanchez, http://schemas.microsoft.com/ws/2008/06/identity/claims/role:ADMIN, username:JSANCHEZ, per_codigo:, per_jur_codigo:DEFAULT, user_id:1000000001, app_code:SICOM_CHAT_2024, nbf:1764118060, exp:1764377260, iat:1764118060, iss:ChatModularAPI, aud:ChatModularAPI {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"VtJ0J0e2upQ0SiMDeVkQlQ","RequestId":"0HNHD290KPKS6:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKS6"}
[2025-11-26 13:41:11.213 -05:00 INF] Extracted user info - UserId: 1000000001, UserName: Jeysson Sanchez {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"VtJ0J0e2upQ0SiMDeVkQlQ","RequestId":"0HNHD290KPKS6:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKS6"}
[2025-11-26 13:41:11.215 -05:00 INF] User Jeysson Sanchez connected to app SICOM_CHAT_2024 with connection VtJ0J0e2upQ0SiMDeVkQlQ {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"VtJ0J0e2upQ0SiMDeVkQlQ","RequestId":"0HNHD290KPKS6:00000001","RequestPath":"/chathub"}
[2025-11-26 13:41:11.818 -05:00 INF] Total de aplicaciones encontradas: 1 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS5:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS5"}
[2025-11-26 13:41:11.820 -05:00 INF] Aplicación encontrada - ID: 7, Código: SICOM_CHAT_2024, Activa: true {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS5:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS5"}
[2025-11-26 13:41:12.030 -05:00 INF] Resultado de aplicación: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS5:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS5"}
[2025-11-26 13:41:12.034 -05:00 INF] Aplicación encontrada con ID: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS5:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS5"}
[2025-11-26 13:41:12.037 -05:00 INF] Ejecutando query para obtener configuración con aplicacionId: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS5:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS5"}
[2025-11-26 13:41:12.261 -05:00 INF] Resultado de configuración: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS5:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS5"}
[2025-11-26 13:41:12.265 -05:00 INF] Configuración encontrada para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS5:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS5"}
[2025-11-26 13:41:12.283 -05:00 INF] Listando contactos para usuario 1000000001 en empresa 1 y aplicación SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS5:00000004","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKS5"}
[2025-11-26 13:41:12.286 -05:00 INF] Consultando tabla chatcontacto para usuario 1000000001 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS5:00000004","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKS5"}
[2025-11-26 13:41:12.495 -05:00 WRN] No se encontraron contactos para el usuario 1000000001 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS5:00000004","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKS5"}
[2025-11-26 13:45:44.359 -05:00 INF] User Jeysson Sanchez disconnected from app SICOM_CHAT_2024 with connection VtJ0J0e2upQ0SiMDeVkQlQ {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"VtJ0J0e2upQ0SiMDeVkQlQ","RequestId":"0HNHD290KPKS6:00000001","RequestPath":"/chathub"}
[2025-11-26 13:45:44.902 -05:00 INF] Obteniendo configuración para aplicación con código: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000006","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:45:44.904 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Domain.ConfiguracionAplicacionUnificadaService","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000006","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:45:44.907 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000006","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:45:44.910 -05:00 INF] Intentando obtener aplicación con código exacto: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000006","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:45:45.020 -05:00 INF] SignalR connection attempt - AppCode: SICOM_CHAT_2024, HasAuthHeader: true {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"1-4xsXlUOTvZbZ30LebweA","RequestId":"0HNHD290KPKS8:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKS8"}
[2025-11-26 13:45:45.023 -05:00 INF] Token validated with claims: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier:1000000001, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress:jsanchez@example.com, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name:Jeysson Sanchez, http://schemas.microsoft.com/ws/2008/06/identity/claims/role:ADMIN, username:JSANCHEZ, per_codigo:, per_jur_codigo:DEFAULT, user_id:1000000001, app_code:SICOM_CHAT_2024, nbf:1764118060, exp:1764377260, iat:1764118060, iss:ChatModularAPI, aud:ChatModularAPI {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"1-4xsXlUOTvZbZ30LebweA","RequestId":"0HNHD290KPKS8:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKS8"}
[2025-11-26 13:45:45.025 -05:00 INF] Extracted user info - UserId: 1000000001, UserName: Jeysson Sanchez {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"1-4xsXlUOTvZbZ30LebweA","RequestId":"0HNHD290KPKS8:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKS8"}
[2025-11-26 13:45:45.029 -05:00 INF] User Jeysson Sanchez connected to app SICOM_CHAT_2024 with connection 1-4xsXlUOTvZbZ30LebweA {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"1-4xsXlUOTvZbZ30LebweA","RequestId":"0HNHD290KPKS8:00000001","RequestPath":"/chathub"}
[2025-11-26 13:45:45.690 -05:00 INF] Total de aplicaciones encontradas: 1 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000006","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:45:45.694 -05:00 INF] Aplicación encontrada - ID: 7, Código: SICOM_CHAT_2024, Activa: true {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000006","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:45:45.877 -05:00 INF] Resultado de aplicación: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000006","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:45:45.885 -05:00 INF] Aplicación encontrada con ID: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000006","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:45:45.888 -05:00 INF] Ejecutando query para obtener configuración con aplicacionId: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000006","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:45:46.067 -05:00 INF] Resultado de configuración: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000006","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:45:46.075 -05:00 INF] Configuración encontrada para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000006","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:45:46.091 -05:00 INF] Listando contactos para usuario 1000000001 en empresa 1 y aplicación SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000008","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:45:46.095 -05:00 INF] Consultando tabla chatcontacto para usuario 1000000001 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000008","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:45:46.274 -05:00 WRN] No se encontraron contactos para el usuario 1000000001 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000008","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:01.147 -05:00 INF] User Jeysson Sanchez disconnected from app SICOM_CHAT_2024 with connection 1-4xsXlUOTvZbZ30LebweA {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"1-4xsXlUOTvZbZ30LebweA","RequestId":"0HNHD290KPKS8:00000001","RequestPath":"/chathub"}
[2025-11-26 13:46:01.479 -05:00 INF] Obteniendo configuración para aplicación con código: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:0000000C","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:01.482 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Domain.ConfiguracionAplicacionUnificadaService","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:0000000C","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:01.484 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:0000000C","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:01.487 -05:00 INF] Intentando obtener aplicación con código exacto: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:0000000C","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:01.539 -05:00 INF] SignalR connection attempt - AppCode: SICOM_CHAT_2024, HasAuthHeader: true {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"4VjZ5vmZuhgakgMybyoI0A","RequestId":"0HNHD290KPKS9:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKS9"}
[2025-11-26 13:46:01.542 -05:00 INF] Token validated with claims: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier:1000000001, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress:jsanchez@example.com, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name:Jeysson Sanchez, http://schemas.microsoft.com/ws/2008/06/identity/claims/role:ADMIN, username:JSANCHEZ, per_codigo:, per_jur_codigo:DEFAULT, user_id:1000000001, app_code:SICOM_CHAT_2024, nbf:1764118060, exp:1764377260, iat:1764118060, iss:ChatModularAPI, aud:ChatModularAPI {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"4VjZ5vmZuhgakgMybyoI0A","RequestId":"0HNHD290KPKS9:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKS9"}
[2025-11-26 13:46:01.544 -05:00 INF] Extracted user info - UserId: 1000000001, UserName: Jeysson Sanchez {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"4VjZ5vmZuhgakgMybyoI0A","RequestId":"0HNHD290KPKS9:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKS9"}
[2025-11-26 13:46:01.546 -05:00 INF] User Jeysson Sanchez connected to app SICOM_CHAT_2024 with connection 4VjZ5vmZuhgakgMybyoI0A {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"4VjZ5vmZuhgakgMybyoI0A","RequestId":"0HNHD290KPKS9:00000001","RequestPath":"/chathub"}
[2025-11-26 13:46:01.640 -05:00 INF] Total de aplicaciones encontradas: 1 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:0000000C","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:01.643 -05:00 INF] Aplicación encontrada - ID: 7, Código: SICOM_CHAT_2024, Activa: true {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:0000000C","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:01.888 -05:00 INF] Resultado de aplicación: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:0000000C","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:01.892 -05:00 INF] Aplicación encontrada con ID: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:0000000C","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:01.894 -05:00 INF] Ejecutando query para obtener configuración con aplicacionId: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:0000000C","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:02.107 -05:00 INF] Resultado de configuración: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:0000000C","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:02.110 -05:00 INF] Configuración encontrada para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:0000000C","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:02.126 -05:00 INF] Listando contactos para usuario 1000000001 en empresa 1 y aplicación SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:0000000E","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:02.129 -05:00 INF] Consultando tabla chatcontacto para usuario 1000000001 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:0000000E","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:02.283 -05:00 WRN] No se encontraron contactos para el usuario 1000000001 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:0000000E","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:16.936 -05:00 INF] User Jeysson Sanchez disconnected from app SICOM_CHAT_2024 with connection 4VjZ5vmZuhgakgMybyoI0A {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"4VjZ5vmZuhgakgMybyoI0A","RequestId":"0HNHD290KPKS9:00000001","RequestPath":"/chathub"}
[2025-11-26 13:46:17.309 -05:00 INF] Obteniendo configuración para aplicación con código: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000012","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:17.312 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Domain.ConfiguracionAplicacionUnificadaService","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000012","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:17.315 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000012","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:17.318 -05:00 INF] Intentando obtener aplicación con código exacto: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000012","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:17.375 -05:00 INF] SignalR connection attempt - AppCode: SICOM_CHAT_2024, HasAuthHeader: true {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"TkqX-ILkQBYpCN2lqkx6dg","RequestId":"0HNHD290KPKSA:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKSA"}
[2025-11-26 13:46:17.378 -05:00 INF] Token validated with claims: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier:1000000001, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress:jsanchez@example.com, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name:Jeysson Sanchez, http://schemas.microsoft.com/ws/2008/06/identity/claims/role:ADMIN, username:JSANCHEZ, per_codigo:, per_jur_codigo:DEFAULT, user_id:1000000001, app_code:SICOM_CHAT_2024, nbf:1764118060, exp:1764377260, iat:1764118060, iss:ChatModularAPI, aud:ChatModularAPI {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"TkqX-ILkQBYpCN2lqkx6dg","RequestId":"0HNHD290KPKSA:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKSA"}
[2025-11-26 13:46:17.380 -05:00 INF] Extracted user info - UserId: 1000000001, UserName: Jeysson Sanchez {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"TkqX-ILkQBYpCN2lqkx6dg","RequestId":"0HNHD290KPKSA:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKSA"}
[2025-11-26 13:46:17.382 -05:00 INF] User Jeysson Sanchez connected to app SICOM_CHAT_2024 with connection TkqX-ILkQBYpCN2lqkx6dg {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"TkqX-ILkQBYpCN2lqkx6dg","RequestId":"0HNHD290KPKSA:00000001","RequestPath":"/chathub"}
[2025-11-26 13:46:17.495 -05:00 INF] Total de aplicaciones encontradas: 1 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000012","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:17.498 -05:00 INF] Aplicación encontrada - ID: 7, Código: SICOM_CHAT_2024, Activa: true {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000012","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:17.663 -05:00 INF] Resultado de aplicación: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000012","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:17.666 -05:00 INF] Aplicación encontrada con ID: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000012","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:17.668 -05:00 INF] Ejecutando query para obtener configuración con aplicacionId: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000012","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:17.829 -05:00 INF] Resultado de configuración: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000012","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:17.833 -05:00 INF] Configuración encontrada para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000012","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:17.849 -05:00 INF] Listando contactos para usuario 1000000001 en empresa 1 y aplicación SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000014","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:17.852 -05:00 INF] Consultando tabla chatcontacto para usuario 1000000001 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000014","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:18.008 -05:00 WRN] No se encontraron contactos para el usuario 1000000001 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000014","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:26.616 -05:00 INF] User Jeysson Sanchez disconnected from app SICOM_CHAT_2024 with connection TkqX-ILkQBYpCN2lqkx6dg {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"TkqX-ILkQBYpCN2lqkx6dg","RequestId":"0HNHD290KPKSA:00000001","RequestPath":"/chathub"}
[2025-11-26 13:46:26.951 -05:00 INF] Obteniendo configuración para aplicación con código: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000018","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:26.954 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Domain.ConfiguracionAplicacionUnificadaService","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000018","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:26.956 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000018","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:26.959 -05:00 INF] Intentando obtener aplicación con código exacto: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000018","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:27.005 -05:00 INF] SignalR connection attempt - AppCode: SICOM_CHAT_2024, HasAuthHeader: true {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"tWEgnrHsaFFdRZ9O7N2vOw","RequestId":"0HNHD290KPKSB:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKSB"}
[2025-11-26 13:46:27.008 -05:00 INF] Token validated with claims: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier:1000000001, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress:jsanchez@example.com, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name:Jeysson Sanchez, http://schemas.microsoft.com/ws/2008/06/identity/claims/role:ADMIN, username:JSANCHEZ, per_codigo:, per_jur_codigo:DEFAULT, user_id:1000000001, app_code:SICOM_CHAT_2024, nbf:1764118060, exp:1764377260, iat:1764118060, iss:ChatModularAPI, aud:ChatModularAPI {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"tWEgnrHsaFFdRZ9O7N2vOw","RequestId":"0HNHD290KPKSB:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKSB"}
[2025-11-26 13:46:27.010 -05:00 INF] Extracted user info - UserId: 1000000001, UserName: Jeysson Sanchez {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"tWEgnrHsaFFdRZ9O7N2vOw","RequestId":"0HNHD290KPKSB:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKSB"}
[2025-11-26 13:46:27.012 -05:00 INF] User Jeysson Sanchez connected to app SICOM_CHAT_2024 with connection tWEgnrHsaFFdRZ9O7N2vOw {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"tWEgnrHsaFFdRZ9O7N2vOw","RequestId":"0HNHD290KPKSB:00000001","RequestPath":"/chathub"}
[2025-11-26 13:46:27.108 -05:00 INF] Total de aplicaciones encontradas: 1 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000018","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:27.111 -05:00 INF] Aplicación encontrada - ID: 7, Código: SICOM_CHAT_2024, Activa: true {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000018","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:27.267 -05:00 INF] Resultado de aplicación: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000018","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:27.273 -05:00 INF] Aplicación encontrada con ID: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000018","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:27.278 -05:00 INF] Ejecutando query para obtener configuración con aplicacionId: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000018","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:27.435 -05:00 INF] Resultado de configuración: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000018","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:27.439 -05:00 INF] Configuración encontrada para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000018","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:27.454 -05:00 INF] Listando contactos para usuario 1000000001 en empresa 1 y aplicación SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:0000001A","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:27.457 -05:00 INF] Consultando tabla chatcontacto para usuario 1000000001 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:0000001A","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:27.593 -05:00 WRN] No se encontraron contactos para el usuario 1000000001 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:0000001A","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:44.533 -05:00 INF] User Jeysson Sanchez disconnected from app SICOM_CHAT_2024 with connection tWEgnrHsaFFdRZ9O7N2vOw {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"tWEgnrHsaFFdRZ9O7N2vOw","RequestId":"0HNHD290KPKSB:00000001","RequestPath":"/chathub"}
[2025-11-26 13:46:44.851 -05:00 INF] Obteniendo configuración para aplicación con código: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:0000001E","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:44.853 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Domain.ConfiguracionAplicacionUnificadaService","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:0000001E","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:44.855 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:0000001E","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:44.857 -05:00 INF] Intentando obtener aplicación con código exacto: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:0000001E","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:44.953 -05:00 INF] SignalR connection attempt - AppCode: SICOM_CHAT_2024, HasAuthHeader: true {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"-Mp_LjQhTkZ_sG87PvmAsQ","RequestId":"0HNHD290KPKSC:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKSC"}
[2025-11-26 13:46:44.956 -05:00 INF] Token validated with claims: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier:1000000001, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress:jsanchez@example.com, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name:Jeysson Sanchez, http://schemas.microsoft.com/ws/2008/06/identity/claims/role:ADMIN, username:JSANCHEZ, per_codigo:, per_jur_codigo:DEFAULT, user_id:1000000001, app_code:SICOM_CHAT_2024, nbf:1764118060, exp:1764377260, iat:1764118060, iss:ChatModularAPI, aud:ChatModularAPI {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"-Mp_LjQhTkZ_sG87PvmAsQ","RequestId":"0HNHD290KPKSC:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKSC"}
[2025-11-26 13:46:44.958 -05:00 INF] Extracted user info - UserId: 1000000001, UserName: Jeysson Sanchez {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"-Mp_LjQhTkZ_sG87PvmAsQ","RequestId":"0HNHD290KPKSC:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKSC"}
[2025-11-26 13:46:44.961 -05:00 INF] User Jeysson Sanchez connected to app SICOM_CHAT_2024 with connection -Mp_LjQhTkZ_sG87PvmAsQ {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"-Mp_LjQhTkZ_sG87PvmAsQ","RequestId":"0HNHD290KPKSC:00000001","RequestPath":"/chathub"}
[2025-11-26 13:46:45.027 -05:00 INF] Total de aplicaciones encontradas: 1 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:0000001E","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:45.030 -05:00 INF] Aplicación encontrada - ID: 7, Código: SICOM_CHAT_2024, Activa: true {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:0000001E","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:45.182 -05:00 INF] Resultado de aplicación: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:0000001E","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:45.184 -05:00 INF] Aplicación encontrada con ID: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:0000001E","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:45.187 -05:00 INF] Ejecutando query para obtener configuración con aplicacionId: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:0000001E","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:45.356 -05:00 INF] Resultado de configuración: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:0000001E","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:45.358 -05:00 INF] Configuración encontrada para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:0000001E","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:45.377 -05:00 INF] Listando contactos para usuario 1000000001 en empresa 1 y aplicación SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000020","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:45.380 -05:00 INF] Consultando tabla chatcontacto para usuario 1000000001 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000020","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:46:45.536 -05:00 WRN] No se encontraron contactos para el usuario 1000000001 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000020","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:48:09.238 -05:00 INF] User Jeysson Sanchez disconnected from app SICOM_CHAT_2024 with connection -Mp_LjQhTkZ_sG87PvmAsQ {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"-Mp_LjQhTkZ_sG87PvmAsQ","RequestId":"0HNHD290KPKSC:00000001","RequestPath":"/chathub"}
[2025-11-26 13:48:09.576 -05:00 INF] Obteniendo configuración para aplicación con código: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000024","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:48:09.578 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Domain.ConfiguracionAplicacionUnificadaService","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000024","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:48:09.581 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000024","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:48:09.584 -05:00 INF] Intentando obtener aplicación con código exacto: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000024","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:48:09.659 -05:00 INF] SignalR connection attempt - AppCode: SICOM_CHAT_2024, HasAuthHeader: true {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"cXso-TnRIewjKSSJBvIqlQ","RequestId":"0HNHD290KPKSD:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKSD"}
[2025-11-26 13:48:09.662 -05:00 INF] Token validated with claims: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier:1000000001, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress:jsanchez@example.com, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name:Jeysson Sanchez, http://schemas.microsoft.com/ws/2008/06/identity/claims/role:ADMIN, username:JSANCHEZ, per_codigo:, per_jur_codigo:DEFAULT, user_id:1000000001, app_code:SICOM_CHAT_2024, nbf:1764118060, exp:1764377260, iat:1764118060, iss:ChatModularAPI, aud:ChatModularAPI {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"cXso-TnRIewjKSSJBvIqlQ","RequestId":"0HNHD290KPKSD:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKSD"}
[2025-11-26 13:48:09.665 -05:00 INF] Extracted user info - UserId: 1000000001, UserName: Jeysson Sanchez {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"cXso-TnRIewjKSSJBvIqlQ","RequestId":"0HNHD290KPKSD:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKSD"}
[2025-11-26 13:48:09.667 -05:00 INF] User Jeysson Sanchez connected to app SICOM_CHAT_2024 with connection cXso-TnRIewjKSSJBvIqlQ {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"cXso-TnRIewjKSSJBvIqlQ","RequestId":"0HNHD290KPKSD:00000001","RequestPath":"/chathub"}
[2025-11-26 13:48:09.978 -05:00 INF] Total de aplicaciones encontradas: 1 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000024","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:48:09.981 -05:00 INF] Aplicación encontrada - ID: 7, Código: SICOM_CHAT_2024, Activa: true {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000024","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:48:10.195 -05:00 INF] Resultado de aplicación: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000024","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:48:10.198 -05:00 INF] Aplicación encontrada con ID: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000024","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:48:10.201 -05:00 INF] Ejecutando query para obtener configuración con aplicacionId: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000024","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:48:10.378 -05:00 INF] Resultado de configuración: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000024","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:48:10.383 -05:00 INF] Configuración encontrada para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000024","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:48:10.403 -05:00 INF] Listando contactos para usuario 1000000001 en empresa 1 y aplicación SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000026","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:48:10.406 -05:00 INF] Consultando tabla chatcontacto para usuario 1000000001 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000026","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:48:10.582 -05:00 WRN] No se encontraron contactos para el usuario 1000000001 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:00000026","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:49:01.708 -05:00 INF] User Jeysson Sanchez disconnected from app SICOM_CHAT_2024 with connection cXso-TnRIewjKSSJBvIqlQ {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"cXso-TnRIewjKSSJBvIqlQ","RequestId":"0HNHD290KPKSD:00000001","RequestPath":"/chathub"}
[2025-11-26 13:49:02.086 -05:00 INF] Obteniendo configuración para aplicación con código: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:0000002A","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:49:02.089 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Domain.ConfiguracionAplicacionUnificadaService","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:0000002A","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:49:02.091 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:0000002A","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:49:02.094 -05:00 INF] Intentando obtener aplicación con código exacto: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:0000002A","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:49:02.218 -05:00 INF] SignalR connection attempt - AppCode: SICOM_CHAT_2024, HasAuthHeader: true {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"v0RLwD0tyJZUIeWWt3PMpg","RequestId":"0HNHD290KPKSE:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKSE"}
[2025-11-26 13:49:02.221 -05:00 INF] Token validated with claims: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier:1000000001, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress:jsanchez@example.com, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name:Jeysson Sanchez, http://schemas.microsoft.com/ws/2008/06/identity/claims/role:ADMIN, username:JSANCHEZ, per_codigo:, per_jur_codigo:DEFAULT, user_id:1000000001, app_code:SICOM_CHAT_2024, nbf:1764118060, exp:1764377260, iat:1764118060, iss:ChatModularAPI, aud:ChatModularAPI {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"v0RLwD0tyJZUIeWWt3PMpg","RequestId":"0HNHD290KPKSE:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKSE"}
[2025-11-26 13:49:02.223 -05:00 INF] Extracted user info - UserId: 1000000001, UserName: Jeysson Sanchez {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"v0RLwD0tyJZUIeWWt3PMpg","RequestId":"0HNHD290KPKSE:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKSE"}
[2025-11-26 13:49:02.226 -05:00 INF] User Jeysson Sanchez connected to app SICOM_CHAT_2024 with connection v0RLwD0tyJZUIeWWt3PMpg {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"v0RLwD0tyJZUIeWWt3PMpg","RequestId":"0HNHD290KPKSE:00000001","RequestPath":"/chathub"}
[2025-11-26 13:49:02.277 -05:00 INF] Total de aplicaciones encontradas: 1 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:0000002A","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:49:02.280 -05:00 INF] Aplicación encontrada - ID: 7, Código: SICOM_CHAT_2024, Activa: true {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:0000002A","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:49:02.439 -05:00 INF] Resultado de aplicación: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:0000002A","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:49:02.447 -05:00 INF] Aplicación encontrada con ID: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:0000002A","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:49:02.468 -05:00 INF] Ejecutando query para obtener configuración con aplicacionId: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:0000002A","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:49:02.656 -05:00 INF] Resultado de configuración: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:0000002A","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:49:02.660 -05:00 INF] Configuración encontrada para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:0000002A","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:49:02.679 -05:00 INF] Listando contactos para usuario 1000000001 en empresa 1 y aplicación SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:0000002C","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:49:02.682 -05:00 INF] Consultando tabla chatcontacto para usuario 1000000001 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:0000002C","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:49:02.874 -05:00 WRN] No se encontraron contactos para el usuario 1000000001 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKS7:0000002C","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKS7"}
[2025-11-26 13:52:55.191 -05:00 INF] User Jeysson Sanchez disconnected from app SICOM_CHAT_2024 with connection v0RLwD0tyJZUIeWWt3PMpg {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"v0RLwD0tyJZUIeWWt3PMpg","RequestId":"0HNHD290KPKSE:00000001","RequestPath":"/chathub"}
[2025-11-26 13:52:55.546 -05:00 INF] Obteniendo configuración para aplicación con código: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSF:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSF"}
[2025-11-26 13:52:55.549 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Domain.ConfiguracionAplicacionUnificadaService","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSF:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSF"}
[2025-11-26 13:52:55.551 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSF:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSF"}
[2025-11-26 13:52:55.554 -05:00 INF] Intentando obtener aplicación con código exacto: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSF:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSF"}
[2025-11-26 13:52:55.691 -05:00 INF] SignalR connection attempt - AppCode: SICOM_CHAT_2024, HasAuthHeader: true {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"hq4CJh7WlDRvofwBSGJmew","RequestId":"0HNHD290KPKSG:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKSG"}
[2025-11-26 13:52:55.694 -05:00 INF] Token validated with claims: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier:1000000001, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress:jsanchez@example.com, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name:Jeysson Sanchez, http://schemas.microsoft.com/ws/2008/06/identity/claims/role:ADMIN, username:JSANCHEZ, per_codigo:, per_jur_codigo:DEFAULT, user_id:1000000001, app_code:SICOM_CHAT_2024, nbf:1764118060, exp:1764377260, iat:1764118060, iss:ChatModularAPI, aud:ChatModularAPI {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"hq4CJh7WlDRvofwBSGJmew","RequestId":"0HNHD290KPKSG:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKSG"}
[2025-11-26 13:52:55.697 -05:00 INF] Extracted user info - UserId: 1000000001, UserName: Jeysson Sanchez {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"hq4CJh7WlDRvofwBSGJmew","RequestId":"0HNHD290KPKSG:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKSG"}
[2025-11-26 13:52:55.699 -05:00 INF] User Jeysson Sanchez connected to app SICOM_CHAT_2024 with connection hq4CJh7WlDRvofwBSGJmew {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"hq4CJh7WlDRvofwBSGJmew","RequestId":"0HNHD290KPKSG:00000001","RequestPath":"/chathub"}
[2025-11-26 13:52:56.122 -05:00 INF] Total de aplicaciones encontradas: 1 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSF:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSF"}
[2025-11-26 13:52:56.124 -05:00 INF] Aplicación encontrada - ID: 7, Código: SICOM_CHAT_2024, Activa: true {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSF:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSF"}
[2025-11-26 13:52:56.348 -05:00 INF] Resultado de aplicación: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSF:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSF"}
[2025-11-26 13:52:56.353 -05:00 INF] Aplicación encontrada con ID: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSF:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSF"}
[2025-11-26 13:52:56.356 -05:00 INF] Ejecutando query para obtener configuración con aplicacionId: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSF:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSF"}
[2025-11-26 13:52:56.584 -05:00 INF] Resultado de configuración: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSF:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSF"}
[2025-11-26 13:52:56.588 -05:00 INF] Configuración encontrada para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSF:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSF"}
[2025-11-26 13:52:56.608 -05:00 INF] Listando contactos para usuario 1000000001 en empresa 1 y aplicación SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSF:00000006","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKSF"}
[2025-11-26 13:52:56.612 -05:00 INF] Consultando tabla chatcontacto para usuario 1000000001 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSF:00000006","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKSF"}
[2025-11-26 13:52:56.821 -05:00 WRN] No se encontraron contactos para el usuario 1000000001 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSF:00000006","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKSF"}
[2025-11-26 13:59:50.593 -05:00 INF] User Jeysson Sanchez disconnected from app SICOM_CHAT_2024 with connection hq4CJh7WlDRvofwBSGJmew {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"hq4CJh7WlDRvofwBSGJmew","RequestId":"0HNHD290KPKSG:00000001","RequestPath":"/chathub"}
[2025-11-26 13:59:50.976 -05:00 INF] Obteniendo configuración para aplicación con código: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 13:59:50.978 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Domain.ConfiguracionAplicacionUnificadaService","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 13:59:50.980 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 13:59:50.982 -05:00 INF] Intentando obtener aplicación con código exacto: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 13:59:51.091 -05:00 INF] SignalR connection attempt - AppCode: SICOM_CHAT_2024, HasAuthHeader: true {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"OYiZcRuLarM_vMmNuqY2bQ","RequestId":"0HNHD290KPKSJ:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKSJ"}
[2025-11-26 13:59:51.094 -05:00 INF] Token validated with claims: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier:1000000001, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress:jsanchez@example.com, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name:Jeysson Sanchez, http://schemas.microsoft.com/ws/2008/06/identity/claims/role:ADMIN, username:JSANCHEZ, per_codigo:, per_jur_codigo:DEFAULT, user_id:1000000001, app_code:SICOM_CHAT_2024, nbf:1764118060, exp:1764377260, iat:1764118060, iss:ChatModularAPI, aud:ChatModularAPI {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"OYiZcRuLarM_vMmNuqY2bQ","RequestId":"0HNHD290KPKSJ:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKSJ"}
[2025-11-26 13:59:51.097 -05:00 INF] Extracted user info - UserId: 1000000001, UserName: Jeysson Sanchez {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"OYiZcRuLarM_vMmNuqY2bQ","RequestId":"0HNHD290KPKSJ:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKSJ"}
[2025-11-26 13:59:51.100 -05:00 INF] User Jeysson Sanchez connected to app SICOM_CHAT_2024 with connection OYiZcRuLarM_vMmNuqY2bQ {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"OYiZcRuLarM_vMmNuqY2bQ","RequestId":"0HNHD290KPKSJ:00000001","RequestPath":"/chathub"}
[2025-11-26 13:59:51.717 -05:00 INF] Total de aplicaciones encontradas: 1 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 13:59:51.722 -05:00 INF] Aplicación encontrada - ID: 7, Código: SICOM_CHAT_2024, Activa: true {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 13:59:51.942 -05:00 INF] Resultado de aplicación: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 13:59:51.945 -05:00 INF] Aplicación encontrada con ID: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 13:59:51.948 -05:00 INF] Ejecutando query para obtener configuración con aplicacionId: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 13:59:52.207 -05:00 INF] Resultado de configuración: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 13:59:52.218 -05:00 INF] Configuración encontrada para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 13:59:52.236 -05:00 INF] Listando contactos para usuario 1000000001 en empresa 1 y aplicación SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000004","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 13:59:52.239 -05:00 INF] Consultando tabla chatcontacto para usuario 1000000001 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000004","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 13:59:52.438 -05:00 WRN] No se encontraron contactos para el usuario 1000000001 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000004","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:00:35.171 -05:00 INF] User Jeysson Sanchez disconnected from app SICOM_CHAT_2024 with connection OYiZcRuLarM_vMmNuqY2bQ {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"OYiZcRuLarM_vMmNuqY2bQ","RequestId":"0HNHD290KPKSJ:00000001","RequestPath":"/chathub"}
[2025-11-26 14:00:35.565 -05:00 INF] Obteniendo configuración para aplicación con código: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000008","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:00:35.567 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Domain.ConfiguracionAplicacionUnificadaService","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000008","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:00:35.570 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000008","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:00:35.572 -05:00 INF] Intentando obtener aplicación con código exacto: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000008","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:00:35.692 -05:00 INF] SignalR connection attempt - AppCode: SICOM_CHAT_2024, HasAuthHeader: true {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"cg3GjJ7ua2TvX32Y5Pf_Sg","RequestId":"0HNHD290KPKSK:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKSK"}
[2025-11-26 14:00:35.695 -05:00 INF] Token validated with claims: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier:1000000001, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress:jsanchez@example.com, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name:Jeysson Sanchez, http://schemas.microsoft.com/ws/2008/06/identity/claims/role:ADMIN, username:JSANCHEZ, per_codigo:, per_jur_codigo:DEFAULT, user_id:1000000001, app_code:SICOM_CHAT_2024, nbf:1764118060, exp:1764377260, iat:1764118060, iss:ChatModularAPI, aud:ChatModularAPI {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"cg3GjJ7ua2TvX32Y5Pf_Sg","RequestId":"0HNHD290KPKSK:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKSK"}
[2025-11-26 14:00:35.697 -05:00 INF] Extracted user info - UserId: 1000000001, UserName: Jeysson Sanchez {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"cg3GjJ7ua2TvX32Y5Pf_Sg","RequestId":"0HNHD290KPKSK:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKSK"}
[2025-11-26 14:00:35.699 -05:00 INF] User Jeysson Sanchez connected to app SICOM_CHAT_2024 with connection cg3GjJ7ua2TvX32Y5Pf_Sg {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"cg3GjJ7ua2TvX32Y5Pf_Sg","RequestId":"0HNHD290KPKSK:00000001","RequestPath":"/chathub"}
[2025-11-26 14:00:35.819 -05:00 INF] Total de aplicaciones encontradas: 1 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000008","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:00:35.822 -05:00 INF] Aplicación encontrada - ID: 7, Código: SICOM_CHAT_2024, Activa: true {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000008","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:00:36.029 -05:00 INF] Resultado de aplicación: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000008","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:00:36.033 -05:00 INF] Aplicación encontrada con ID: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000008","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:00:36.036 -05:00 INF] Ejecutando query para obtener configuración con aplicacionId: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000008","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:00:36.252 -05:00 INF] Resultado de configuración: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000008","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:00:36.255 -05:00 INF] Configuración encontrada para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000008","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:00:36.273 -05:00 INF] Listando contactos para usuario 1000000001 en empresa 1 y aplicación SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:0000000A","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:00:36.277 -05:00 INF] Consultando tabla chatcontacto para usuario 1000000001 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:0000000A","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:00:36.500 -05:00 WRN] No se encontraron contactos para el usuario 1000000001 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:0000000A","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:01:55.460 -05:00 INF] User Jeysson Sanchez disconnected from app SICOM_CHAT_2024 with connection cg3GjJ7ua2TvX32Y5Pf_Sg {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"cg3GjJ7ua2TvX32Y5Pf_Sg","RequestId":"0HNHD290KPKSK:00000001","RequestPath":"/chathub"}
[2025-11-26 14:01:55.509 -05:00 INF] Ejecutando stored procedure (lista): usp_applications_select {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"d2031c7b-e31e-4f42-bc70-f10a0bc3b01a","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.GetAllApplications (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000015","RequestPath":"/api/v1/aplicaciones","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:01:55.512 -05:00 INF] Ejecutando stored procedure (lista): usp_applications_select {"SourceContext":"ChatModularMicroservice.Infrastructure.ApplicationSupabaseRepository","ActionId":"2968c7ef-bbc0-475c-920a-0a3885d1ed99","ActionName":"ChatModularMicroservice.Api.Controllers.AplicacionesController.GetActiveApplications (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSH:00000004","RequestPath":"/api/v1/aplicaciones/activas","ConnectionId":"0HNHD290KPKSH"}
[2025-11-26 14:01:56.030 -05:00 INF] Obteniendo configuración para aplicación con código: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000016","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:01:56.041 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Domain.ConfiguracionAplicacionUnificadaService","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000016","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:01:56.044 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000016","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:01:56.048 -05:00 INF] Intentando obtener aplicación con código exacto: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000016","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:01:56.105 -05:00 INF] Obteniendo todas las configuraciones de empresa {"SourceContext":"ChatModularMicroservice.Api.Controllers.ConfiguracionEmpresaController","ActionId":"9234852a-6d52-4f81-836f-3b053c7d8ef4","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionEmpresaController.GetAll (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSL:00000004","RequestPath":"/api/v1/configuracion-empresa","ConnectionId":"0HNHD290KPKSL"}
[2025-11-26 14:01:56.250 -05:00 INF] Total de aplicaciones encontradas: 1 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000016","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:01:56.258 -05:00 INF] Aplicación encontrada - ID: 7, Código: SICOM_CHAT_2024, Activa: true {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000016","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:01:56.476 -05:00 INF] Resultado de aplicación: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000016","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:01:56.481 -05:00 INF] Aplicación encontrada con ID: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000016","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:01:56.485 -05:00 INF] Ejecutando query para obtener configuración con aplicacionId: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000016","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:01:56.693 -05:00 INF] Resultado de configuración: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000016","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:01:56.699 -05:00 INF] Configuración encontrada para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000016","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:01:57.503 -05:00 INF] SignalR connection attempt - AppCode: SICOM_CHAT_2024, HasAuthHeader: true {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"bCFJBGLCcc1Lpd0BbUs76w","RequestId":"0HNHD290KPKSP:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKSP"}
[2025-11-26 14:01:57.510 -05:00 INF] Token validated with claims: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier:1000000001, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress:jsanchez@example.com, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name:Jeysson Sanchez, http://schemas.microsoft.com/ws/2008/06/identity/claims/role:ADMIN, username:JSANCHEZ, per_codigo:, per_jur_codigo:DEFAULT, user_id:1000000001, app_code:SICOM_CHAT_2024, nbf:1764118060, exp:1764377260, iat:1764118060, iss:ChatModularAPI, aud:ChatModularAPI {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"bCFJBGLCcc1Lpd0BbUs76w","RequestId":"0HNHD290KPKSP:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKSP"}
[2025-11-26 14:01:57.513 -05:00 INF] Extracted user info - UserId: 1000000001, UserName: Jeysson Sanchez {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"bCFJBGLCcc1Lpd0BbUs76w","RequestId":"0HNHD290KPKSP:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKSP"}
[2025-11-26 14:01:57.515 -05:00 INF] User Jeysson Sanchez connected to app SICOM_CHAT_2024 with connection bCFJBGLCcc1Lpd0BbUs76w {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"bCFJBGLCcc1Lpd0BbUs76w","RequestId":"0HNHD290KPKSP:00000001","RequestPath":"/chathub"}
[2025-11-26 14:02:28.951 -05:00 INF] Obteniendo configuración para aplicación con código: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:0000001A","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:02:28.954 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Domain.ConfiguracionAplicacionUnificadaService","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:0000001A","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:02:28.959 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:0000001A","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:02:28.966 -05:00 INF] Intentando obtener aplicación con código exacto: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:0000001A","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:02:29.429 -05:00 INF] Total de aplicaciones encontradas: 1 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:0000001A","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:02:29.434 -05:00 INF] Aplicación encontrada - ID: 7, Código: SICOM_CHAT_2024, Activa: true {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:0000001A","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:02:29.714 -05:00 INF] Resultado de aplicación: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:0000001A","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:02:29.719 -05:00 INF] Aplicación encontrada con ID: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:0000001A","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:02:29.723 -05:00 INF] Ejecutando query para obtener configuración con aplicacionId: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:0000001A","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:02:29.958 -05:00 INF] Resultado de configuración: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:0000001A","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:02:29.965 -05:00 INF] Configuración encontrada para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:0000001A","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:02:29.985 -05:00 INF] Listando contactos para usuario 1000000001 en empresa 1 y aplicación SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:0000001C","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:02:29.989 -05:00 INF] Consultando tabla chatcontacto para usuario 1000000001 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:0000001C","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:02:30.213 -05:00 WRN] No se encontraron contactos para el usuario 1000000001 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:0000001C","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:04:13.777 -05:00 INF] User Jeysson Sanchez disconnected from app SICOM_CHAT_2024 with connection bCFJBGLCcc1Lpd0BbUs76w {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"bCFJBGLCcc1Lpd0BbUs76w","RequestId":"0HNHD290KPKSP:00000001","RequestPath":"/chathub"}
[2025-11-26 14:04:14.170 -05:00 INF] Obteniendo configuración para aplicación con código: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000020","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:04:14.173 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Domain.ConfiguracionAplicacionUnificadaService","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000020","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:04:14.175 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000020","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:04:14.178 -05:00 INF] Intentando obtener aplicación con código exacto: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000020","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:04:14.255 -05:00 INF] SignalR connection attempt - AppCode: SICOM_CHAT_2024, HasAuthHeader: true {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"87ECEnEUL97IqIF1qtNY-Q","RequestId":"0HNHD290KPKSQ:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKSQ"}
[2025-11-26 14:04:14.257 -05:00 INF] Token validated with claims: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier:1000000001, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress:jsanchez@example.com, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name:Jeysson Sanchez, http://schemas.microsoft.com/ws/2008/06/identity/claims/role:ADMIN, username:JSANCHEZ, per_codigo:, per_jur_codigo:DEFAULT, user_id:1000000001, app_code:SICOM_CHAT_2024, nbf:1764118060, exp:1764377260, iat:1764118060, iss:ChatModularAPI, aud:ChatModularAPI {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"87ECEnEUL97IqIF1qtNY-Q","RequestId":"0HNHD290KPKSQ:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKSQ"}
[2025-11-26 14:04:14.260 -05:00 INF] Extracted user info - UserId: 1000000001, UserName: Jeysson Sanchez {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"87ECEnEUL97IqIF1qtNY-Q","RequestId":"0HNHD290KPKSQ:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKSQ"}
[2025-11-26 14:04:14.262 -05:00 INF] User Jeysson Sanchez connected to app SICOM_CHAT_2024 with connection 87ECEnEUL97IqIF1qtNY-Q {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"87ECEnEUL97IqIF1qtNY-Q","RequestId":"0HNHD290KPKSQ:00000001","RequestPath":"/chathub"}
[2025-11-26 14:04:14.712 -05:00 INF] Total de aplicaciones encontradas: 1 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000020","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:04:14.716 -05:00 INF] Aplicación encontrada - ID: 7, Código: SICOM_CHAT_2024, Activa: true {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000020","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:04:14.889 -05:00 INF] Resultado de aplicación: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000020","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:04:14.907 -05:00 INF] Aplicación encontrada con ID: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000020","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:04:14.911 -05:00 INF] Ejecutando query para obtener configuración con aplicacionId: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000020","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:04:15.078 -05:00 INF] Resultado de configuración: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000020","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:04:15.083 -05:00 INF] Configuración encontrada para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000020","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:04:15.101 -05:00 INF] Listando contactos para usuario 1000000001 en empresa 1 y aplicación SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000022","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:04:15.104 -05:00 INF] Consultando tabla chatcontacto para usuario 1000000001 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000022","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:04:15.263 -05:00 WRN] No se encontraron contactos para el usuario 1000000001 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000022","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:05:11.658 -05:00 INF] User Jeysson Sanchez disconnected from app SICOM_CHAT_2024 with connection 87ECEnEUL97IqIF1qtNY-Q {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"87ECEnEUL97IqIF1qtNY-Q","RequestId":"0HNHD290KPKSQ:00000001","RequestPath":"/chathub"}
[2025-11-26 14:05:12.117 -05:00 INF] Obteniendo configuración para aplicación con código: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000028","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:05:12.119 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Domain.ConfiguracionAplicacionUnificadaService","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000028","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:05:12.122 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000028","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:05:12.124 -05:00 INF] Intentando obtener aplicación con código exacto: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000028","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:05:12.199 -05:00 INF] SignalR connection attempt - AppCode: SICOM_CHAT_2024, HasAuthHeader: true {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"olL62fwRLhTcVOCljrzKUw","RequestId":"0HNHD290KPKSR:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKSR"}
[2025-11-26 14:05:12.201 -05:00 INF] Token validated with claims: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier:1000000001, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress:jsanchez@example.com, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name:Jeysson Sanchez, http://schemas.microsoft.com/ws/2008/06/identity/claims/role:ADMIN, username:JSANCHEZ, per_codigo:, per_jur_codigo:DEFAULT, user_id:1000000001, app_code:SICOM_CHAT_2024, nbf:1764118060, exp:1764377260, iat:1764118060, iss:ChatModularAPI, aud:ChatModularAPI {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"olL62fwRLhTcVOCljrzKUw","RequestId":"0HNHD290KPKSR:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKSR"}
[2025-11-26 14:05:12.204 -05:00 INF] Extracted user info - UserId: 1000000001, UserName: Jeysson Sanchez {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"olL62fwRLhTcVOCljrzKUw","RequestId":"0HNHD290KPKSR:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKSR"}
[2025-11-26 14:05:12.206 -05:00 INF] User Jeysson Sanchez connected to app SICOM_CHAT_2024 with connection olL62fwRLhTcVOCljrzKUw {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"olL62fwRLhTcVOCljrzKUw","RequestId":"0HNHD290KPKSR:00000001","RequestPath":"/chathub"}
[2025-11-26 14:05:12.571 -05:00 INF] Total de aplicaciones encontradas: 1 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000028","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:05:12.574 -05:00 INF] Aplicación encontrada - ID: 7, Código: SICOM_CHAT_2024, Activa: true {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000028","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:05:12.888 -05:00 INF] Resultado de aplicación: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000028","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:05:12.891 -05:00 INF] Aplicación encontrada con ID: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000028","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:05:12.893 -05:00 INF] Ejecutando query para obtener configuración con aplicacionId: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000028","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:05:13.163 -05:00 INF] Resultado de configuración: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000028","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:05:13.172 -05:00 INF] Configuración encontrada para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:00000028","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:05:13.192 -05:00 INF] Listando contactos para usuario 1000000001 en empresa 1 y aplicación SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:0000002A","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:05:13.195 -05:00 INF] Consultando tabla chatcontacto para usuario 1000000001 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:0000002A","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:05:13.367 -05:00 WRN] No se encontraron contactos para el usuario 1000000001 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSI:0000002A","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKSI"}
[2025-11-26 14:17:21.537 -05:00 INF] User Jeysson Sanchez disconnected from app SICOM_CHAT_2024 with connection olL62fwRLhTcVOCljrzKUw {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"olL62fwRLhTcVOCljrzKUw","RequestId":"0HNHD290KPKSR:00000001","RequestPath":"/chathub"}
[2025-11-26 14:17:21.963 -05:00 INF] Obteniendo configuración para aplicación con código: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSS:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSS"}
[2025-11-26 14:17:21.965 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Domain.ConfiguracionAplicacionUnificadaService","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSS:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSS"}
[2025-11-26 14:17:21.967 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSS:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSS"}
[2025-11-26 14:17:21.969 -05:00 INF] Intentando obtener aplicación con código exacto: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSS:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSS"}
[2025-11-26 14:17:22.032 -05:00 INF] SignalR connection attempt - AppCode: SICOM_CHAT_2024, HasAuthHeader: true {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"yaHlwHTFrYdoJn7iAbeWEA","RequestId":"0HNHD290KPKST:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKST"}
[2025-11-26 14:17:22.034 -05:00 INF] Token validated with claims: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier:1000000001, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress:jsanchez@example.com, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name:Jeysson Sanchez, http://schemas.microsoft.com/ws/2008/06/identity/claims/role:ADMIN, username:JSANCHEZ, per_codigo:, per_jur_codigo:DEFAULT, user_id:1000000001, app_code:SICOM_CHAT_2024, nbf:1764118060, exp:1764377260, iat:1764118060, iss:ChatModularAPI, aud:ChatModularAPI {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"yaHlwHTFrYdoJn7iAbeWEA","RequestId":"0HNHD290KPKST:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKST"}
[2025-11-26 14:17:22.036 -05:00 INF] Extracted user info - UserId: 1000000001, UserName: Jeysson Sanchez {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"yaHlwHTFrYdoJn7iAbeWEA","RequestId":"0HNHD290KPKST:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKST"}
[2025-11-26 14:17:22.038 -05:00 INF] User Jeysson Sanchez connected to app SICOM_CHAT_2024 with connection yaHlwHTFrYdoJn7iAbeWEA {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"yaHlwHTFrYdoJn7iAbeWEA","RequestId":"0HNHD290KPKST:00000001","RequestPath":"/chathub"}
[2025-11-26 14:17:22.707 -05:00 INF] Total de aplicaciones encontradas: 1 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSS:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSS"}
[2025-11-26 14:17:22.710 -05:00 INF] Aplicación encontrada - ID: 7, Código: SICOM_CHAT_2024, Activa: true {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSS:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSS"}
[2025-11-26 14:17:22.938 -05:00 INF] Resultado de aplicación: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSS:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSS"}
[2025-11-26 14:17:22.966 -05:00 INF] Aplicación encontrada con ID: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSS:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSS"}
[2025-11-26 14:17:22.989 -05:00 INF] Ejecutando query para obtener configuración con aplicacionId: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSS:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSS"}
[2025-11-26 14:17:23.256 -05:00 INF] Resultado de configuración: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSS:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSS"}
[2025-11-26 14:17:23.289 -05:00 INF] Configuración encontrada para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSS:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKSS"}
[2025-11-26 14:17:23.340 -05:00 INF] Listando contactos para usuario 1000000001 en empresa 1 y aplicación SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSS:00000006","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKSS"}
[2025-11-26 14:17:23.345 -05:00 INF] Consultando tabla chatcontacto para usuario 1000000001 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSS:00000006","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKSS"}
[2025-11-26 14:17:23.566 -05:00 WRN] No se encontraron contactos para el usuario 1000000001 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKSS:00000006","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKSS"}
[2025-11-26 14:27:03.600 -05:00 INF] User Jeysson Sanchez disconnected from app SICOM_CHAT_2024 with connection yaHlwHTFrYdoJn7iAbeWEA {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"yaHlwHTFrYdoJn7iAbeWEA","RequestId":"0HNHD290KPKST:00000001","RequestPath":"/chathub"}
[2025-11-26 14:27:04.059 -05:00 INF] Obteniendo configuración para aplicación con código: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKT1:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKT1"}
[2025-11-26 14:27:04.062 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Domain.ConfiguracionAplicacionUnificadaService","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKT1:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKT1"}
[2025-11-26 14:27:04.067 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKT1:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKT1"}
[2025-11-26 14:27:04.069 -05:00 INF] Intentando obtener aplicación con código exacto: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKT1:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKT1"}
[2025-11-26 14:27:04.146 -05:00 INF] SignalR connection attempt - AppCode: SICOM_CHAT_2024, HasAuthHeader: true {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"YxD_MgdYrxvxyTUuWyjMXQ","RequestId":"0HNHD290KPKT2:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKT2"}
[2025-11-26 14:27:04.148 -05:00 INF] Token validated with claims: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier:1000000001, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress:jsanchez@example.com, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name:Jeysson Sanchez, http://schemas.microsoft.com/ws/2008/06/identity/claims/role:ADMIN, username:JSANCHEZ, per_codigo:, per_jur_codigo:DEFAULT, user_id:1000000001, app_code:SICOM_CHAT_2024, nbf:1764118060, exp:1764377260, iat:1764118060, iss:ChatModularAPI, aud:ChatModularAPI {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"YxD_MgdYrxvxyTUuWyjMXQ","RequestId":"0HNHD290KPKT2:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKT2"}
[2025-11-26 14:27:04.151 -05:00 INF] Extracted user info - UserId: 1000000001, UserName: Jeysson Sanchez {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"YxD_MgdYrxvxyTUuWyjMXQ","RequestId":"0HNHD290KPKT2:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKT2"}
[2025-11-26 14:27:04.154 -05:00 INF] User Jeysson Sanchez connected to app SICOM_CHAT_2024 with connection YxD_MgdYrxvxyTUuWyjMXQ {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"YxD_MgdYrxvxyTUuWyjMXQ","RequestId":"0HNHD290KPKT2:00000001","RequestPath":"/chathub"}
[2025-11-26 14:27:05.273 -05:00 INF] Total de aplicaciones encontradas: 1 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKT1:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKT1"}
[2025-11-26 14:27:05.275 -05:00 INF] Aplicación encontrada - ID: 7, Código: SICOM_CHAT_2024, Activa: true {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKT1:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKT1"}
[2025-11-26 14:27:05.568 -05:00 INF] Resultado de aplicación: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKT1:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKT1"}
[2025-11-26 14:27:05.571 -05:00 INF] Aplicación encontrada con ID: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKT1:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKT1"}
[2025-11-26 14:27:05.575 -05:00 INF] Ejecutando query para obtener configuración con aplicacionId: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKT1:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKT1"}
[2025-11-26 14:27:05.854 -05:00 INF] Resultado de configuración: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKT1:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKT1"}
[2025-11-26 14:27:05.857 -05:00 INF] Configuración encontrada para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"a5480cf9-e7df-490e-89e1-6da7c1c6d973","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKT1:00000004","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD290KPKT1"}
[2025-11-26 14:27:05.878 -05:00 INF] Listando contactos para usuario 1000000001 en empresa 1 y aplicación SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKT1:00000006","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKT1"}
[2025-11-26 14:27:05.881 -05:00 INF] Consultando tabla chatcontacto para usuario 1000000001 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKT1:00000006","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKT1"}
[2025-11-26 14:27:06.126 -05:00 WRN] No se encontraron contactos para el usuario 1000000001 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"84f6838e-297f-4af7-bd3d-ff37b49a3a08","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD290KPKT1:00000006","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD290KPKT1"}
[2025-11-26 14:30:45.128 -05:00 INF] User Jeysson Sanchez disconnected from app SICOM_CHAT_2024 with connection YxD_MgdYrxvxyTUuWyjMXQ {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"YxD_MgdYrxvxyTUuWyjMXQ","RequestId":"0HNHD290KPKT2:00000001","RequestPath":"/chathub"}
[2025-11-26 14:30:45.144 -05:00 INF] SignalR connection attempt - AppCode: SICOM_CHAT_2024, HasAuthHeader: true {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"dwSuxRlia-S8obP3OghVww","RequestId":"0HNHD290KPKT3:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKT3"}
[2025-11-26 14:30:45.146 -05:00 INF] Token validated with claims: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier:1000000001, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress:jsanchez@example.com, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name:Jeysson Sanchez, http://schemas.microsoft.com/ws/2008/06/identity/claims/role:ADMIN, username:JSANCHEZ, per_codigo:, per_jur_codigo:DEFAULT, user_id:1000000001, app_code:SICOM_CHAT_2024, nbf:1764118060, exp:1764377260, iat:1764118060, iss:ChatModularAPI, aud:ChatModularAPI {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"dwSuxRlia-S8obP3OghVww","RequestId":"0HNHD290KPKT3:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKT3"}
[2025-11-26 14:30:45.149 -05:00 INF] Extracted user info - UserId: 1000000001, UserName: Jeysson Sanchez {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"dwSuxRlia-S8obP3OghVww","RequestId":"0HNHD290KPKT3:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD290KPKT3"}
[2025-11-26 14:30:45.152 -05:00 INF] User Jeysson Sanchez connected to app SICOM_CHAT_2024 with connection dwSuxRlia-S8obP3OghVww {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"dwSuxRlia-S8obP3OghVww","RequestId":"0HNHD290KPKT3:00000001","RequestPath":"/chathub"}
[2025-11-26 14:31:15.142 -05:00 INF] User Jeysson Sanchez disconnected from app SICOM_CHAT_2024 with connection dwSuxRlia-S8obP3OghVww {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"dwSuxRlia-S8obP3OghVww","RequestId":"0HNHD290KPKT3:00000001","RequestPath":"/chathub"}
[2025-11-26 15:00:20.925 -05:00 INF] Iniciando aplicación ChatModular API {}
[2025-11-26 15:00:21.037 -05:00 INF] Servidor escuchando en: http://localhost:5405;http://localhost:5406 {}
[2025-11-26 15:03:28.296 -05:00 INF] SignalR connection attempt - AppCode: SICOM_CHAT_2024, HasAuthHeader: true {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"lLtE8NUtBlts7mnAjuO1mQ","RequestId":"0HNHD4RDL85I9:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD4RDL85I9"}
[2025-11-26 15:03:28.301 -05:00 INF] Obteniendo configuración para aplicación con código: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController","ActionId":"78a815b9-2819-41d2-bdcb-11be8e8c84af","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD4RDL85I7:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD4RDL85I7"}
[2025-11-26 15:03:28.526 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Domain.ConfiguracionAplicacionUnificadaService","ActionId":"78a815b9-2819-41d2-bdcb-11be8e8c84af","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD4RDL85I7:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD4RDL85I7"}
[2025-11-26 15:03:28.532 -05:00 INF] Obteniendo configuración para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"78a815b9-2819-41d2-bdcb-11be8e8c84af","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD4RDL85I7:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD4RDL85I7"}
[2025-11-26 15:03:28.535 -05:00 INF] Intentando obtener aplicación con código exacto: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"78a815b9-2819-41d2-bdcb-11be8e8c84af","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD4RDL85I7:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD4RDL85I7"}
[2025-11-26 15:03:28.541 -05:00 INF] Token validated with claims: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier:1000000001, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress:jsanchez@example.com, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name:Jeysson Sanchez, http://schemas.microsoft.com/ws/2008/06/identity/claims/role:ADMIN, username:JSANCHEZ, per_codigo:, per_jur_codigo:DEFAULT, user_id:1000000001, app_code:SICOM_CHAT_2024, nbf:1764118060, exp:1764377260, iat:1764118060, iss:ChatModularAPI, aud:ChatModularAPI {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"lLtE8NUtBlts7mnAjuO1mQ","RequestId":"0HNHD4RDL85I9:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD4RDL85I9"}
[2025-11-26 15:03:28.543 -05:00 INF] Extracted user info - UserId: 1000000001, UserName: Jeysson Sanchez {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"lLtE8NUtBlts7mnAjuO1mQ","RequestId":"0HNHD4RDL85I9:00000001","RequestPath":"/chathub","ConnectionId":"0HNHD4RDL85I9"}
[2025-11-26 15:03:28.546 -05:00 INF] User Jeysson Sanchez connected to app SICOM_CHAT_2024 with connection lLtE8NUtBlts7mnAjuO1mQ {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"lLtE8NUtBlts7mnAjuO1mQ","RequestId":"0HNHD4RDL85I9:00000001","RequestPath":"/chathub"}
[2025-11-26 15:03:31.132 -05:00 INF] Total de aplicaciones encontradas: 1 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"78a815b9-2819-41d2-bdcb-11be8e8c84af","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD4RDL85I7:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD4RDL85I7"}
[2025-11-26 15:03:31.135 -05:00 INF] Aplicación encontrada - ID: 7, Código: SICOM_CHAT_2024, Activa: true {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"78a815b9-2819-41d2-bdcb-11be8e8c84af","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD4RDL85I7:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD4RDL85I7"}
[2025-11-26 15:03:31.429 -05:00 INF] Resultado de aplicación: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"78a815b9-2819-41d2-bdcb-11be8e8c84af","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD4RDL85I7:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD4RDL85I7"}
[2025-11-26 15:03:31.435 -05:00 INF] Aplicación encontrada con ID: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"78a815b9-2819-41d2-bdcb-11be8e8c84af","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD4RDL85I7:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD4RDL85I7"}
[2025-11-26 15:03:31.491 -05:00 INF] Ejecutando query para obtener configuración con aplicacionId: 7 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"78a815b9-2819-41d2-bdcb-11be8e8c84af","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD4RDL85I7:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD4RDL85I7"}
[2025-11-26 15:03:31.909 -05:00 INF] Resultado de configuración: Encontrado 1 registros {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"78a815b9-2819-41d2-bdcb-11be8e8c84af","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD4RDL85I7:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD4RDL85I7"}
[2025-11-26 15:03:31.923 -05:00 INF] Configuración encontrada para aplicación: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.ConfiguracionAplicacionRepository","ActionId":"78a815b9-2819-41d2-bdcb-11be8e8c84af","ActionName":"ChatModularMicroservice.Api.Controllers.ConfiguracionAplicacionUnificadaController.ObtenerConfiguracionPorCodigo (ChatModularMicroservice.Api)","RequestId":"0HNHD4RDL85I7:00000002","RequestPath":"/api/v1/configuracion-aplicacion/por-codigo/SICOM_CHAT_2024","ConnectionId":"0HNHD4RDL85I7"}
[2025-11-26 15:03:32.070 -05:00 INF] Listando contactos para usuario 1000000001 en empresa 1 y aplicación SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"d0d330cf-afc5-4956-85c6-dd2ae04d3fee","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD4RDL85I7:00000004","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD4RDL85I7"}
[2025-11-26 15:03:32.074 -05:00 INF] Consultando tabla chatcontacto para usuario 1000000001 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"d0d330cf-afc5-4956-85c6-dd2ae04d3fee","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD4RDL85I7:00000004","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD4RDL85I7"}
[2025-11-26 15:03:32.305 -05:00 WRN] No se encontraron contactos para el usuario 1000000001 {"SourceContext":"ChatModularMicroservice.Infrastructure.ContactoSupabaseRepository","ActionId":"d0d330cf-afc5-4956-85c6-dd2ae04d3fee","ActionName":"ChatModularMicroservice.Api.Controllers.ContactoController.ListarMisContactos (ChatModularMicroservice.Api)","RequestId":"0HNHD4RDL85I7:00000004","RequestPath":"/api/v1/contactos/mis-contactos","ConnectionId":"0HNHD4RDL85I7"}
[2025-11-26 15:20:33.637 -05:00 INF] User Jeysson Sanchez disconnected from app SICOM_CHAT_2024 with connection lLtE8NUtBlts7mnAjuO1mQ {"SourceContext":"ChatModularMicroservice.Api.Hubs.ChatHub","TransportConnectionId":"lLtE8NUtBlts7mnAjuO1mQ","RequestId":"0HNHD4RDL85I9:00000001","RequestPath":"/chathub"}
