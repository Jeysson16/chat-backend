[2025-11-19 17:54:56.579 -05:00 INF] Iniciando aplicación ChatModular API {}
[2025-11-19 17:54:56.619 -05:00 INF] Servidor escuchando en: http://localhost:5406 {}
[2025-11-19 17:54:56.677 -05:00 ERR] Hosting failed to start {"EventId":{"Id":11,"Name":"HostedServiceStartupFaulted"},"SourceContext":"Microsoft.Extensions.Hosting.Internal.Host"}
System.IO.IOException: Failed to bind to address http://127.0.0.1:5406: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Solo se permite un uso de cada dirección de socket (protocolo/dirección de red/puerto)
 ---> System.Net.Sockets.SocketException (10048): Solo se permite un uso de cada dirección de socket (protocolo/dirección de red/puerto)
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
[2025-11-19 17:54:56.696 -05:00 FTL] La aplicación falló al iniciar {}
System.IO.IOException: Failed to bind to address http://127.0.0.1:5406: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Solo se permite un uso de cada dirección de socket (protocolo/dirección de red/puerto)
 ---> System.Net.Sockets.SocketException (10048): Solo se permite un uso de cada dirección de socket (protocolo/dirección de red/puerto)
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.Run(IHost host)
   at Program.<Main>$(String[] args) in D:\Chat\ChatBackend\ChatModularAPI\03.Layer Api\ChatModularMicroservice.Api\Program.cs:line 177
[2025-11-19 17:59:58.707 -05:00 INF] Iniciando aplicación ChatModular API {}
[2025-11-19 17:59:58.750 -05:00 INF] Servidor escuchando en: http://localhost:5410 {}
[2025-11-19 18:00:06.630 -05:00 WRN] Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH7NTGSCHVH:00000001","RequestPath":"/","ConnectionId":"0HNH7NTGSCHVH"}
[2025-11-19 18:00:06.652 -05:00 INF] Verificando ruta: / {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7NTGSCHVH:00000001","RequestPath":"/","ConnectionId":"0HNH7NTGSCHVH"}
[2025-11-19 18:00:06.656 -05:00 INF] Rutas públicas configuradas: /, /api/v1/auth/login, /api/v1/auth/register, /api/v1/auth/status, /api/v1/auth/generar-tokens-aplicacion, /api/v1/auth/validar-access-token, /api/v1/auth/renovar-tokens, /api/v1/auth/revocar-tokens, /api/v1/auth/tokens-aplicacion, /api/v1/aplicaciones, /swagger, /swagger/index.html, /swagger/v1/swagger.json, /api/docs, /chathub {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7NTGSCHVH:00000001","RequestPath":"/","ConnectionId":"0HNH7NTGSCHVH"}
[2025-11-19 18:00:06.659 -05:00 INF] ¿Es ruta pública? false {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7NTGSCHVH:00000001","RequestPath":"/","ConnectionId":"0HNH7NTGSCHVH"}
[2025-11-19 18:00:06.663 -05:00 INF] Ruta privada detectada: / {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7NTGSCHVH:00000001","RequestPath":"/","ConnectionId":"0HNH7NTGSCHVH"}
[2025-11-19 18:00:06.902 -05:00 INF] Verificando ruta: /@vite/client {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7NTGSCHVH:00000002","RequestPath":"/@vite/client","ConnectionId":"0HNH7NTGSCHVH"}
[2025-11-19 18:00:06.908 -05:00 INF] Rutas públicas configuradas: /, /api/v1/auth/login, /api/v1/auth/register, /api/v1/auth/status, /api/v1/auth/generar-tokens-aplicacion, /api/v1/auth/validar-access-token, /api/v1/auth/renovar-tokens, /api/v1/auth/revocar-tokens, /api/v1/auth/tokens-aplicacion, /api/v1/aplicaciones, /swagger, /swagger/index.html, /swagger/v1/swagger.json, /api/docs, /chathub {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7NTGSCHVH:00000002","RequestPath":"/@vite/client","ConnectionId":"0HNH7NTGSCHVH"}
[2025-11-19 18:00:06.911 -05:00 INF] ¿Es ruta pública? false {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7NTGSCHVH:00000002","RequestPath":"/@vite/client","ConnectionId":"0HNH7NTGSCHVH"}
[2025-11-19 18:00:06.913 -05:00 INF] Ruta privada detectada: /@vite/client {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7NTGSCHVH:00000002","RequestPath":"/@vite/client","ConnectionId":"0HNH7NTGSCHVH"}
[2025-11-19 18:00:17.316 -05:00 INF] HTTP Request - Method: POST, Path: /api/v1/auth/login, Body: {"cUsuarioCodigo":"JSANCHEZ","cUsuarioContra":"jeysson12345","bRecordar":true,"cTokenAcceso":"AT_6cbeb6faba662bffb1e9b0cdc3a96670","cTokenSecreto":"ST_0b2c702f3fd200f0fc9ddb02624a21bc9d8be4fa96672504","cPerJurCodigo":"DEFAULT"} {"SourceContext":"ChatModularMicroservice.Api.Middleware.RequestBodyMiddleware","RequestId":"0HNH7NTGSCHVI:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7NTGSCHVI"}
[2025-11-19 18:00:17.327 -05:00 INF] Verificando ruta: /api/v1/auth/login {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7NTGSCHVI:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7NTGSCHVI"}
[2025-11-19 18:00:17.329 -05:00 INF] Rutas públicas configuradas: /, /api/v1/auth/login, /api/v1/auth/register, /api/v1/auth/status, /api/v1/auth/generar-tokens-aplicacion, /api/v1/auth/validar-access-token, /api/v1/auth/renovar-tokens, /api/v1/auth/revocar-tokens, /api/v1/auth/tokens-aplicacion, /api/v1/aplicaciones, /swagger, /swagger/index.html, /swagger/v1/swagger.json, /api/docs, /chathub {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7NTGSCHVI:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7NTGSCHVI"}
[2025-11-19 18:00:17.332 -05:00 INF] ¿Es ruta pública? true {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7NTGSCHVI:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7NTGSCHVI"}
[2025-11-19 18:00:17.336 -05:00 INF] Ruta pública detectada: /api/v1/auth/login {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7NTGSCHVI:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7NTGSCHVI"}
[2025-11-19 18:00:18.186 -05:00 ERR] Error getting app by access token {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.AppRegistroRepository","ActionId":"09103679-b746-4b9c-8279-bdd4e52ed5e5","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7NTGSCHVI:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7NTGSCHVI"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.training_distributions'","message":"Could not find the table 'public.AppRegistros' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.Repositories.AppRegistroRepository.GetByAccessTokenAsync(String accessToken) in D:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\AppRegistroRepository.cs:line 41
[2025-11-19 18:00:18.430 -05:00 ERR] Error getting app by code: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.AppRegistroRepository","ActionId":"09103679-b746-4b9c-8279-bdd4e52ed5e5","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7NTGSCHVI:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7NTGSCHVI"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.training_distributions'","message":"Could not find the table 'public.AppRegistros' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.Repositories.AppRegistroRepository.GetByCodeAsync(String appCode) in D:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\AppRegistroRepository.cs:line 23
[2025-11-19 18:00:18.441 -05:00 INF] Buscando usuario por código: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Domain.AuthService","ActionId":"09103679-b746-4b9c-8279-bdd4e52ed5e5","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7NTGSCHVI:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7NTGSCHVI"}
[2025-11-19 18:00:18.446 -05:00 INF] GetByUserCodeAsync: Buscando usuario por código: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"09103679-b746-4b9c-8279-bdd4e52ed5e5","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7NTGSCHVI:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7NTGSCHVI"}
[2025-11-19 18:00:18.689 -05:00 WRN] Fallo consulta Supabase por cPerCodigo=JSANCHEZ. {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"09103679-b746-4b9c-8279-bdd4e52ed5e5","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7NTGSCHVI:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7NTGSCHVI"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.user_sports'","message":"Could not find the table 'public.Usuarios' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.UsuarioRepository.GetByPerCodigoAsync(String perCodigo) in D:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\UsuarioRepository.cs:line 474
[2025-11-19 18:00:18.701 -05:00 INF] GetByEmailAsync: Buscando usuario por email: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"09103679-b746-4b9c-8279-bdd4e52ed5e5","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7NTGSCHVI:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7NTGSCHVI"}
[2025-11-19 18:00:18.905 -05:00 ERR] Error al obtener usuario por email desde Supabase: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"09103679-b746-4b9c-8279-bdd4e52ed5e5","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7NTGSCHVI:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7NTGSCHVI"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.user_sports'","message":"Could not find the table 'public.Usuarios' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.UsuarioRepository.GetByEmailAsync(String email) in D:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\UsuarioRepository.cs:line 95
[2025-11-19 18:00:18.914 -05:00 INF] GetByUsernameAsync: Buscando usuario por username: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"09103679-b746-4b9c-8279-bdd4e52ed5e5","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7NTGSCHVI:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7NTGSCHVI"}
[2025-11-19 18:00:19.113 -05:00 ERR] Error al obtener usuario por username desde Supabase: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"09103679-b746-4b9c-8279-bdd4e52ed5e5","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7NTGSCHVI:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7NTGSCHVI"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.user_sports'","message":"Could not find the table 'public.Usuarios' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.UsuarioRepository.GetByUsernameAsync(String username) in D:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\UsuarioRepository.cs:line 157
[2025-11-19 18:00:19.364 -05:00 INF] Resultado búsqueda usuario: encontrado=false {"SourceContext":"ChatModularMicroservice.Domain.AuthService","ActionId":"09103679-b746-4b9c-8279-bdd4e52ed5e5","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7NTGSCHVI:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7NTGSCHVI"}
[2025-11-19 18:00:19.374 -05:00 WRN] Login fallido: usuario no encontrado o inactivo. cUsuarioCodigo=JSANCHEZ {"SourceContext":"ChatModularMicroservice.Domain.AuthService","ActionId":"09103679-b746-4b9c-8279-bdd4e52ed5e5","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7NTGSCHVI:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7NTGSCHVI"}
[2025-11-19 18:00:48.722 -05:00 INF] Iniciando aplicación ChatModular API {}
[2025-11-19 18:00:48.759 -05:00 INF] Servidor escuchando en: http://localhost:5410 {}
[2025-11-19 18:00:57.262 -05:00 WRN] Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH7NTVV0QJJ:00000001","RequestPath":"/","ConnectionId":"0HNH7NTVV0QJJ"}
[2025-11-19 18:04:52.875 -05:00 INF] Iniciando aplicación ChatModular API {}
[2025-11-19 18:04:52.911 -05:00 INF] Servidor escuchando en: http://localhost:5405;http://localhost:5406 {}
[2025-11-19 18:07:12.762 -05:00 WRN] Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH7O1FS7GG4:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:07:12.784 -05:00 INF] HTTP Request - Method: POST, Path: /api/v1/auth/login, Body: {"cUsuarioCodigo":"JSANCHEZ","cUsuarioContra":"jeysson12345","bRecordarme":true,"cTokenAcceso":"AT_6cbeb6faba662bffb1e9b0cdc3a96670","cTokenSecreto":"ST_0b2c702f3fd200f0fc9ddb02624a21bc9d8be4fa96672504","cPerJurCodigo":"DEFAULT"} {"SourceContext":"ChatModularMicroservice.Api.Middleware.RequestBodyMiddleware","RequestId":"0HNH7O1FS7GG4:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:07:12.797 -05:00 INF] Verificando ruta: /api/v1/auth/login {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7O1FS7GG4:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:07:12.803 -05:00 INF] Rutas públicas configuradas: /, /api/v1/auth/login, /api/v1/auth/register, /api/v1/auth/status, /api/v1/auth/generar-tokens-aplicacion, /api/v1/auth/validar-access-token, /api/v1/auth/renovar-tokens, /api/v1/auth/revocar-tokens, /api/v1/auth/tokens-aplicacion, /api/v1/aplicaciones, /swagger, /swagger/index.html, /swagger/v1/swagger.json, /api/docs, /chathub {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7O1FS7GG4:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:07:12.808 -05:00 INF] ¿Es ruta pública? true {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7O1FS7GG4:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:07:12.811 -05:00 INF] Ruta pública detectada: /api/v1/auth/login {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7O1FS7GG4:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:07:14.227 -05:00 ERR] Error getting app by access token {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.AppRegistroRepository","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG4:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.training_distributions'","message":"Could not find the table 'public.AppRegistros' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.Repositories.AppRegistroRepository.GetByAccessTokenAsync(String accessToken) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\AppRegistroRepository.cs:line 41
[2025-11-19 18:07:14.561 -05:00 ERR] Error getting app by code: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.AppRegistroRepository","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG4:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.training_distributions'","message":"Could not find the table 'public.AppRegistros' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.Repositories.AppRegistroRepository.GetByCodeAsync(String appCode) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\AppRegistroRepository.cs:line 23
[2025-11-19 18:07:14.566 -05:00 INF] Buscando usuario por código: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Domain.AuthService","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG4:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:07:14.570 -05:00 INF] GetByUserCodeAsync: Buscando usuario por código: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG4:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:07:14.839 -05:00 WRN] Fallo consulta Supabase por cPerCodigo=JSANCHEZ. {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG4:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.user_sports'","message":"Could not find the table 'public.Usuarios' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.UsuarioRepository.GetByPerCodigoAsync(String perCodigo) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\UsuarioRepository.cs:line 474
[2025-11-19 18:07:14.848 -05:00 INF] GetByEmailAsync: Buscando usuario por email: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG4:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:07:15.091 -05:00 ERR] Error al obtener usuario por email desde Supabase: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG4:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.user_sports'","message":"Could not find the table 'public.Usuarios' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.UsuarioRepository.GetByEmailAsync(String email) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\UsuarioRepository.cs:line 95
[2025-11-19 18:07:15.098 -05:00 INF] GetByUsernameAsync: Buscando usuario por username: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG4:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:07:15.392 -05:00 ERR] Error al obtener usuario por username desde Supabase: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG4:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.user_sports'","message":"Could not find the table 'public.Usuarios' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.UsuarioRepository.GetByUsernameAsync(String username) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\UsuarioRepository.cs:line 157
[2025-11-19 18:07:15.598 -05:00 INF] Resultado búsqueda usuario: encontrado=false {"SourceContext":"ChatModularMicroservice.Domain.AuthService","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG4:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:07:15.602 -05:00 WRN] Login fallido: usuario no encontrado o inactivo. cUsuarioCodigo=JSANCHEZ {"SourceContext":"ChatModularMicroservice.Domain.AuthService","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG4:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:07:22.990 -05:00 INF] HTTP Request - Method: POST, Path: /api/v1/auth/login, Body: {"cUsuarioCodigo":"JSANCHEZR","cUsuarioContra":"jeysson12345","bRecordarme":true,"cTokenAcceso":"AT_6cbeb6faba662bffb1e9b0cdc3a96670","cTokenSecreto":"ST_0b2c702f3fd200f0fc9ddb02624a21bc9d8be4fa96672504","cPerJurCodigo":"DEFAULT"} {"SourceContext":"ChatModularMicroservice.Api.Middleware.RequestBodyMiddleware","RequestId":"0HNH7O1FS7GG4:00000004","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:07:22.996 -05:00 INF] Verificando ruta: /api/v1/auth/login {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7O1FS7GG4:00000004","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:07:22.999 -05:00 INF] Rutas públicas configuradas: /, /api/v1/auth/login, /api/v1/auth/register, /api/v1/auth/status, /api/v1/auth/generar-tokens-aplicacion, /api/v1/auth/validar-access-token, /api/v1/auth/renovar-tokens, /api/v1/auth/revocar-tokens, /api/v1/auth/tokens-aplicacion, /api/v1/aplicaciones, /swagger, /swagger/index.html, /swagger/v1/swagger.json, /api/docs, /chathub {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7O1FS7GG4:00000004","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:07:23.002 -05:00 INF] ¿Es ruta pública? true {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7O1FS7GG4:00000004","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:07:23.004 -05:00 INF] Ruta pública detectada: /api/v1/auth/login {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7O1FS7GG4:00000004","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:07:23.320 -05:00 ERR] Error getting app by access token {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.AppRegistroRepository","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG4:00000004","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.training_distributions'","message":"Could not find the table 'public.AppRegistros' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.Repositories.AppRegistroRepository.GetByAccessTokenAsync(String accessToken) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\AppRegistroRepository.cs:line 41
[2025-11-19 18:07:23.602 -05:00 ERR] Error getting app by code: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.AppRegistroRepository","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG4:00000004","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.training_distributions'","message":"Could not find the table 'public.AppRegistros' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.Repositories.AppRegistroRepository.GetByCodeAsync(String appCode) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\AppRegistroRepository.cs:line 23
[2025-11-19 18:07:23.615 -05:00 INF] Buscando usuario por código: JSANCHEZR {"SourceContext":"ChatModularMicroservice.Domain.AuthService","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG4:00000004","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:07:23.618 -05:00 INF] GetByUserCodeAsync: Buscando usuario por código: JSANCHEZR {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG4:00000004","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:07:23.851 -05:00 WRN] Fallo consulta Supabase por cPerCodigo=JSANCHEZR. {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG4:00000004","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.user_sports'","message":"Could not find the table 'public.Usuarios' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.UsuarioRepository.GetByPerCodigoAsync(String perCodigo) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\UsuarioRepository.cs:line 474
[2025-11-19 18:07:23.859 -05:00 INF] GetByEmailAsync: Buscando usuario por email: JSANCHEZR {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG4:00000004","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:07:24.090 -05:00 ERR] Error al obtener usuario por email desde Supabase: JSANCHEZR {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG4:00000004","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.user_sports'","message":"Could not find the table 'public.Usuarios' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.UsuarioRepository.GetByEmailAsync(String email) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\UsuarioRepository.cs:line 95
[2025-11-19 18:07:24.098 -05:00 INF] GetByUsernameAsync: Buscando usuario por username: JSANCHEZR {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG4:00000004","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:07:24.374 -05:00 ERR] Error al obtener usuario por username desde Supabase: JSANCHEZR {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG4:00000004","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.user_sports'","message":"Could not find the table 'public.Usuarios' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.UsuarioRepository.GetByUsernameAsync(String username) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\UsuarioRepository.cs:line 157
[2025-11-19 18:07:24.383 -05:00 INF] Resultado búsqueda usuario: encontrado=false {"SourceContext":"ChatModularMicroservice.Domain.AuthService","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG4:00000004","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:07:24.386 -05:00 WRN] Login fallido: usuario no encontrado o inactivo. cUsuarioCodigo=JSANCHEZR {"SourceContext":"ChatModularMicroservice.Domain.AuthService","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG4:00000004","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:07:28.045 -05:00 INF] HTTP Request - Method: POST, Path: /api/v1/auth/login, Body: {"cUsuarioCodigo":"JESANCHEZR","cUsuarioContra":"jeysson12345","bRecordarme":true,"cTokenAcceso":"AT_6cbeb6faba662bffb1e9b0cdc3a96670","cTokenSecreto":"ST_0b2c702f3fd200f0fc9ddb02624a21bc9d8be4fa96672504","cPerJurCodigo":"DEFAULT"} {"SourceContext":"ChatModularMicroservice.Api.Middleware.RequestBodyMiddleware","RequestId":"0HNH7O1FS7GG4:00000006","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:07:28.048 -05:00 INF] Verificando ruta: /api/v1/auth/login {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7O1FS7GG4:00000006","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:07:28.050 -05:00 INF] Rutas públicas configuradas: /, /api/v1/auth/login, /api/v1/auth/register, /api/v1/auth/status, /api/v1/auth/generar-tokens-aplicacion, /api/v1/auth/validar-access-token, /api/v1/auth/renovar-tokens, /api/v1/auth/revocar-tokens, /api/v1/auth/tokens-aplicacion, /api/v1/aplicaciones, /swagger, /swagger/index.html, /swagger/v1/swagger.json, /api/docs, /chathub {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7O1FS7GG4:00000006","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:07:28.052 -05:00 INF] ¿Es ruta pública? true {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7O1FS7GG4:00000006","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:07:28.055 -05:00 INF] Ruta pública detectada: /api/v1/auth/login {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7O1FS7GG4:00000006","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:07:28.254 -05:00 ERR] Error getting app by access token {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.AppRegistroRepository","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG4:00000006","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.training_distributions'","message":"Could not find the table 'public.AppRegistros' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.Repositories.AppRegistroRepository.GetByAccessTokenAsync(String accessToken) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\AppRegistroRepository.cs:line 41
[2025-11-19 18:07:28.456 -05:00 ERR] Error getting app by code: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.AppRegistroRepository","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG4:00000006","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.training_distributions'","message":"Could not find the table 'public.AppRegistros' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.Repositories.AppRegistroRepository.GetByCodeAsync(String appCode) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\AppRegistroRepository.cs:line 23
[2025-11-19 18:07:28.461 -05:00 INF] Buscando usuario por código: JESANCHEZR {"SourceContext":"ChatModularMicroservice.Domain.AuthService","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG4:00000006","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:07:28.464 -05:00 INF] GetByUserCodeAsync: Buscando usuario por código: JESANCHEZR {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG4:00000006","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:07:28.667 -05:00 WRN] Fallo consulta Supabase por cPerCodigo=JESANCHEZR. {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG4:00000006","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.user_sports'","message":"Could not find the table 'public.Usuarios' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.UsuarioRepository.GetByPerCodigoAsync(String perCodigo) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\UsuarioRepository.cs:line 474
[2025-11-19 18:07:28.679 -05:00 INF] GetByEmailAsync: Buscando usuario por email: JESANCHEZR {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG4:00000006","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:07:28.896 -05:00 ERR] Error al obtener usuario por email desde Supabase: JESANCHEZR {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG4:00000006","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.user_sports'","message":"Could not find the table 'public.Usuarios' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.UsuarioRepository.GetByEmailAsync(String email) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\UsuarioRepository.cs:line 95
[2025-11-19 18:07:28.911 -05:00 INF] GetByUsernameAsync: Buscando usuario por username: JESANCHEZR {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG4:00000006","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:07:29.117 -05:00 ERR] Error al obtener usuario por username desde Supabase: JESANCHEZR {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG4:00000006","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.user_sports'","message":"Could not find the table 'public.Usuarios' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.UsuarioRepository.GetByUsernameAsync(String username) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\UsuarioRepository.cs:line 157
[2025-11-19 18:07:29.142 -05:00 INF] Resultado búsqueda usuario: encontrado=false {"SourceContext":"ChatModularMicroservice.Domain.AuthService","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG4:00000006","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:07:29.145 -05:00 WRN] Login fallido: usuario no encontrado o inactivo. cUsuarioCodigo=JESANCHEZR {"SourceContext":"ChatModularMicroservice.Domain.AuthService","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG4:00000006","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:07:30.636 -05:00 INF] HTTP Request - Method: POST, Path: /api/v1/auth/login, Body: {"cUsuarioCodigo":"JESANCHEZ","cUsuarioContra":"jeysson12345","bRecordarme":true,"cTokenAcceso":"AT_6cbeb6faba662bffb1e9b0cdc3a96670","cTokenSecreto":"ST_0b2c702f3fd200f0fc9ddb02624a21bc9d8be4fa96672504","cPerJurCodigo":"DEFAULT"} {"SourceContext":"ChatModularMicroservice.Api.Middleware.RequestBodyMiddleware","RequestId":"0HNH7O1FS7GG4:00000007","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:07:30.642 -05:00 INF] Verificando ruta: /api/v1/auth/login {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7O1FS7GG4:00000007","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:07:30.643 -05:00 INF] Rutas públicas configuradas: /, /api/v1/auth/login, /api/v1/auth/register, /api/v1/auth/status, /api/v1/auth/generar-tokens-aplicacion, /api/v1/auth/validar-access-token, /api/v1/auth/renovar-tokens, /api/v1/auth/revocar-tokens, /api/v1/auth/tokens-aplicacion, /api/v1/aplicaciones, /swagger, /swagger/index.html, /swagger/v1/swagger.json, /api/docs, /chathub {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7O1FS7GG4:00000007","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:07:30.648 -05:00 INF] ¿Es ruta pública? true {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7O1FS7GG4:00000007","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:07:30.650 -05:00 INF] Ruta pública detectada: /api/v1/auth/login {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7O1FS7GG4:00000007","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:07:30.841 -05:00 ERR] Error getting app by access token {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.AppRegistroRepository","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG4:00000007","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.training_distributions'","message":"Could not find the table 'public.AppRegistros' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.Repositories.AppRegistroRepository.GetByAccessTokenAsync(String accessToken) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\AppRegistroRepository.cs:line 41
[2025-11-19 18:07:31.039 -05:00 ERR] Error getting app by code: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.AppRegistroRepository","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG4:00000007","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.training_distributions'","message":"Could not find the table 'public.AppRegistros' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.Repositories.AppRegistroRepository.GetByCodeAsync(String appCode) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\AppRegistroRepository.cs:line 23
[2025-11-19 18:07:31.048 -05:00 INF] Buscando usuario por código: JESANCHEZ {"SourceContext":"ChatModularMicroservice.Domain.AuthService","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG4:00000007","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:07:31.050 -05:00 INF] GetByUserCodeAsync: Buscando usuario por código: JESANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG4:00000007","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:07:31.266 -05:00 WRN] Fallo consulta Supabase por cPerCodigo=JESANCHEZ. {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG4:00000007","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.user_sports'","message":"Could not find the table 'public.Usuarios' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.UsuarioRepository.GetByPerCodigoAsync(String perCodigo) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\UsuarioRepository.cs:line 474
[2025-11-19 18:07:31.273 -05:00 INF] GetByEmailAsync: Buscando usuario por email: JESANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG4:00000007","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:07:31.473 -05:00 ERR] Error al obtener usuario por email desde Supabase: JESANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG4:00000007","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.user_sports'","message":"Could not find the table 'public.Usuarios' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.UsuarioRepository.GetByEmailAsync(String email) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\UsuarioRepository.cs:line 95
[2025-11-19 18:07:31.499 -05:00 INF] GetByUsernameAsync: Buscando usuario por username: JESANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG4:00000007","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:07:31.694 -05:00 ERR] Error al obtener usuario por username desde Supabase: JESANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG4:00000007","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.user_sports'","message":"Could not find the table 'public.Usuarios' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.UsuarioRepository.GetByUsernameAsync(String username) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\UsuarioRepository.cs:line 157
[2025-11-19 18:07:31.710 -05:00 INF] Resultado búsqueda usuario: encontrado=false {"SourceContext":"ChatModularMicroservice.Domain.AuthService","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG4:00000007","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:07:31.713 -05:00 WRN] Login fallido: usuario no encontrado o inactivo. cUsuarioCodigo=JESANCHEZ {"SourceContext":"ChatModularMicroservice.Domain.AuthService","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG4:00000007","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:07:32.873 -05:00 INF] HTTP Request - Method: POST, Path: /api/v1/auth/login, Body: {"cUsuarioCodigo":"JSANCHEZ","cUsuarioContra":"jeysson12345","bRecordarme":true,"cTokenAcceso":"AT_6cbeb6faba662bffb1e9b0cdc3a96670","cTokenSecreto":"ST_0b2c702f3fd200f0fc9ddb02624a21bc9d8be4fa96672504","cPerJurCodigo":"DEFAULT"} {"SourceContext":"ChatModularMicroservice.Api.Middleware.RequestBodyMiddleware","RequestId":"0HNH7O1FS7GG4:00000008","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:07:32.879 -05:00 INF] Verificando ruta: /api/v1/auth/login {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7O1FS7GG4:00000008","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:07:32.882 -05:00 INF] Rutas públicas configuradas: /, /api/v1/auth/login, /api/v1/auth/register, /api/v1/auth/status, /api/v1/auth/generar-tokens-aplicacion, /api/v1/auth/validar-access-token, /api/v1/auth/renovar-tokens, /api/v1/auth/revocar-tokens, /api/v1/auth/tokens-aplicacion, /api/v1/aplicaciones, /swagger, /swagger/index.html, /swagger/v1/swagger.json, /api/docs, /chathub {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7O1FS7GG4:00000008","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:07:32.885 -05:00 INF] ¿Es ruta pública? true {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7O1FS7GG4:00000008","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:07:32.888 -05:00 INF] Ruta pública detectada: /api/v1/auth/login {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7O1FS7GG4:00000008","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:07:33.076 -05:00 ERR] Error getting app by access token {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.AppRegistroRepository","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG4:00000008","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.training_distributions'","message":"Could not find the table 'public.AppRegistros' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.Repositories.AppRegistroRepository.GetByAccessTokenAsync(String accessToken) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\AppRegistroRepository.cs:line 41
[2025-11-19 18:07:33.291 -05:00 ERR] Error getting app by code: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.AppRegistroRepository","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG4:00000008","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.training_distributions'","message":"Could not find the table 'public.AppRegistros' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.Repositories.AppRegistroRepository.GetByCodeAsync(String appCode) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\AppRegistroRepository.cs:line 23
[2025-11-19 18:07:33.306 -05:00 INF] Buscando usuario por código: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Domain.AuthService","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG4:00000008","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:07:33.310 -05:00 INF] GetByUserCodeAsync: Buscando usuario por código: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG4:00000008","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:07:33.501 -05:00 WRN] Fallo consulta Supabase por cPerCodigo=JSANCHEZ. {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG4:00000008","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.user_sports'","message":"Could not find the table 'public.Usuarios' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.UsuarioRepository.GetByPerCodigoAsync(String perCodigo) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\UsuarioRepository.cs:line 474
[2025-11-19 18:07:33.511 -05:00 INF] GetByEmailAsync: Buscando usuario por email: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG4:00000008","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:07:33.699 -05:00 ERR] Error al obtener usuario por email desde Supabase: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG4:00000008","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.user_sports'","message":"Could not find the table 'public.Usuarios' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.UsuarioRepository.GetByEmailAsync(String email) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\UsuarioRepository.cs:line 95
[2025-11-19 18:07:33.713 -05:00 INF] GetByUsernameAsync: Buscando usuario por username: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG4:00000008","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:07:33.910 -05:00 ERR] Error al obtener usuario por username desde Supabase: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG4:00000008","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.user_sports'","message":"Could not find the table 'public.Usuarios' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.UsuarioRepository.GetByUsernameAsync(String username) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\UsuarioRepository.cs:line 157
[2025-11-19 18:07:33.920 -05:00 INF] Resultado búsqueda usuario: encontrado=false {"SourceContext":"ChatModularMicroservice.Domain.AuthService","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG4:00000008","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:07:33.924 -05:00 WRN] Login fallido: usuario no encontrado o inactivo. cUsuarioCodigo=JSANCHEZ {"SourceContext":"ChatModularMicroservice.Domain.AuthService","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG4:00000008","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG4"}
[2025-11-19 18:23:43.851 -05:00 INF] HTTP Request - Method: POST, Path: /api/v1/auth/login, Body: {"cUsuarioCodigo":"JSANCHEZ","cUsuarioContra":"jeysson12345","bRecordarme":true,"cTokenAcceso":"AT_6cbeb6faba662bffb1e9b0cdc3a96670","cTokenSecreto":"ST_0b2c702f3fd200f0fc9ddb02624a21bc9d8be4fa96672504","cPerJurCodigo":"DEFAULT"} {"SourceContext":"ChatModularMicroservice.Api.Middleware.RequestBodyMiddleware","RequestId":"0HNH7O1FS7GG5:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG5"}
[2025-11-19 18:23:43.855 -05:00 INF] Verificando ruta: /api/v1/auth/login {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7O1FS7GG5:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG5"}
[2025-11-19 18:23:43.859 -05:00 INF] Rutas públicas configuradas: /, /api/v1/auth/login, /api/v1/auth/register, /api/v1/auth/status, /api/v1/auth/generar-tokens-aplicacion, /api/v1/auth/validar-access-token, /api/v1/auth/renovar-tokens, /api/v1/auth/revocar-tokens, /api/v1/auth/tokens-aplicacion, /api/v1/aplicaciones, /swagger, /swagger/index.html, /swagger/v1/swagger.json, /api/docs, /chathub {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7O1FS7GG5:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG5"}
[2025-11-19 18:23:43.863 -05:00 INF] ¿Es ruta pública? true {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7O1FS7GG5:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG5"}
[2025-11-19 18:23:43.866 -05:00 INF] Ruta pública detectada: /api/v1/auth/login {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7O1FS7GG5:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG5"}
[2025-11-19 18:23:44.716 -05:00 ERR] Error getting app by access token {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.AppRegistroRepository","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG5:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG5"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.training_distributions'","message":"Could not find the table 'public.AppRegistros' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.Repositories.AppRegistroRepository.GetByAccessTokenAsync(String accessToken) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\AppRegistroRepository.cs:line 41
[2025-11-19 18:23:44.917 -05:00 ERR] Error getting app by code: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.AppRegistroRepository","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG5:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG5"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.training_distributions'","message":"Could not find the table 'public.AppRegistros' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.Repositories.AppRegistroRepository.GetByCodeAsync(String appCode) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\AppRegistroRepository.cs:line 23
[2025-11-19 18:23:44.922 -05:00 INF] Buscando usuario por código: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Domain.AuthService","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG5:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG5"}
[2025-11-19 18:23:44.924 -05:00 INF] GetByUserCodeAsync: Buscando usuario por código: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG5:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG5"}
[2025-11-19 18:23:45.119 -05:00 WRN] Fallo consulta Supabase por cPerCodigo=JSANCHEZ. {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG5:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG5"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.user_sports'","message":"Could not find the table 'public.Usuarios' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.UsuarioRepository.GetByPerCodigoAsync(String perCodigo) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\UsuarioRepository.cs:line 474
[2025-11-19 18:23:45.126 -05:00 INF] GetByEmailAsync: Buscando usuario por email: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG5:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG5"}
[2025-11-19 18:23:45.339 -05:00 ERR] Error al obtener usuario por email desde Supabase: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG5:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG5"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.user_sports'","message":"Could not find the table 'public.Usuarios' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.UsuarioRepository.GetByEmailAsync(String email) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\UsuarioRepository.cs:line 95
[2025-11-19 18:23:45.352 -05:00 INF] GetByUsernameAsync: Buscando usuario por username: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG5:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG5"}
[2025-11-19 18:23:45.557 -05:00 ERR] Error al obtener usuario por username desde Supabase: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG5:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG5"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.user_sports'","message":"Could not find the table 'public.Usuarios' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.UsuarioRepository.GetByUsernameAsync(String username) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\UsuarioRepository.cs:line 157
[2025-11-19 18:23:45.582 -05:00 INF] Resultado búsqueda usuario: encontrado=false {"SourceContext":"ChatModularMicroservice.Domain.AuthService","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG5:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG5"}
[2025-11-19 18:23:45.585 -05:00 WRN] Login fallido: usuario no encontrado o inactivo. cUsuarioCodigo=JSANCHEZ {"SourceContext":"ChatModularMicroservice.Domain.AuthService","ActionId":"984dbffd-0281-4121-a7db-1935e010e3a3","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7O1FS7GG5:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7O1FS7GG5"}
[2025-11-19 18:24:18.748 -05:00 INF] Iniciando aplicación ChatModular API {}
[2025-11-19 18:24:18.782 -05:00 INF] Servidor escuchando en: http://localhost:5405;http://localhost:5406 {}
[2025-11-19 18:24:18.907 -05:00 WRN] Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH7OB1M9A67:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7OB1M9A67"}
[2025-11-19 18:24:18.929 -05:00 INF] HTTP Request - Method: POST, Path: /api/v1/auth/login, Body: {"cUsuarioCodigo":"JSANCHEZ","cUsuarioContra":"jeysson12345","bRecordarme":true,"cTokenAcceso":"AT_6cbeb6faba662bffb1e9b0cdc3a96670","cTokenSecreto":"ST_0b2c702f3fd200f0fc9ddb02624a21bc9d8be4fa96672504","cPerJurCodigo":"DEFAULT"} {"SourceContext":"ChatModularMicroservice.Api.Middleware.RequestBodyMiddleware","RequestId":"0HNH7OB1M9A67:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7OB1M9A67"}
[2025-11-19 18:24:18.935 -05:00 INF] Verificando ruta: /api/v1/auth/login {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7OB1M9A67:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7OB1M9A67"}
[2025-11-19 18:24:18.937 -05:00 INF] Rutas públicas configuradas: /, /api/v1/auth/login, /api/v1/auth/register, /api/v1/auth/status, /api/v1/auth/generar-tokens-aplicacion, /api/v1/auth/validar-access-token, /api/v1/auth/renovar-tokens, /api/v1/auth/revocar-tokens, /api/v1/auth/tokens-aplicacion, /api/v1/aplicaciones, /swagger, /swagger/index.html, /swagger/v1/swagger.json, /api/docs, /chathub {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7OB1M9A67:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7OB1M9A67"}
[2025-11-19 18:24:18.941 -05:00 INF] ¿Es ruta pública? true {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7OB1M9A67:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7OB1M9A67"}
[2025-11-19 18:24:18.943 -05:00 INF] Ruta pública detectada: /api/v1/auth/login {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7OB1M9A67:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7OB1M9A67"}
[2025-11-19 18:24:19.494 -05:00 ERR] Error getting app by access token {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.AppRegistroRepository","ActionId":"de42dfd7-a095-4753-a15b-0158a68793d5","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7OB1M9A67:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7OB1M9A67"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.training_distributions'","message":"Could not find the table 'public.AppRegistros' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.Repositories.AppRegistroRepository.GetByAccessTokenAsync(String accessToken) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\AppRegistroRepository.cs:line 41
[2025-11-19 18:24:19.707 -05:00 ERR] Error getting app by code: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.AppRegistroRepository","ActionId":"de42dfd7-a095-4753-a15b-0158a68793d5","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7OB1M9A67:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7OB1M9A67"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.training_distributions'","message":"Could not find the table 'public.AppRegistros' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.Repositories.AppRegistroRepository.GetByCodeAsync(String appCode) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\AppRegistroRepository.cs:line 23
[2025-11-19 18:24:19.715 -05:00 INF] Buscando usuario por código: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Domain.AuthService","ActionId":"de42dfd7-a095-4753-a15b-0158a68793d5","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7OB1M9A67:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7OB1M9A67"}
[2025-11-19 18:24:19.721 -05:00 INF] GetByUserCodeAsync: Buscando usuario por código: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"de42dfd7-a095-4753-a15b-0158a68793d5","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7OB1M9A67:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7OB1M9A67"}
[2025-11-19 18:24:19.919 -05:00 WRN] Fallo consulta Supabase por cPerCodigo=JSANCHEZ. {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"de42dfd7-a095-4753-a15b-0158a68793d5","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7OB1M9A67:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7OB1M9A67"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.user_sports'","message":"Could not find the table 'public.Usuarios' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.UsuarioRepository.GetByPerCodigoAsync(String perCodigo) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\UsuarioRepository.cs:line 474
[2025-11-19 18:24:19.925 -05:00 INF] GetByEmailAsync: Buscando usuario por email: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"de42dfd7-a095-4753-a15b-0158a68793d5","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7OB1M9A67:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7OB1M9A67"}
[2025-11-19 18:24:20.126 -05:00 ERR] Error al obtener usuario por email desde Supabase: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"de42dfd7-a095-4753-a15b-0158a68793d5","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7OB1M9A67:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7OB1M9A67"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.user_sports'","message":"Could not find the table 'public.Usuarios' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.UsuarioRepository.GetByEmailAsync(String email) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\UsuarioRepository.cs:line 95
[2025-11-19 18:24:20.137 -05:00 INF] GetByUsernameAsync: Buscando usuario por username: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"de42dfd7-a095-4753-a15b-0158a68793d5","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7OB1M9A67:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7OB1M9A67"}
[2025-11-19 18:24:20.336 -05:00 ERR] Error al obtener usuario por username desde Supabase: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"de42dfd7-a095-4753-a15b-0158a68793d5","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7OB1M9A67:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7OB1M9A67"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.user_sports'","message":"Could not find the table 'public.Usuarios' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.UsuarioRepository.GetByUsernameAsync(String username) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\UsuarioRepository.cs:line 157
[2025-11-19 18:24:20.535 -05:00 INF] Resultado búsqueda usuario: encontrado=false {"SourceContext":"ChatModularMicroservice.Domain.AuthService","ActionId":"de42dfd7-a095-4753-a15b-0158a68793d5","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7OB1M9A67:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7OB1M9A67"}
[2025-11-19 18:24:20.540 -05:00 WRN] Login fallido: usuario no encontrado o inactivo. cUsuarioCodigo=JSANCHEZ {"SourceContext":"ChatModularMicroservice.Domain.AuthService","ActionId":"de42dfd7-a095-4753-a15b-0158a68793d5","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7OB1M9A67:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7OB1M9A67"}
[2025-11-19 18:53:35.187 -05:00 INF] Iniciando aplicación ChatModular API {}
[2025-11-19 18:53:35.233 -05:00 INF] Servidor escuchando en: http://localhost:5405;http://localhost:5406 {}
[2025-11-19 18:53:57.133 -05:00 WRN] Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH7ORJKTEOG:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7ORJKTEOG"}
[2025-11-19 18:53:57.150 -05:00 INF] HTTP Request - Method: POST, Path: /api/v1/auth/login, Body: {"username":"JSANCHEZ","password":"***"} {"SourceContext":"ChatModularMicroservice.Api.Middleware.RequestBodyMiddleware","RequestId":"0HNH7ORJKTEOG:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7ORJKTEOG"}
[2025-11-19 18:53:57.155 -05:00 INF] Verificando ruta: /api/v1/auth/login {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7ORJKTEOG:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7ORJKTEOG"}
[2025-11-19 18:53:57.159 -05:00 INF] Rutas públicas configuradas: /, /api/v1/auth/login, /api/v1/auth/register, /api/v1/auth/status, /api/v1/auth/generar-tokens-aplicacion, /api/v1/auth/validar-access-token, /api/v1/auth/renovar-tokens, /api/v1/auth/revocar-tokens, /api/v1/auth/tokens-aplicacion, /api/v1/aplicaciones, /swagger, /swagger/index.html, /swagger/v1/swagger.json, /api/docs, /chathub {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7ORJKTEOG:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7ORJKTEOG"}
[2025-11-19 18:53:57.162 -05:00 INF] ¿Es ruta pública? true {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7ORJKTEOG:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7ORJKTEOG"}
[2025-11-19 18:53:57.164 -05:00 INF] Ruta pública detectada: /api/v1/auth/login {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7ORJKTEOG:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7ORJKTEOG"}
[2025-11-19 18:54:09.438 -05:00 INF] HTTP Request - Method: POST, Path: /api/v1/auth/login, Body: {"cUsuarioCodigo":"JSANCHEZ","cUsuarioContra":"123456"} {"SourceContext":"ChatModularMicroservice.Api.Middleware.RequestBodyMiddleware","RequestId":"0HNH7ORJKTEOH:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7ORJKTEOH"}
[2025-11-19 18:54:09.446 -05:00 INF] Verificando ruta: /api/v1/auth/login {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7ORJKTEOH:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7ORJKTEOH"}
[2025-11-19 18:54:09.448 -05:00 INF] Rutas públicas configuradas: /, /api/v1/auth/login, /api/v1/auth/register, /api/v1/auth/status, /api/v1/auth/generar-tokens-aplicacion, /api/v1/auth/validar-access-token, /api/v1/auth/renovar-tokens, /api/v1/auth/revocar-tokens, /api/v1/auth/tokens-aplicacion, /api/v1/aplicaciones, /swagger, /swagger/index.html, /swagger/v1/swagger.json, /api/docs, /chathub {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7ORJKTEOH:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7ORJKTEOH"}
[2025-11-19 18:54:09.452 -05:00 INF] ¿Es ruta pública? true {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7ORJKTEOH:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7ORJKTEOH"}
[2025-11-19 18:54:09.454 -05:00 INF] Ruta pública detectada: /api/v1/auth/login {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7ORJKTEOH:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7ORJKTEOH"}
[2025-11-19 18:54:09.464 -05:00 INF] Buscando usuario por código: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Domain.AuthService","ActionId":"a4e016bd-36b5-4901-a39a-a734b70172cd","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7ORJKTEOH:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7ORJKTEOH"}
[2025-11-19 18:54:09.468 -05:00 INF] GetByUserCodeAsync: Buscando usuario por código: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"a4e016bd-36b5-4901-a39a-a734b70172cd","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7ORJKTEOH:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7ORJKTEOH"}
[2025-11-19 18:54:10.325 -05:00 WRN] Fallo consulta Supabase por cPerCodigo=JSANCHEZ. {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"a4e016bd-36b5-4901-a39a-a734b70172cd","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7ORJKTEOH:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7ORJKTEOH"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.user_sports'","message":"Could not find the table 'public.Usuarios' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.UsuarioRepository.GetByPerCodigoAsync(String perCodigo) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\UsuarioRepository.cs:line 474
[2025-11-19 18:54:10.338 -05:00 INF] GetByEmailAsync: Buscando usuario por email: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"a4e016bd-36b5-4901-a39a-a734b70172cd","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7ORJKTEOH:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7ORJKTEOH"}
[2025-11-19 18:54:10.544 -05:00 ERR] Error al obtener usuario por email desde Supabase: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"a4e016bd-36b5-4901-a39a-a734b70172cd","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7ORJKTEOH:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7ORJKTEOH"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.user_sports'","message":"Could not find the table 'public.Usuarios' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.UsuarioRepository.GetByEmailAsync(String email) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\UsuarioRepository.cs:line 95
[2025-11-19 18:54:10.557 -05:00 INF] GetByUsernameAsync: Buscando usuario por username: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"a4e016bd-36b5-4901-a39a-a734b70172cd","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7ORJKTEOH:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7ORJKTEOH"}
[2025-11-19 18:54:10.901 -05:00 ERR] Error al obtener usuario por username desde Supabase: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"a4e016bd-36b5-4901-a39a-a734b70172cd","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7ORJKTEOH:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7ORJKTEOH"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.user_sports'","message":"Could not find the table 'public.Usuarios' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.UsuarioRepository.GetByUsernameAsync(String username) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\UsuarioRepository.cs:line 157
[2025-11-19 18:54:11.127 -05:00 INF] Resultado búsqueda usuario: encontrado=false {"SourceContext":"ChatModularMicroservice.Domain.AuthService","ActionId":"a4e016bd-36b5-4901-a39a-a734b70172cd","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7ORJKTEOH:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7ORJKTEOH"}
[2025-11-19 18:54:11.134 -05:00 WRN] Login fallido: usuario no encontrado o inactivo. cUsuarioCodigo=JSANCHEZ {"SourceContext":"ChatModularMicroservice.Domain.AuthService","ActionId":"a4e016bd-36b5-4901-a39a-a734b70172cd","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7ORJKTEOH:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7ORJKTEOH"}
[2025-11-19 18:54:21.203 -05:00 INF] Verificando ruta: /api/v1/contactos/stats {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7ORJKTEOI:00000001","RequestPath":"/api/v1/contactos/stats","ConnectionId":"0HNH7ORJKTEOI"}
[2025-11-19 18:54:21.206 -05:00 INF] Rutas públicas configuradas: /, /api/v1/auth/login, /api/v1/auth/register, /api/v1/auth/status, /api/v1/auth/generar-tokens-aplicacion, /api/v1/auth/validar-access-token, /api/v1/auth/renovar-tokens, /api/v1/auth/revocar-tokens, /api/v1/auth/tokens-aplicacion, /api/v1/aplicaciones, /swagger, /swagger/index.html, /swagger/v1/swagger.json, /api/docs, /chathub {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7ORJKTEOI:00000001","RequestPath":"/api/v1/contactos/stats","ConnectionId":"0HNH7ORJKTEOI"}
[2025-11-19 18:54:21.210 -05:00 INF] ¿Es ruta pública? false {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7ORJKTEOI:00000001","RequestPath":"/api/v1/contactos/stats","ConnectionId":"0HNH7ORJKTEOI"}
[2025-11-19 18:54:21.212 -05:00 INF] Ruta privada detectada: /api/v1/contactos/stats {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7ORJKTEOI:00000001","RequestPath":"/api/v1/contactos/stats","ConnectionId":"0HNH7ORJKTEOI"}
[2025-11-19 18:54:35.104 -05:00 INF] Verificando ruta: /api/v1/contactos/my-contacts {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7ORJKTEOJ:00000001","RequestPath":"/api/v1/contactos/my-contacts","ConnectionId":"0HNH7ORJKTEOJ"}
[2025-11-19 18:54:35.107 -05:00 INF] Rutas públicas configuradas: /, /api/v1/auth/login, /api/v1/auth/register, /api/v1/auth/status, /api/v1/auth/generar-tokens-aplicacion, /api/v1/auth/validar-access-token, /api/v1/auth/renovar-tokens, /api/v1/auth/revocar-tokens, /api/v1/auth/tokens-aplicacion, /api/v1/aplicaciones, /swagger, /swagger/index.html, /swagger/v1/swagger.json, /api/docs, /chathub {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7ORJKTEOJ:00000001","RequestPath":"/api/v1/contactos/my-contacts","ConnectionId":"0HNH7ORJKTEOJ"}
[2025-11-19 18:54:35.109 -05:00 INF] ¿Es ruta pública? false {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7ORJKTEOJ:00000001","RequestPath":"/api/v1/contactos/my-contacts","ConnectionId":"0HNH7ORJKTEOJ"}
[2025-11-19 18:54:35.112 -05:00 INF] Ruta privada detectada: /api/v1/contactos/my-contacts {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7ORJKTEOJ:00000001","RequestPath":"/api/v1/contactos/my-contacts","ConnectionId":"0HNH7ORJKTEOJ"}
[2025-11-19 18:54:53.470 -05:00 INF] Verificando ruta: /api/v1/aplicaciones/SICOM_CHAT_2024/configuration {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7ORJKTEOK:00000001","RequestPath":"/api/v1/aplicaciones/SICOM_CHAT_2024/configuration","ConnectionId":"0HNH7ORJKTEOK"}
[2025-11-19 18:54:53.476 -05:00 INF] Rutas públicas configuradas: /, /api/v1/auth/login, /api/v1/auth/register, /api/v1/auth/status, /api/v1/auth/generar-tokens-aplicacion, /api/v1/auth/validar-access-token, /api/v1/auth/renovar-tokens, /api/v1/auth/revocar-tokens, /api/v1/auth/tokens-aplicacion, /api/v1/aplicaciones, /swagger, /swagger/index.html, /swagger/v1/swagger.json, /api/docs, /chathub {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7ORJKTEOK:00000001","RequestPath":"/api/v1/aplicaciones/SICOM_CHAT_2024/configuration","ConnectionId":"0HNH7ORJKTEOK"}
[2025-11-19 18:54:53.480 -05:00 INF] ¿Es ruta pública? true {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7ORJKTEOK:00000001","RequestPath":"/api/v1/aplicaciones/SICOM_CHAT_2024/configuration","ConnectionId":"0HNH7ORJKTEOK"}
[2025-11-19 18:54:53.483 -05:00 INF] Ruta pública detectada: /api/v1/aplicaciones/SICOM_CHAT_2024/configuration {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7ORJKTEOK:00000001","RequestPath":"/api/v1/aplicaciones/SICOM_CHAT_2024/configuration","ConnectionId":"0HNH7ORJKTEOK"}
[2025-11-19 19:20:40.758 -05:00 INF] HTTP Request - Method: POST, Path: /api/v1/auth/login, Body: {"cUsuarioCodigo":"JSANCHEZ","cUsuarioContra":"jeysson12345","bRecordarme":true,"cTokenAcceso":"AT_6cbeb6faba662bffb1e9b0cdc3a96670","cTokenSecreto":"ST_0b2c702f3fd200f0fc9ddb02624a21bc9d8be4fa96672504","cPerJurCodigo":"DEFAULT"} {"SourceContext":"ChatModularMicroservice.Api.Middleware.RequestBodyMiddleware","RequestId":"0HNH7ORJKTEOL:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7ORJKTEOL"}
[2025-11-19 19:20:40.761 -05:00 INF] Verificando ruta: /api/v1/auth/login {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7ORJKTEOL:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7ORJKTEOL"}
[2025-11-19 19:20:40.763 -05:00 INF] Rutas públicas configuradas: /, /api/v1/auth/login, /api/v1/auth/register, /api/v1/auth/status, /api/v1/auth/generar-tokens-aplicacion, /api/v1/auth/validar-access-token, /api/v1/auth/renovar-tokens, /api/v1/auth/revocar-tokens, /api/v1/auth/tokens-aplicacion, /api/v1/aplicaciones, /swagger, /swagger/index.html, /swagger/v1/swagger.json, /api/docs, /chathub {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7ORJKTEOL:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7ORJKTEOL"}
[2025-11-19 19:20:40.765 -05:00 INF] ¿Es ruta pública? true {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7ORJKTEOL:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7ORJKTEOL"}
[2025-11-19 19:20:40.767 -05:00 INF] Ruta pública detectada: /api/v1/auth/login {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7ORJKTEOL:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7ORJKTEOL"}
[2025-11-19 19:20:41.485 -05:00 ERR] Error getting app by access token {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.AppRegistroRepository","ActionId":"a4e016bd-36b5-4901-a39a-a734b70172cd","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7ORJKTEOL:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7ORJKTEOL"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.training_distributions'","message":"Could not find the table 'public.AppRegistros' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.Repositories.AppRegistroRepository.GetByAccessTokenAsync(String accessToken) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\AppRegistroRepository.cs:line 41
[2025-11-19 19:20:41.639 -05:00 ERR] Error getting app by code: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.AppRegistroRepository","ActionId":"a4e016bd-36b5-4901-a39a-a734b70172cd","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7ORJKTEOL:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7ORJKTEOL"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.training_distributions'","message":"Could not find the table 'public.AppRegistros' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.Repositories.AppRegistroRepository.GetByCodeAsync(String appCode) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\AppRegistroRepository.cs:line 23
[2025-11-19 19:20:41.655 -05:00 INF] Buscando usuario por código: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Domain.AuthService","ActionId":"a4e016bd-36b5-4901-a39a-a734b70172cd","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7ORJKTEOL:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7ORJKTEOL"}
[2025-11-19 19:20:41.658 -05:00 INF] GetByUserCodeAsync: Buscando usuario por código: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"a4e016bd-36b5-4901-a39a-a734b70172cd","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7ORJKTEOL:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7ORJKTEOL"}
[2025-11-19 19:20:41.820 -05:00 WRN] Fallo consulta Supabase por cPerCodigo=JSANCHEZ. {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"a4e016bd-36b5-4901-a39a-a734b70172cd","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7ORJKTEOL:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7ORJKTEOL"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.user_sports'","message":"Could not find the table 'public.Usuarios' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.UsuarioRepository.GetByPerCodigoAsync(String perCodigo) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\UsuarioRepository.cs:line 474
[2025-11-19 19:20:41.832 -05:00 INF] GetByEmailAsync: Buscando usuario por email: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"a4e016bd-36b5-4901-a39a-a734b70172cd","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7ORJKTEOL:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7ORJKTEOL"}
[2025-11-19 19:20:42.009 -05:00 ERR] Error al obtener usuario por email desde Supabase: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"a4e016bd-36b5-4901-a39a-a734b70172cd","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7ORJKTEOL:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7ORJKTEOL"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.user_sports'","message":"Could not find the table 'public.Usuarios' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.UsuarioRepository.GetByEmailAsync(String email) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\UsuarioRepository.cs:line 95
[2025-11-19 19:20:42.021 -05:00 INF] GetByUsernameAsync: Buscando usuario por username: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"a4e016bd-36b5-4901-a39a-a734b70172cd","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7ORJKTEOL:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7ORJKTEOL"}
[2025-11-19 19:20:42.156 -05:00 ERR] Error al obtener usuario por username desde Supabase: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"a4e016bd-36b5-4901-a39a-a734b70172cd","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7ORJKTEOL:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7ORJKTEOL"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.user_sports'","message":"Could not find the table 'public.Usuarios' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.UsuarioRepository.GetByUsernameAsync(String username) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\UsuarioRepository.cs:line 157
[2025-11-19 19:20:42.191 -05:00 INF] Resultado búsqueda usuario: encontrado=false {"SourceContext":"ChatModularMicroservice.Domain.AuthService","ActionId":"a4e016bd-36b5-4901-a39a-a734b70172cd","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7ORJKTEOL:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7ORJKTEOL"}
[2025-11-19 19:20:42.195 -05:00 WRN] Login fallido: usuario no encontrado o inactivo. cUsuarioCodigo=JSANCHEZ {"SourceContext":"ChatModularMicroservice.Domain.AuthService","ActionId":"a4e016bd-36b5-4901-a39a-a734b70172cd","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7ORJKTEOL:00000002","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7ORJKTEOL"}
[2025-11-19 19:26:31.689 -05:00 INF] Iniciando aplicación ChatModular API {}
[2025-11-19 19:26:31.731 -05:00 INF] Servidor escuchando en: http://localhost:5405;http://localhost:5406 {}
[2025-11-19 19:26:48.307 -05:00 WRN] Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH7PDV3F1OD:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OD"}
[2025-11-19 19:26:48.331 -05:00 INF] HTTP Request - Method: POST, Path: /api/v1/auth/login, Body: {"cUsuarioCodigo":"JSANCHEZ","cUsuarioContra":"jeysson12345","cPerJurCodigo":"DEFAULT"} {"SourceContext":"ChatModularMicroservice.Api.Middleware.RequestBodyMiddleware","RequestId":"0HNH7PDV3F1OD:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OD"}
[2025-11-19 19:26:48.335 -05:00 INF] Verificando ruta: /api/v1/auth/login {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7PDV3F1OD:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OD"}
[2025-11-19 19:26:48.338 -05:00 INF] Rutas públicas configuradas: /, /api/v1/auth/login, /api/v1/auth/register, /api/v1/auth/status, /api/v1/auth/generar-tokens-aplicacion, /api/v1/auth/validar-access-token, /api/v1/auth/renovar-tokens, /api/v1/auth/revocar-tokens, /api/v1/auth/tokens-aplicacion, /api/v1/aplicaciones, /swagger, /swagger/index.html, /swagger/v1/swagger.json, /api/docs, /chathub {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7PDV3F1OD:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OD"}
[2025-11-19 19:26:48.342 -05:00 INF] ¿Es ruta pública? true {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7PDV3F1OD:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OD"}
[2025-11-19 19:26:48.346 -05:00 INF] Ruta pública detectada: /api/v1/auth/login {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7PDV3F1OD:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OD"}
[2025-11-19 19:26:48.413 -05:00 INF] Buscando usuario por código: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Domain.AuthService","ActionId":"13b92e46-2af6-4ade-9d61-ee7aa5b16c48","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7PDV3F1OD:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OD"}
[2025-11-19 19:26:48.422 -05:00 INF] GetByUserCodeAsync: Buscando usuario por código: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"13b92e46-2af6-4ade-9d61-ee7aa5b16c48","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7PDV3F1OD:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OD"}
[2025-11-19 19:26:49.133 -05:00 WRN] Fallo consulta Supabase por cPerCodigo=JSANCHEZ. {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"13b92e46-2af6-4ade-9d61-ee7aa5b16c48","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7PDV3F1OD:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OD"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.user_sports'","message":"Could not find the table 'public.Usuarios' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.UsuarioRepository.GetByPerCodigoAsync(String perCodigo) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\UsuarioRepository.cs:line 474
[2025-11-19 19:26:49.147 -05:00 INF] GetByEmailAsync: Buscando usuario por email: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"13b92e46-2af6-4ade-9d61-ee7aa5b16c48","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7PDV3F1OD:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OD"}
[2025-11-19 19:26:49.361 -05:00 ERR] Error al obtener usuario por email desde Supabase: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"13b92e46-2af6-4ade-9d61-ee7aa5b16c48","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7PDV3F1OD:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OD"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.user_sports'","message":"Could not find the table 'public.Usuarios' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.UsuarioRepository.GetByEmailAsync(String email) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\UsuarioRepository.cs:line 95
[2025-11-19 19:26:49.371 -05:00 INF] GetByUsernameAsync: Buscando usuario por username: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"13b92e46-2af6-4ade-9d61-ee7aa5b16c48","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7PDV3F1OD:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OD"}
[2025-11-19 19:26:49.571 -05:00 ERR] Error al obtener usuario por username desde Supabase: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"13b92e46-2af6-4ade-9d61-ee7aa5b16c48","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7PDV3F1OD:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OD"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.user_sports'","message":"Could not find the table 'public.Usuarios' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.UsuarioRepository.GetByUsernameAsync(String username) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\UsuarioRepository.cs:line 157
[2025-11-19 19:26:49.805 -05:00 INF] Resultado búsqueda usuario: encontrado=false {"SourceContext":"ChatModularMicroservice.Domain.AuthService","ActionId":"13b92e46-2af6-4ade-9d61-ee7aa5b16c48","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7PDV3F1OD:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OD"}
[2025-11-19 19:26:49.816 -05:00 WRN] Login fallido: usuario no encontrado o inactivo. cUsuarioCodigo=JSANCHEZ {"SourceContext":"ChatModularMicroservice.Domain.AuthService","ActionId":"13b92e46-2af6-4ade-9d61-ee7aa5b16c48","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7PDV3F1OD:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OD"}
[2025-11-19 19:27:10.158 -05:00 INF] HTTP Request - Method: POST, Path: /api/v1/auth/login, Body: {"cUsuarioCodigo":"SANCHEZ","cUsuarioContra":"jeysson12345","cPerJurCodigo":"DEFAULT"} {"SourceContext":"ChatModularMicroservice.Api.Middleware.RequestBodyMiddleware","RequestId":"0HNH7PDV3F1OE:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OE"}
[2025-11-19 19:27:10.164 -05:00 INF] Verificando ruta: /api/v1/auth/login {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7PDV3F1OE:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OE"}
[2025-11-19 19:27:10.167 -05:00 INF] Rutas públicas configuradas: /, /api/v1/auth/login, /api/v1/auth/register, /api/v1/auth/status, /api/v1/auth/generar-tokens-aplicacion, /api/v1/auth/validar-access-token, /api/v1/auth/renovar-tokens, /api/v1/auth/revocar-tokens, /api/v1/auth/tokens-aplicacion, /api/v1/aplicaciones, /swagger, /swagger/index.html, /swagger/v1/swagger.json, /api/docs, /chathub {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7PDV3F1OE:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OE"}
[2025-11-19 19:27:10.169 -05:00 INF] ¿Es ruta pública? true {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7PDV3F1OE:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OE"}
[2025-11-19 19:27:10.171 -05:00 INF] Ruta pública detectada: /api/v1/auth/login {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7PDV3F1OE:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OE"}
[2025-11-19 19:27:10.177 -05:00 INF] Buscando usuario por código: SANCHEZ {"SourceContext":"ChatModularMicroservice.Domain.AuthService","ActionId":"13b92e46-2af6-4ade-9d61-ee7aa5b16c48","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7PDV3F1OE:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OE"}
[2025-11-19 19:27:10.180 -05:00 INF] GetByUserCodeAsync: Buscando usuario por código: SANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"13b92e46-2af6-4ade-9d61-ee7aa5b16c48","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7PDV3F1OE:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OE"}
[2025-11-19 19:27:10.398 -05:00 WRN] Fallo consulta Supabase por cPerCodigo=SANCHEZ. {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"13b92e46-2af6-4ade-9d61-ee7aa5b16c48","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7PDV3F1OE:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OE"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.user_sports'","message":"Could not find the table 'public.Usuarios' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.UsuarioRepository.GetByPerCodigoAsync(String perCodigo) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\UsuarioRepository.cs:line 474
[2025-11-19 19:27:10.409 -05:00 INF] GetByEmailAsync: Buscando usuario por email: SANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"13b92e46-2af6-4ade-9d61-ee7aa5b16c48","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7PDV3F1OE:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OE"}
[2025-11-19 19:27:10.640 -05:00 ERR] Error al obtener usuario por email desde Supabase: SANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"13b92e46-2af6-4ade-9d61-ee7aa5b16c48","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7PDV3F1OE:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OE"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.user_sports'","message":"Could not find the table 'public.Usuarios' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.UsuarioRepository.GetByEmailAsync(String email) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\UsuarioRepository.cs:line 95
[2025-11-19 19:27:10.652 -05:00 INF] GetByUsernameAsync: Buscando usuario por username: SANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"13b92e46-2af6-4ade-9d61-ee7aa5b16c48","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7PDV3F1OE:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OE"}
[2025-11-19 19:27:10.875 -05:00 ERR] Error al obtener usuario por username desde Supabase: SANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"13b92e46-2af6-4ade-9d61-ee7aa5b16c48","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7PDV3F1OE:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OE"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.user_sports'","message":"Could not find the table 'public.Usuarios' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.UsuarioRepository.GetByUsernameAsync(String username) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\UsuarioRepository.cs:line 157
[2025-11-19 19:27:10.892 -05:00 INF] Resultado búsqueda usuario: encontrado=false {"SourceContext":"ChatModularMicroservice.Domain.AuthService","ActionId":"13b92e46-2af6-4ade-9d61-ee7aa5b16c48","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7PDV3F1OE:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OE"}
[2025-11-19 19:27:10.897 -05:00 WRN] Login fallido: usuario no encontrado o inactivo. cUsuarioCodigo=SANCHEZ {"SourceContext":"ChatModularMicroservice.Domain.AuthService","ActionId":"13b92e46-2af6-4ade-9d61-ee7aa5b16c48","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7PDV3F1OE:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OE"}
[2025-11-19 19:27:29.618 -05:00 INF] HTTP Request - Method: POST, Path: /api/v1/auth/login, Body: {"cUsuarioCodigo":"jeysson_s.r@hotmail.com","cUsuarioContra":"jeysson12345","cPerJurCodigo":"DEFAULT"} {"SourceContext":"ChatModularMicroservice.Api.Middleware.RequestBodyMiddleware","RequestId":"0HNH7PDV3F1OF:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OF"}
[2025-11-19 19:27:29.624 -05:00 INF] Verificando ruta: /api/v1/auth/login {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7PDV3F1OF:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OF"}
[2025-11-19 19:27:29.627 -05:00 INF] Rutas públicas configuradas: /, /api/v1/auth/login, /api/v1/auth/register, /api/v1/auth/status, /api/v1/auth/generar-tokens-aplicacion, /api/v1/auth/validar-access-token, /api/v1/auth/renovar-tokens, /api/v1/auth/revocar-tokens, /api/v1/auth/tokens-aplicacion, /api/v1/aplicaciones, /swagger, /swagger/index.html, /swagger/v1/swagger.json, /api/docs, /chathub {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7PDV3F1OF:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OF"}
[2025-11-19 19:27:29.629 -05:00 INF] ¿Es ruta pública? true {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7PDV3F1OF:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OF"}
[2025-11-19 19:27:29.631 -05:00 INF] Ruta pública detectada: /api/v1/auth/login {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7PDV3F1OF:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OF"}
[2025-11-19 19:27:29.637 -05:00 INF] Buscando usuario por código: jeysson_s.r@hotmail.com {"SourceContext":"ChatModularMicroservice.Domain.AuthService","ActionId":"13b92e46-2af6-4ade-9d61-ee7aa5b16c48","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7PDV3F1OF:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OF"}
[2025-11-19 19:27:29.640 -05:00 INF] GetByUserCodeAsync: Buscando usuario por código: jeysson_s.r@hotmail.com {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"13b92e46-2af6-4ade-9d61-ee7aa5b16c48","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7PDV3F1OF:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OF"}
[2025-11-19 19:27:29.862 -05:00 WRN] Fallo consulta Supabase por cPerCodigo=jeysson_s.r@hotmail.com. {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"13b92e46-2af6-4ade-9d61-ee7aa5b16c48","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7PDV3F1OF:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OF"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.user_sports'","message":"Could not find the table 'public.Usuarios' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.UsuarioRepository.GetByPerCodigoAsync(String perCodigo) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\UsuarioRepository.cs:line 474
[2025-11-19 19:27:29.870 -05:00 INF] GetByEmailAsync: Buscando usuario por email: jeysson_s.r@hotmail.com {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"13b92e46-2af6-4ade-9d61-ee7aa5b16c48","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7PDV3F1OF:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OF"}
[2025-11-19 19:27:30.110 -05:00 ERR] Error al obtener usuario por email desde Supabase: jeysson_s.r@hotmail.com {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"13b92e46-2af6-4ade-9d61-ee7aa5b16c48","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7PDV3F1OF:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OF"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.user_sports'","message":"Could not find the table 'public.Usuarios' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.UsuarioRepository.GetByEmailAsync(String email) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\UsuarioRepository.cs:line 95
[2025-11-19 19:27:30.124 -05:00 INF] GetByUsernameAsync: Buscando usuario por username: jeysson_s.r@hotmail.com {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"13b92e46-2af6-4ade-9d61-ee7aa5b16c48","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7PDV3F1OF:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OF"}
[2025-11-19 19:27:30.336 -05:00 ERR] Error al obtener usuario por username desde Supabase: jeysson_s.r@hotmail.com {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"13b92e46-2af6-4ade-9d61-ee7aa5b16c48","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7PDV3F1OF:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OF"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.user_sports'","message":"Could not find the table 'public.Usuarios' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.UsuarioRepository.GetByUsernameAsync(String username) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\UsuarioRepository.cs:line 157
[2025-11-19 19:27:30.357 -05:00 INF] Resultado búsqueda usuario: encontrado=false {"SourceContext":"ChatModularMicroservice.Domain.AuthService","ActionId":"13b92e46-2af6-4ade-9d61-ee7aa5b16c48","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7PDV3F1OF:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OF"}
[2025-11-19 19:27:30.360 -05:00 WRN] Login fallido: usuario no encontrado o inactivo. cUsuarioCodigo=jeysson_s.r@hotmail.com {"SourceContext":"ChatModularMicroservice.Domain.AuthService","ActionId":"13b92e46-2af6-4ade-9d61-ee7aa5b16c48","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7PDV3F1OF:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OF"}
[2025-11-19 19:27:53.741 -05:00 INF] HTTP Request - Method: POST, Path: /api/v1/auth/login, Body: {"cUsuarioCodigo":"Jeysson Manuel S�nchez Rodr�guez","cUsuarioContra":"jeysson12345","cPerJurCodigo":"DEFAULT"} {"SourceContext":"ChatModularMicroservice.Api.Middleware.RequestBodyMiddleware","RequestId":"0HNH7PDV3F1OG:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OG"}
[2025-11-19 19:27:53.749 -05:00 INF] Verificando ruta: /api/v1/auth/login {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7PDV3F1OG:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OG"}
[2025-11-19 19:27:53.753 -05:00 INF] Rutas públicas configuradas: /, /api/v1/auth/login, /api/v1/auth/register, /api/v1/auth/status, /api/v1/auth/generar-tokens-aplicacion, /api/v1/auth/validar-access-token, /api/v1/auth/renovar-tokens, /api/v1/auth/revocar-tokens, /api/v1/auth/tokens-aplicacion, /api/v1/aplicaciones, /swagger, /swagger/index.html, /swagger/v1/swagger.json, /api/docs, /chathub {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7PDV3F1OG:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OG"}
[2025-11-19 19:27:53.757 -05:00 INF] ¿Es ruta pública? true {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7PDV3F1OG:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OG"}
[2025-11-19 19:27:53.760 -05:00 INF] Ruta pública detectada: /api/v1/auth/login {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7PDV3F1OG:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OG"}
[2025-11-19 19:28:07.146 -05:00 INF] HTTP Request - Method: POST, Path: /api/v1/auth/login, Body: {"cUsuarioCodigo":"Jeysson Manuel S�nchez Rodr�guez","cUsuarioContra":"jeysson12345","cPerJurCodigo":"DEFAULT"} {"SourceContext":"ChatModularMicroservice.Api.Middleware.RequestBodyMiddleware","RequestId":"0HNH7PDV3F1OH:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OH"}
[2025-11-19 19:28:07.151 -05:00 INF] Verificando ruta: /api/v1/auth/login {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7PDV3F1OH:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OH"}
[2025-11-19 19:28:07.153 -05:00 INF] Rutas públicas configuradas: /, /api/v1/auth/login, /api/v1/auth/register, /api/v1/auth/status, /api/v1/auth/generar-tokens-aplicacion, /api/v1/auth/validar-access-token, /api/v1/auth/renovar-tokens, /api/v1/auth/revocar-tokens, /api/v1/auth/tokens-aplicacion, /api/v1/aplicaciones, /swagger, /swagger/index.html, /swagger/v1/swagger.json, /api/docs, /chathub {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7PDV3F1OH:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OH"}
[2025-11-19 19:28:07.155 -05:00 INF] ¿Es ruta pública? true {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7PDV3F1OH:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OH"}
[2025-11-19 19:28:07.156 -05:00 INF] Ruta pública detectada: /api/v1/auth/login {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7PDV3F1OH:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OH"}
[2025-11-19 19:28:27.530 -05:00 INF] HTTP Request - Method: POST, Path: /api/v1/auth/login, Body: {"cUsuarioCodigo":"jeysson","cUsuarioContra":"jeysson12345","cPerJurCodigo":"DEFAULT"} {"SourceContext":"ChatModularMicroservice.Api.Middleware.RequestBodyMiddleware","RequestId":"0HNH7PDV3F1OI:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OI"}
[2025-11-19 19:28:27.534 -05:00 INF] Verificando ruta: /api/v1/auth/login {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7PDV3F1OI:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OI"}
[2025-11-19 19:28:27.537 -05:00 INF] Rutas públicas configuradas: /, /api/v1/auth/login, /api/v1/auth/register, /api/v1/auth/status, /api/v1/auth/generar-tokens-aplicacion, /api/v1/auth/validar-access-token, /api/v1/auth/renovar-tokens, /api/v1/auth/revocar-tokens, /api/v1/auth/tokens-aplicacion, /api/v1/aplicaciones, /swagger, /swagger/index.html, /swagger/v1/swagger.json, /api/docs, /chathub {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7PDV3F1OI:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OI"}
[2025-11-19 19:28:27.539 -05:00 INF] ¿Es ruta pública? true {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7PDV3F1OI:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OI"}
[2025-11-19 19:28:27.543 -05:00 INF] Ruta pública detectada: /api/v1/auth/login {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7PDV3F1OI:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OI"}
[2025-11-19 19:28:27.547 -05:00 INF] Buscando usuario por código: jeysson {"SourceContext":"ChatModularMicroservice.Domain.AuthService","ActionId":"13b92e46-2af6-4ade-9d61-ee7aa5b16c48","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7PDV3F1OI:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OI"}
[2025-11-19 19:28:27.550 -05:00 INF] GetByUserCodeAsync: Buscando usuario por código: jeysson {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"13b92e46-2af6-4ade-9d61-ee7aa5b16c48","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7PDV3F1OI:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OI"}
[2025-11-19 19:28:27.749 -05:00 WRN] Fallo consulta Supabase por cPerCodigo=jeysson. {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"13b92e46-2af6-4ade-9d61-ee7aa5b16c48","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7PDV3F1OI:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OI"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.user_sports'","message":"Could not find the table 'public.Usuarios' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.UsuarioRepository.GetByPerCodigoAsync(String perCodigo) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\UsuarioRepository.cs:line 474
[2025-11-19 19:28:27.758 -05:00 INF] GetByEmailAsync: Buscando usuario por email: jeysson {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"13b92e46-2af6-4ade-9d61-ee7aa5b16c48","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7PDV3F1OI:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OI"}
[2025-11-19 19:28:27.959 -05:00 ERR] Error al obtener usuario por email desde Supabase: jeysson {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"13b92e46-2af6-4ade-9d61-ee7aa5b16c48","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7PDV3F1OI:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OI"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.user_sports'","message":"Could not find the table 'public.Usuarios' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.UsuarioRepository.GetByEmailAsync(String email) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\UsuarioRepository.cs:line 95
[2025-11-19 19:28:27.968 -05:00 INF] GetByUsernameAsync: Buscando usuario por username: jeysson {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"13b92e46-2af6-4ade-9d61-ee7aa5b16c48","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7PDV3F1OI:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OI"}
[2025-11-19 19:28:28.170 -05:00 ERR] Error al obtener usuario por username desde Supabase: jeysson {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"13b92e46-2af6-4ade-9d61-ee7aa5b16c48","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7PDV3F1OI:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OI"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.user_sports'","message":"Could not find the table 'public.Usuarios' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.UsuarioRepository.GetByUsernameAsync(String username) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\UsuarioRepository.cs:line 157
[2025-11-19 19:28:28.187 -05:00 INF] Resultado búsqueda usuario: encontrado=false {"SourceContext":"ChatModularMicroservice.Domain.AuthService","ActionId":"13b92e46-2af6-4ade-9d61-ee7aa5b16c48","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7PDV3F1OI:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OI"}
[2025-11-19 19:28:28.190 -05:00 WRN] Login fallido: usuario no encontrado o inactivo. cUsuarioCodigo=jeysson {"SourceContext":"ChatModularMicroservice.Domain.AuthService","ActionId":"13b92e46-2af6-4ade-9d61-ee7aa5b16c48","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7PDV3F1OI:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OI"}
[2025-11-19 19:28:49.098 -05:00 INF] HTTP Request - Method: POST, Path: /api/v1/auth/login, Body: {"cUsuarioCodigo":"jeysson_s.r@hotmail.com","cUsuarioContra":"jeysson12345","cPerJurCodigo":"DEFAULT"} {"SourceContext":"ChatModularMicroservice.Api.Middleware.RequestBodyMiddleware","RequestId":"0HNH7PDV3F1OJ:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OJ"}
[2025-11-19 19:28:49.103 -05:00 INF] Verificando ruta: /api/v1/auth/login {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7PDV3F1OJ:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OJ"}
[2025-11-19 19:28:49.105 -05:00 INF] Rutas públicas configuradas: /, /api/v1/auth/login, /api/v1/auth/register, /api/v1/auth/status, /api/v1/auth/generar-tokens-aplicacion, /api/v1/auth/validar-access-token, /api/v1/auth/renovar-tokens, /api/v1/auth/revocar-tokens, /api/v1/auth/tokens-aplicacion, /api/v1/aplicaciones, /swagger, /swagger/index.html, /swagger/v1/swagger.json, /api/docs, /chathub {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7PDV3F1OJ:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OJ"}
[2025-11-19 19:28:49.109 -05:00 INF] ¿Es ruta pública? true {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7PDV3F1OJ:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OJ"}
[2025-11-19 19:28:49.112 -05:00 INF] Ruta pública detectada: /api/v1/auth/login {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7PDV3F1OJ:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OJ"}
[2025-11-19 19:28:49.114 -05:00 INF] Buscando usuario por código: jeysson_s.r@hotmail.com {"SourceContext":"ChatModularMicroservice.Domain.AuthService","ActionId":"13b92e46-2af6-4ade-9d61-ee7aa5b16c48","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7PDV3F1OJ:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OJ"}
[2025-11-19 19:28:49.117 -05:00 INF] GetByUserCodeAsync: Buscando usuario por código: jeysson_s.r@hotmail.com {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"13b92e46-2af6-4ade-9d61-ee7aa5b16c48","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7PDV3F1OJ:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OJ"}
[2025-11-19 19:28:49.495 -05:00 WRN] Fallo consulta Supabase por cPerCodigo=jeysson_s.r@hotmail.com. {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"13b92e46-2af6-4ade-9d61-ee7aa5b16c48","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7PDV3F1OJ:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OJ"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.user_sports'","message":"Could not find the table 'public.Usuarios' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.UsuarioRepository.GetByPerCodigoAsync(String perCodigo) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\UsuarioRepository.cs:line 474
[2025-11-19 19:28:49.504 -05:00 INF] GetByEmailAsync: Buscando usuario por email: jeysson_s.r@hotmail.com {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"13b92e46-2af6-4ade-9d61-ee7aa5b16c48","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7PDV3F1OJ:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OJ"}
[2025-11-19 19:28:49.760 -05:00 ERR] Error al obtener usuario por email desde Supabase: jeysson_s.r@hotmail.com {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"13b92e46-2af6-4ade-9d61-ee7aa5b16c48","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7PDV3F1OJ:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OJ"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.user_sports'","message":"Could not find the table 'public.Usuarios' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.UsuarioRepository.GetByEmailAsync(String email) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\UsuarioRepository.cs:line 95
[2025-11-19 19:28:49.772 -05:00 INF] GetByUsernameAsync: Buscando usuario por username: jeysson_s.r@hotmail.com {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"13b92e46-2af6-4ade-9d61-ee7aa5b16c48","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7PDV3F1OJ:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OJ"}
[2025-11-19 19:28:49.968 -05:00 ERR] Error al obtener usuario por username desde Supabase: jeysson_s.r@hotmail.com {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"13b92e46-2af6-4ade-9d61-ee7aa5b16c48","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7PDV3F1OJ:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OJ"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.user_sports'","message":"Could not find the table 'public.Usuarios' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.UsuarioRepository.GetByUsernameAsync(String username) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\UsuarioRepository.cs:line 157
[2025-11-19 19:28:49.986 -05:00 INF] Resultado búsqueda usuario: encontrado=false {"SourceContext":"ChatModularMicroservice.Domain.AuthService","ActionId":"13b92e46-2af6-4ade-9d61-ee7aa5b16c48","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7PDV3F1OJ:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OJ"}
[2025-11-19 19:28:49.988 -05:00 WRN] Login fallido: usuario no encontrado o inactivo. cUsuarioCodigo=jeysson_s.r@hotmail.com {"SourceContext":"ChatModularMicroservice.Domain.AuthService","ActionId":"13b92e46-2af6-4ade-9d61-ee7aa5b16c48","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7PDV3F1OJ:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OJ"}
[2025-11-19 19:49:45.313 -05:00 INF] HTTP Request - Method: POST, Path: /api/v1/auth/login, Body: {"username": "JSANCHEZ", "password": "***"} {"SourceContext":"ChatModularMicroservice.Api.Middleware.RequestBodyMiddleware","RequestId":"0HNH7PDV3F1OK:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OK"}
[2025-11-19 19:49:45.319 -05:00 INF] Verificando ruta: /api/v1/auth/login {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7PDV3F1OK:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OK"}
[2025-11-19 19:49:45.321 -05:00 INF] Rutas públicas configuradas: /, /api/v1/auth/login, /api/v1/auth/register, /api/v1/auth/status, /api/v1/auth/generar-tokens-aplicacion, /api/v1/auth/validar-access-token, /api/v1/auth/renovar-tokens, /api/v1/auth/revocar-tokens, /api/v1/auth/tokens-aplicacion, /api/v1/aplicaciones, /swagger, /swagger/index.html, /swagger/v1/swagger.json, /api/docs, /chathub {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7PDV3F1OK:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OK"}
[2025-11-19 19:49:45.322 -05:00 INF] ¿Es ruta pública? true {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7PDV3F1OK:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OK"}
[2025-11-19 19:49:45.324 -05:00 INF] Ruta pública detectada: /api/v1/auth/login {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7PDV3F1OK:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OK"}
[2025-11-19 19:50:23.740 -05:00 INF] HTTP Request - Method: POST, Path: /api/v1/auth/login, Body: {"cUsuarioCodigo": "JSANCHEZ", "cUsuarioContra": "jeysson12345"} {"SourceContext":"ChatModularMicroservice.Api.Middleware.RequestBodyMiddleware","RequestId":"0HNH7PDV3F1OL:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OL"}
[2025-11-19 19:50:23.746 -05:00 INF] Verificando ruta: /api/v1/auth/login {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7PDV3F1OL:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OL"}
[2025-11-19 19:50:23.748 -05:00 INF] Rutas públicas configuradas: /, /api/v1/auth/login, /api/v1/auth/register, /api/v1/auth/status, /api/v1/auth/generar-tokens-aplicacion, /api/v1/auth/validar-access-token, /api/v1/auth/renovar-tokens, /api/v1/auth/revocar-tokens, /api/v1/auth/tokens-aplicacion, /api/v1/aplicaciones, /swagger, /swagger/index.html, /swagger/v1/swagger.json, /api/docs, /chathub {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7PDV3F1OL:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OL"}
[2025-11-19 19:50:23.750 -05:00 INF] ¿Es ruta pública? true {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7PDV3F1OL:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OL"}
[2025-11-19 19:50:23.753 -05:00 INF] Ruta pública detectada: /api/v1/auth/login {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7PDV3F1OL:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OL"}
[2025-11-19 19:50:23.755 -05:00 INF] Buscando usuario por código: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Domain.AuthService","ActionId":"13b92e46-2af6-4ade-9d61-ee7aa5b16c48","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7PDV3F1OL:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OL"}
[2025-11-19 19:50:23.758 -05:00 INF] GetByUserCodeAsync: Buscando usuario por código: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"13b92e46-2af6-4ade-9d61-ee7aa5b16c48","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7PDV3F1OL:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OL"}
[2025-11-19 19:50:24.745 -05:00 WRN] Fallo consulta Supabase por cPerCodigo=JSANCHEZ. {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"13b92e46-2af6-4ade-9d61-ee7aa5b16c48","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7PDV3F1OL:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OL"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.user_sports'","message":"Could not find the table 'public.Usuarios' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.UsuarioRepository.GetByPerCodigoAsync(String perCodigo) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\UsuarioRepository.cs:line 474
[2025-11-19 19:50:24.758 -05:00 INF] GetByEmailAsync: Buscando usuario por email: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"13b92e46-2af6-4ade-9d61-ee7aa5b16c48","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7PDV3F1OL:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OL"}
[2025-11-19 19:50:24.988 -05:00 ERR] Error al obtener usuario por email desde Supabase: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"13b92e46-2af6-4ade-9d61-ee7aa5b16c48","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7PDV3F1OL:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OL"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.user_sports'","message":"Could not find the table 'public.Usuarios' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.UsuarioRepository.GetByEmailAsync(String email) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\UsuarioRepository.cs:line 95
[2025-11-19 19:50:24.994 -05:00 INF] GetByUsernameAsync: Buscando usuario por username: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"13b92e46-2af6-4ade-9d61-ee7aa5b16c48","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7PDV3F1OL:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OL"}
[2025-11-19 19:50:25.195 -05:00 ERR] Error al obtener usuario por username desde Supabase: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"13b92e46-2af6-4ade-9d61-ee7aa5b16c48","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7PDV3F1OL:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OL"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.user_sports'","message":"Could not find the table 'public.Usuarios' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.UsuarioRepository.GetByUsernameAsync(String username) in d:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\UsuarioRepository.cs:line 157
[2025-11-19 19:50:25.207 -05:00 INF] Resultado búsqueda usuario: encontrado=false {"SourceContext":"ChatModularMicroservice.Domain.AuthService","ActionId":"13b92e46-2af6-4ade-9d61-ee7aa5b16c48","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7PDV3F1OL:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OL"}
[2025-11-19 19:50:25.209 -05:00 WRN] Login fallido: usuario no encontrado o inactivo. cUsuarioCodigo=JSANCHEZ {"SourceContext":"ChatModularMicroservice.Domain.AuthService","ActionId":"13b92e46-2af6-4ade-9d61-ee7aa5b16c48","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7PDV3F1OL:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7PDV3F1OL"}
[2025-11-19 19:50:37.896 -05:00 INF] Verificando ruta: /api/v1/athlete-profiles {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7PDV3F1OM:00000001","RequestPath":"/api/v1/athlete-profiles","ConnectionId":"0HNH7PDV3F1OM"}
[2025-11-19 19:50:37.903 -05:00 INF] Rutas públicas configuradas: /, /api/v1/auth/login, /api/v1/auth/register, /api/v1/auth/status, /api/v1/auth/generar-tokens-aplicacion, /api/v1/auth/validar-access-token, /api/v1/auth/renovar-tokens, /api/v1/auth/revocar-tokens, /api/v1/auth/tokens-aplicacion, /api/v1/aplicaciones, /swagger, /swagger/index.html, /swagger/v1/swagger.json, /api/docs, /chathub {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7PDV3F1OM:00000001","RequestPath":"/api/v1/athlete-profiles","ConnectionId":"0HNH7PDV3F1OM"}
[2025-11-19 19:50:37.905 -05:00 INF] ¿Es ruta pública? false {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7PDV3F1OM:00000001","RequestPath":"/api/v1/athlete-profiles","ConnectionId":"0HNH7PDV3F1OM"}
[2025-11-19 19:50:37.907 -05:00 INF] Ruta privada detectada: /api/v1/athlete-profiles {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7PDV3F1OM:00000001","RequestPath":"/api/v1/athlete-profiles","ConnectionId":"0HNH7PDV3F1OM"}
[2025-11-19 19:50:51.293 -05:00 INF] Verificando ruta: /api/v1/contactos/stats {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7PDV3F1ON:00000001","RequestPath":"/api/v1/contactos/stats","ConnectionId":"0HNH7PDV3F1ON"}
[2025-11-19 19:50:51.296 -05:00 INF] Rutas públicas configuradas: /, /api/v1/auth/login, /api/v1/auth/register, /api/v1/auth/status, /api/v1/auth/generar-tokens-aplicacion, /api/v1/auth/validar-access-token, /api/v1/auth/renovar-tokens, /api/v1/auth/revocar-tokens, /api/v1/auth/tokens-aplicacion, /api/v1/aplicaciones, /swagger, /swagger/index.html, /swagger/v1/swagger.json, /api/docs, /chathub {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7PDV3F1ON:00000001","RequestPath":"/api/v1/contactos/stats","ConnectionId":"0HNH7PDV3F1ON"}
[2025-11-19 19:50:51.298 -05:00 INF] ¿Es ruta pública? false {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7PDV3F1ON:00000001","RequestPath":"/api/v1/contactos/stats","ConnectionId":"0HNH7PDV3F1ON"}
[2025-11-19 19:50:51.300 -05:00 INF] Ruta privada detectada: /api/v1/contactos/stats {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7PDV3F1ON:00000001","RequestPath":"/api/v1/contactos/stats","ConnectionId":"0HNH7PDV3F1ON"}
[2025-11-19 20:19:33.050 -05:00 INF] Iniciando aplicación ChatModular API {}
[2025-11-19 20:19:33.094 -05:00 INF] Servidor escuchando en: http://localhost:5405;http://localhost:5406 {}
[2025-11-19 20:20:00.488 -05:00 WRN] Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH7QBMEEBI3:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7QBMEEBI3"}
[2025-11-19 20:20:00.507 -05:00 INF] HTTP Request - Method: POST, Path: /api/v1/auth/login, Body: {"cUsuarioCodigo":"JSANCHEZ","cUsuarioContra":"jeysson12345","cTokenAcceso":"AT_6cbeb6faba662bffb1e9b0cdc3a96670","cTokenSecreto":"ST_0b2c702f3fd200f0fc9ddb02624a21bc9d8be4fa96672504"} {"SourceContext":"ChatModularMicroservice.Api.Middleware.RequestBodyMiddleware","RequestId":"0HNH7QBMEEBI3:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7QBMEEBI3"}
[2025-11-19 20:20:00.513 -05:00 INF] Verificando ruta: /api/v1/auth/login {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7QBMEEBI3:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7QBMEEBI3"}
[2025-11-19 20:20:00.517 -05:00 INF] Rutas públicas configuradas: /, /api/v1/auth/login, /api/v1/auth/register, /api/v1/auth/status, /api/v1/auth/generar-tokens-aplicacion, /api/v1/auth/validar-access-token, /api/v1/auth/renovar-tokens, /api/v1/auth/revocar-tokens, /api/v1/auth/tokens-aplicacion, /api/v1/aplicaciones, /swagger, /swagger/index.html, /swagger/v1/swagger.json, /api/docs, /chathub {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7QBMEEBI3:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7QBMEEBI3"}
[2025-11-19 20:20:00.521 -05:00 INF] ¿Es ruta pública? true {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7QBMEEBI3:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7QBMEEBI3"}
[2025-11-19 20:20:00.523 -05:00 INF] Ruta pública detectada: /api/v1/auth/login {"SourceContext":"ChatModularMicroservice.Api.Middleware.AuthValidationMiddleware","RequestId":"0HNH7QBMEEBI3:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7QBMEEBI3"}
[2025-11-19 20:20:01.354 -05:00 ERR] Error getting app by access token {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.AppRegistroRepository","ActionId":"fbf976de-07df-4223-a3c3-3e3715885b07","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7QBMEEBI3:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7QBMEEBI3"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"PGRST205","details":null,"hint":"Perhaps you meant the table 'public.training_distributions'","message":"Could not find the table 'public.AppRegistros' in the schema cache"}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.Repositories.AppRegistroRepository.GetByAccessTokenAsync(String accessToken) in D:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\AppRegistroRepository.cs:line 60
[2025-11-19 20:20:01.373 -05:00 INF] AppRegistros no existe, retornando configuración por defecto para: SICOM_CHAT_2024 {"SourceContext":"ChatModularMicroservice.Infrastructure.Repositories.AppRegistroRepository","ActionId":"fbf976de-07df-4223-a3c3-3e3715885b07","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7QBMEEBI3:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7QBMEEBI3"}
[2025-11-19 20:20:01.377 -05:00 INF] Buscando usuario por código: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Domain.AuthService","ActionId":"fbf976de-07df-4223-a3c3-3e3715885b07","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7QBMEEBI3:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7QBMEEBI3"}
[2025-11-19 20:20:01.381 -05:00 INF] GetByUserCodeAsync: Buscando usuario por código: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"fbf976de-07df-4223-a3c3-3e3715885b07","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7QBMEEBI3:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7QBMEEBI3"}
[2025-11-19 20:20:01.385 -05:00 INF] GetByEmailAsync: Buscando usuario por email en athlete_profiles: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"fbf976de-07df-4223-a3c3-3e3715885b07","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7QBMEEBI3:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7QBMEEBI3"}
[2025-11-19 20:20:01.736 -05:00 INF] GetByEmailAsync: Usuario no encontrado por email: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"fbf976de-07df-4223-a3c3-3e3715885b07","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7QBMEEBI3:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7QBMEEBI3"}
[2025-11-19 20:20:01.745 -05:00 INF] GetByUsernameAsync: Buscando usuario por username (como email) en athlete_profiles: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"fbf976de-07df-4223-a3c3-3e3715885b07","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7QBMEEBI3:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7QBMEEBI3"}
[2025-11-19 20:20:01.963 -05:00 INF] GetByUsernameAsync: Usuario no encontrado por username: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"fbf976de-07df-4223-a3c3-3e3715885b07","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7QBMEEBI3:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7QBMEEBI3"}
[2025-11-19 20:20:02.440 -05:00 WRN] Usuario no encontrado por UserId: JSANCHEZ {"SourceContext":"ChatModularMicroservice.Infrastructure.UsuarioRepository","ActionId":"fbf976de-07df-4223-a3c3-3e3715885b07","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7QBMEEBI3:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7QBMEEBI3"}
Supabase.Postgrest.Exceptions.PostgrestException: {"code":"22P02","details":null,"hint":null,"message":"invalid input syntax for type uuid: \"JSANCHEZ\""}
   at Supabase.Postgrest.Helpers.MakeRequest(ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, CancellationToken cancellationToken)
   at Supabase.Postgrest.Helpers.MakeRequest[T](ClientOptions clientOptions, HttpMethod method, String url, JsonSerializerSettings serializerSettings, Object data, Dictionary`2 headers, Func`1 getHeaders, CancellationToken cancellationToken)
   at Supabase.Postgrest.Table`1.Single(CancellationToken cancellationToken)
   at ChatModularMicroservice.Infrastructure.UsuarioRepository.GetByUserCodeAsync(String userCode) in D:\Chat\ChatBackend\ChatModularAPI\01.Layer Infrastructure\ChatModularMicroservice.Infrastructure\UsuarioRepository.cs:line 742
[2025-11-19 20:20:02.463 -05:00 INF] Resultado búsqueda usuario: encontrado=false {"SourceContext":"ChatModularMicroservice.Domain.AuthService","ActionId":"fbf976de-07df-4223-a3c3-3e3715885b07","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7QBMEEBI3:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7QBMEEBI3"}
[2025-11-19 20:20:02.468 -05:00 WRN] Login fallido: usuario no encontrado o inactivo. cUsuarioCodigo=JSANCHEZ {"SourceContext":"ChatModularMicroservice.Domain.AuthService","ActionId":"fbf976de-07df-4223-a3c3-3e3715885b07","ActionName":"ChatModularMicroservice.Api.Controllers.AuthController.Login (ChatModularMicroservice.Api)","RequestId":"0HNH7QBMEEBI3:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNH7QBMEEBI3"}
